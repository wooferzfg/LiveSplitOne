"use strict";(self.webpackChunklivesplit=self.webpackChunklivesplit||[]).push([[710],{8946:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(1601),r=s.n(i),o=s(6314),n=s.n(o)()(r());n.push([t.id,".about{max-width:700px}.about .about-inner-container{background-color:#121212;padding:16px;border:1px solid #404040;width:fit-content}.about .about-inner-container .livesplit-title{display:flex;align-items:center}.about .about-inner-container .livesplit-title .livesplit-icon{height:40px;margin-right:8px}.about .about-inner-container .livesplit-title .livesplit-icon img{height:100%}.about .about-inner-container .livesplit-title .title-text{font-weight:bold;font-size:40px}.about .about-inner-container .build-version{font-size:12px}.about .about-inner-container h2{margin-bottom:16px}.about .about-inner-container a{color:#56b0ff}.about .about-inner-container .changelog{margin-left:16px}.about .about-inner-container .changelog>div{margin:16px 0 16px 16px}.about .about-inner-container .contributors{margin:0 auto;display:flex;flex-wrap:wrap;gap:14px;justify-content:space-evenly;align-items:end;font-size:14px}.about .about-inner-container .contributors a{display:flex;align-items:center;flex-direction:column;gap:4px}.about .about-inner-container .contributors a img{width:42px;height:42px;border-radius:50%}.is-mobile .about .about-inner-container{box-sizing:border-box}.is-mobile .about{max-width:100%}",""]),n.locals={buttonHeight:"40px",largeMargin:"16px",manualGameTimeHeight:"25px",contributorAvatarSize:"42px"};const a=n},7330:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(1601),r=s.n(i),o=s(6314),n=s.n(o)()(r());n.push([t.id,".color-picker-button{border:2px solid #fff;border-radius:2px;box-shadow:0 0 0 1px rgba(0,0,0,.1);cursor:pointer;box-sizing:border-box;height:19px}",""]),n.locals={buttonHeight:"40px",largeMargin:"16px",manualGameTimeHeight:"25px",contributorAvatarSize:"42px"};const a=n},2858:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(1601),r=s.n(i),o=s(6314),n=s.n(o)()(r());n.push([t.id,"#upload-drop-zone{position:absolute;top:0;left:0;right:0;bottom:0}#upload-drop-zone #upload-drop-zone-overlay{position:absolute;width:calc(100% + 2*24px);height:calc(100% + 2*24px);margin:-24px;visibility:hidden;pointer-events:none;background-color:rgba(50,50,50,.7);z-index:3;display:flex;justify-content:center;align-items:center}.is-mobile #upload-drop-zone #upload-drop-zone-overlay{width:100%;height:100%;margin:0}#upload-drop-zone #upload-drop-zone-overlay .overlay-text{font-size:50px;text-align:center}",""]),n.locals={buttonHeight:"40px",largeMargin:"16px",manualGameTimeHeight:"25px",contributorAvatarSize:"42px"};const a=n},2991:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(1601),r=s.n(i),o=s(6314),n=s.n(o)()(r());n.push([t.id,".hotkey-box{display:grid;grid-template-columns:1fr 30px;column-gap:8px}.hotkey-box button{margin:0px;font-size:16px;height:22px}.hotkey-box .hotkey-button.focused{color:red}",""]),n.locals={buttonHeight:"40px",largeMargin:"16px",manualGameTimeHeight:"25px",contributorAvatarSize:"42px"};const a=n},8619:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(1601),r=s.n(i),o=s(6314),n=s.n(o)()(r());n.push([t.id,".text-font{font-family:var(--text-font-family);font-style:var(--text-font-style);font-weight:var(--text-font-weight);font-stretch:var(--text-font-stretch)}.times-font{font-family:var(--times-font-family);font-style:var(--times-font-style);font-weight:var(--times-font-weight);font-stretch:var(--times-font-stretch)}.timer-font{font-family:var(--timer-font-family);font-style:var(--timer-font-style);font-weight:var(--timer-font-weight);font-stretch:var(--timer-font-stretch)}.layout .resizable-layout{position:absolute;top:0;width:inherit;height:inherit}.layout .resizable-layout .react-resizable{width:0 !important;height:0 !important}.layout .resizable-layout .resizable-handle-east{cursor:e-resize;right:-10px;bottom:10px;top:0;position:absolute;width:20px}.layout .resizable-layout .resizable-handle-south{cursor:s-resize;bottom:-10px;left:0;right:10px;position:absolute;height:20px}.layout .resizable-layout .resizable-handle-south-east{cursor:se-resize;bottom:-10px;right:-10px;position:absolute;width:20px;height:20px}",""]),n.locals={};const a=n},390:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(1601),r=s.n(i),o=s(6314),n=s.n(o)()(r());n.push([t.id,'.layout-editor-outer{display:inline-flex}.layout-editor-outer .react-contextmenu{min-width:160px;padding:4px 0;margin:2px 0 0;font-size:16px;text-align:left;background-color:#0b0b0b;background-clip:padding-box;border:1px solid #404040;border-radius:.25rem;outline:none;opacity:0;pointer-events:none;transition:opacity 250ms ease !important;z-index:3}.layout-editor-outer .react-contextmenu.react-contextmenu--visible{opacity:1;pointer-events:auto}.layout-editor-outer .react-contextmenu .react-contextmenu-item{padding:4px 8px;font-weight:400;text-align:inherit;white-space:nowrap;background:0 0;border:0;cursor:pointer}.layout-editor-outer .react-contextmenu .react-contextmenu-item--divider{margin-bottom:4px;padding:4px 0 0 0;border-bottom:1px solid #404040;cursor:inherit}.layout-editor-outer .react-contextmenu .react-contextmenu-item--selected{background:linear-gradient(rgb(51, 115, 244) 0%, rgb(21, 53, 116) 100%)}.layout-editor-outer .table{box-shadow:0 1px 3px rgba(0,0,0,.2);display:table;border:1px solid #404040;border-collapse:collapse}.layout-editor-outer .table .table-row-even{display:table-row;background:#0b0b0b !important}.layout-editor-outer .table .table-row-odd{display:table-row;background:#121212 !important}.layout-editor-outer .table-body{display:table-row-group}.layout-editor-outer .table-body>tr{display:table-row;background:#0b0b0b}.layout-editor-outer .table-body>tr>td{padding:4px 4px;display:table-cell}.layout-editor-outer .table-body>tr>td:first-child{padding-left:8px}.layout-editor-outer .table-body>tr>td:last-child{padding-right:8px}.layout-editor-outer .table-body>tr:nth-of-type(odd){background:#121212}.layout-editor-outer .number{text-align:right;font-weight:bold;font-variant-numeric:tabular-nums}.layout-editor-outer .selected{background:linear-gradient(rgb(51, 115, 244) 0%, rgb(21, 53, 116) 100%) !important}.layout-editor-outer .tab-bar>button{font-size:15px;height:30px;border-bottom-right-radius:0px;border-bottom-left-radius:0px;margin-bottom:0px;border-bottom:0px}.layout-editor-outer tr>td>input{margin-right:-40px}.layout-editor-outer tr>td>input:focus{outline:0}.layout-editor-outer input{font-size:15px;border:none;border-bottom:1px solid rgba(255,255,255,.25);background:rgba(0,0,0,0);color:#fff;text-overflow:ellipsis;font-family:"fira",sans-serif}.layout-editor-outer input[Type=text]{font-family:inherit}.layout-editor-outer select{background:#0b0b0b;font-size:15px;border:1px solid #404040;color:#fff;text-overflow:ellipsis;font-family:"fira",sans-serif}.layout-editor-outer .settings-table{width:500px}.layout-editor-outer .settings-table tr{height:30px}.layout-editor-outer .settings-table tr td:first-child{width:100%}.layout-editor-outer .settings-table tr .settings-value-box{width:234px;display:grid;column-gap:8px;row-gap:8px;grid-template-columns:100%}.layout-editor-outer .settings-table tr .settings-value-box input{height:19px;box-sizing:border-box}.layout-editor-outer .settings-table tr .settings-value-box input:focus{outline:0}.layout-editor-outer .settings-table tr .settings-value-box select{height:19px;min-width:80px}.layout-editor-outer .settings-table tr .settings-value-box.optional-value{grid-template-columns:max-content 1fr}.layout-editor-outer .settings-table tr .settings-value-box.two-colors{grid-template-columns:1fr 45px 45px}.layout-editor-outer .settings-table tr .settings-value-box.one-color{grid-template-columns:1fr 45px}.layout-editor-outer .settings-table tr .settings-value-box.removable-string{grid-template-columns:1fr 30px}.layout-editor-outer .settings-table tr .settings-value-box.removable-string button{margin:0px;font-size:12px;height:19px}.is-mobile .layout-editor-outer .settings-table{width:100%}.layout-editor-outer .toggle-left{border-top-right-radius:0px;border-bottom-right-radius:0px}.layout-editor-outer .toggle-right{border-top-left-radius:0px;border-bottom-left-radius:0px}.layout-editor-outer .toggle-middle{border-radius:0px}.layout-editor-outer .button-pressed,.layout-editor-outer .button-pressed:hover{background:linear-gradient(hsl(0, 0%, 13%) 0%, hsl(0, 0%, 23%) 100%)}.layout-editor-outer .button-pressed.disabled{background:#222;color:#666;cursor:default}.layout-editor-outer .layout-editor-inner{width:500px;display:inline-flex;margin-bottom:8px}.layout-editor-outer .layout-editor-inner table{width:100%}.layout-editor-outer .layout-editor-inner .btn-group{display:flex;flex-direction:column}.layout-editor-outer .layout-editor-inner .btn-group button{width:40px;font-size:15px;display:block}.layout-editor-outer .layout-editor-inner .btn-group button:nth-child(1){margin-top:0}.is-mobile .layout-editor-outer .layout-editor-inner .btn-group{flex-direction:row;margin-left:8px;margin-top:8px}.is-mobile .layout-editor-outer .layout-editor-inner .btn-group button{margin:0 8px 16px 0}.is-mobile .layout-editor-outer .layout-editor-inner{flex-wrap:wrap;width:100%;margin-bottom:0}.layout-editor-outer .layout-editor-component-list{margin-left:16px}.is-mobile .layout-editor-outer .layout-editor-component-list{margin-left:0;margin-bottom:16px}.layout-editor-outer .layout-editor-component{cursor:pointer}.layout-editor-outer .layout-container{margin-left:16px}.is-mobile .layout-editor-outer .layout-container{margin-left:0;margin-top:16px}.is-mobile .layout-editor-outer{flex-wrap:wrap}.is-mobile .layout-editor-outer .layout-editor-inner-container{width:100%}.is-mobile .layout-editor-outer .layout-editor-tabs button{margin-top:0}',""]),n.locals={buttonHeight:"40px",largeMargin:"16px",manualGameTimeHeight:"25px",contributorAvatarSize:"42px"};const a=n},1165:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(1601),r=s.n(i),o=s(6314),n=s.n(o)()(r());n.push([t.id,'.sidebar-overlay{z-index:3 !important}.sidebar{background:#1a1a1a;padding:8px;width:250px;z-index:4 !important}.sidebar .toggle-left{border-top-right-radius:0px;border-bottom-right-radius:0px}.sidebar .toggle-right{border-top-left-radius:0px;border-bottom-left-radius:0px}.sidebar .toggle-middle{border-radius:0px}.sidebar .button-pressed,.sidebar .button-pressed:hover{background:linear-gradient(hsl(0, 0%, 13%) 0%, hsl(0, 0%, 23%) 100%)}.sidebar .button-pressed.disabled{background:#222;color:#666;cursor:default}.sidebar>div>div.small>button{width:50%;font-size:18px}.sidebar .sidebar-buttons hr{border-color:#404040;margin:12px 0}.sidebar .sidebar-buttons hr.livesplit-title-separator{margin-top:0}.sidebar .sidebar-buttons h1,.sidebar .sidebar-buttons h2{text-align:center;margin-top:16px;margin-bottom:16px}.sidebar .sidebar-buttons h1{font-size:24px}.sidebar .sidebar-buttons h2{font-size:22px;margin-bottom:8px}.sidebar .sidebar-buttons>button{width:100%}.sidebar .sidebar-buttons .livesplit-title{display:flex;justify-content:center;align-items:center}.sidebar .sidebar-buttons .livesplit-title .livesplit-icon{height:40px;margin-right:8px}.sidebar .sidebar-buttons .livesplit-title .livesplit-icon img{height:100%}.sidebar .sidebar-buttons .modified-icon{position:absolute;font-size:10px;padding-left:5px}.sidebar .choose-comparison{margin-bottom:4px;padding:0 6px 0 6px;width:100%;height:40px;appearance:none;background:#171717;border:1px solid #404040;border-radius:5px;color:#fff;cursor:pointer;font-family:"fira",sans-serif;font-size:20px;text-align:center;text-overflow:ellipsis}.livesplit-container .sidebar-button{position:fixed;bottom:8px;left:8px;z-index:10;font-size:24px;padding:8px;margin:0;height:42px}.livesplit-container .view-container{position:relative;display:inline-block;vertical-align:top;min-width:calc(100% - 2*24px);min-height:calc(100% - 2*24px);margin:24px}.is-mobile .livesplit-container .view-container{display:block;margin:0 0 58px 0;min-width:100%;min-height:calc(100% - 58px)}',""]),n.locals={buttonHeight:"40px",largeMargin:"16px",manualGameTimeHeight:"25px",contributorAvatarSize:"42px"};const a=n},5594:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(1601),r=s.n(i),o=s(6314),n=s.n(o)()(r());n.push([t.id,".livesplit-server-button{margin:0px;font-size:16px;height:22px}",""]),n.locals={};const a=n},7927:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(1601),r=s.n(i),o=s(6314),n=s.n(o)()(r());n.push([t.id,'.run-editor .react-contextmenu{min-width:160px;padding:4px 0;margin:2px 0 0;font-size:16px;text-align:left;background-color:#0b0b0b;background-clip:padding-box;border:1px solid #404040;border-radius:.25rem;outline:none;opacity:0;pointer-events:none;transition:opacity 250ms ease !important;z-index:3}.run-editor .react-contextmenu.react-contextmenu--visible{opacity:1;pointer-events:auto}.run-editor .react-contextmenu .react-contextmenu-item{padding:4px 8px;font-weight:400;text-align:inherit;white-space:nowrap;background:0 0;border:0;cursor:pointer}.run-editor .react-contextmenu .react-contextmenu-item--divider{margin-bottom:4px;padding:4px 0 0 0;border-bottom:1px solid #404040;cursor:inherit}.run-editor .react-contextmenu .react-contextmenu-item--selected{background:linear-gradient(rgb(51, 115, 244) 0%, rgb(21, 53, 116) 100%)}.run-editor .flag{padding-right:4px;height:14px;width:18px;object-fit:contain;vertical-align:middle}.run-editor .markdown span{line-height:125%}.run-editor .markdown img{vertical-align:middle}.run-editor code{padding:2px 4px;font-size:90%;color:#ffea80}.run-editor pre{border-radius:4px;border-color:#404040;border-style:solid;border-width:2px;padding:10px}.run-editor code,.run-editor kbd,.run-editor pre,.run-editor samp{font-family:Menlo,Monaco,Consolas,"Courier New",monospace}.run-editor .table{box-shadow:0 1px 3px rgba(0,0,0,.2);display:table;border:1px solid #404040;border-collapse:collapse}.run-editor .table .table-row-even{display:table-row;background:#0b0b0b !important}.run-editor .table .table-row-odd{display:table-row;background:#121212 !important}.run-editor .table-body{display:table-row-group}.run-editor .table-body>tr{display:table-row;background:#0b0b0b}.run-editor .table-body>tr>td{padding:4px 4px;display:table-cell}.run-editor .table-body>tr>td:first-child{padding-left:8px}.run-editor .table-body>tr>td:last-child{padding-right:8px}.run-editor .table-body>tr:nth-of-type(odd){background:#121212}.run-editor .number{text-align:right;font-weight:bold;font-variant-numeric:tabular-nums}.run-editor .selected{background:linear-gradient(rgb(51, 115, 244) 0%, rgb(21, 53, 116) 100%) !important}.run-editor .tab-bar>button{font-size:15px;height:30px;border-bottom-right-radius:0px;border-bottom-left-radius:0px;margin-bottom:0px;border-bottom:0px}.run-editor tr>td>input{margin-right:-40px}.run-editor tr>td>input:focus{outline:0}.run-editor input{font-size:15px;border:none;border-bottom:1px solid rgba(255,255,255,.25);background:rgba(0,0,0,0);color:#fff;text-overflow:ellipsis;font-family:"fira",sans-serif}.run-editor input[Type=text]{font-family:inherit}.run-editor select{background:#0b0b0b;font-size:15px;border:1px solid #404040;color:#fff;text-overflow:ellipsis;font-family:"fira",sans-serif}.run-editor .settings-table{width:500px}.run-editor .settings-table tr{height:30px}.run-editor .settings-table tr td:first-child{width:100%}.run-editor .settings-table tr .settings-value-box{width:234px;display:grid;column-gap:8px;row-gap:8px;grid-template-columns:100%}.run-editor .settings-table tr .settings-value-box input{height:19px;box-sizing:border-box}.run-editor .settings-table tr .settings-value-box input:focus{outline:0}.run-editor .settings-table tr .settings-value-box select{height:19px;min-width:80px}.run-editor .settings-table tr .settings-value-box.optional-value{grid-template-columns:max-content 1fr}.run-editor .settings-table tr .settings-value-box.two-colors{grid-template-columns:1fr 45px 45px}.run-editor .settings-table tr .settings-value-box.one-color{grid-template-columns:1fr 45px}.run-editor .settings-table tr .settings-value-box.removable-string{grid-template-columns:1fr 30px}.run-editor .settings-table tr .settings-value-box.removable-string button{margin:0px;font-size:12px;height:19px}.is-mobile .run-editor .settings-table{width:100%}.run-editor .toggle-left{border-top-right-radius:0px;border-bottom-right-radius:0px}.run-editor .toggle-right{border-top-left-radius:0px;border-bottom-left-radius:0px}.run-editor .toggle-middle{border-radius:0px}.run-editor .button-pressed,.run-editor .button-pressed:hover{background:linear-gradient(hsl(0, 0%, 13%) 0%, hsl(0, 0%, 23%) 100%)}.run-editor .button-pressed.disabled{background:#222;color:#666;cursor:default}.run-editor thead.table-header{border-bottom:solid 1px #404040}.run-editor .table-header>tr>th{font-weight:bold;text-align:center}.run-editor .table-header>tr>th:nth-child(1):after{margin:0;margin-left:-4px;margin-right:7px}.run-editor .table>.table-header>tr{display:table-row;background:#090909}.run-editor .table>.table-header>tr>th{padding:4px 4px;display:table-cell}.run-editor .table>.table-header>tr>th:first-child{padding-left:8px}.run-editor .table>.table-header>tr>th:last-child{padding-right:8px}.run-editor .run-editor-additional-info{box-shadow:0 1px 3px rgba(0,0,0,.2);background-color:#121212;width:625px}.run-editor .run-editor-additional-info .run-editor-rules{padding-left:8px;padding-right:8px;border:1px solid #404040;border-collapse:collapse}.run-editor .run-editor-tab{margin-left:8px;min-width:625px;box-sizing:border-box}.run-editor .run-editor-tab .settings-table{width:100%}.is-mobile .run-editor .run-editor-tab{width:100%;min-width:0;margin-left:0}.run-editor .video-outer-container{width:100%;padding-top:56.25%;margin-top:4px;position:relative}.run-editor .video-outer-container .video-inner-container{width:100%;height:100%;position:absolute;top:0}.run-editor .video-outer-container .video-inner-container iframe{width:100%;height:100%}.run-editor .run-editor-info{display:inline-flex;align-items:flex-start;margin-bottom:12px}.run-editor .run-editor-info .game-icon-container{background-color:#121212;border:1px solid #404040;cursor:pointer;box-sizing:border-box;width:160px;height:160px;padding:8px}.run-editor .run-editor-info .game-icon-container .game-icon-image{object-fit:contain;width:144px;height:144px}.is-mobile .run-editor .run-editor-info .game-icon-container .game-icon-image{width:84px;height:84px}.is-mobile .run-editor .run-editor-info .game-icon-container{width:100px;height:100px;flex-shrink:0}.run-editor .run-editor-info .run-editor-info-table{margin-left:16px;width:625px;display:flex;flex-wrap:wrap}.run-editor .run-editor-info .run-editor-info-table .info-table-row{flex-grow:1;width:100%;display:flex}.run-editor .run-editor-info .run-editor-info-table .info-table-row .info-table-cell{padding:0 8px 8px 0;flex-grow:1}.run-editor .run-editor-info .run-editor-info-table .info-table-row .info-table-cell:last-child{padding-right:0}.is-mobile .run-editor .run-editor-info .run-editor-info-table .info-table-row .info-table-cell:last-child{padding-right:8px}.is-mobile .run-editor .run-editor-info .run-editor-info-table .info-table-row{flex-wrap:wrap}.run-editor .run-editor-info .run-editor-info-table .info-table-row:last-child .info-table-cell{padding-bottom:0}.is-mobile .run-editor .run-editor-info .run-editor-info-table .info-table-row:last-child .info-table-cell{padding-bottom:8px}.is-mobile .run-editor .run-editor-info .run-editor-info-table{width:100%;margin-left:8px;margin-bottom:8px}.is-mobile .run-editor .run-editor-info{margin:8px 0 0 8px}.run-editor table.run-editor-table .number{font-family:inherit}.run-editor table.run-editor-table td{overflow:hidden}.run-editor table.run-editor-table td>input{width:100%;text-overflow:ellipsis}.is-mobile .run-editor table.run-editor-table td>input{font-size:13px}.run-editor table.run-editor-table td.segment-icon-container{width:19px;cursor:pointer}.run-editor table.run-editor-table td.segment-icon-container div{height:19px}.run-editor table.run-editor-table td.segment-icon-container div .segment-icon{width:100%;height:100%;object-fit:contain}.is-mobile .run-editor table.run-editor-table{font-size:13px}.run-editor .bottom-section{display:flex;flex-wrap:wrap}.run-editor .bottom-section .editor-group .tab-bar{margin-left:8px;height:34px}.is-mobile .run-editor .bottom-section .editor-group .tab-bar{height:inherit;margin-left:0}.is-mobile .run-editor .bottom-section .editor-group .tab-bar button{font-size:13px;padding:1px 3px 1px 3px;margin-top:0}.is-mobile .run-editor .bottom-section .editor-group{min-width:100%;margin-top:8px}.is-mobile .run-editor .bottom-section .side-buttons{width:100%}.run-editor .btn-group{display:flex;flex-direction:column;margin-top:34px;margin-right:8px;width:160px}.run-editor .btn-group button{font-size:15px;width:160px;margin-right:0;height:30px}.is-mobile .run-editor .btn-group button{margin-top:0;margin-bottom:8px;margin-right:8px;width:calc(50% - 8px)}.run-editor .btn-group button:nth-child(1){margin-top:0}.is-mobile .run-editor .btn-group{width:calc(100% - 8px);flex-direction:row;flex-wrap:wrap;margin-top:0;margin-left:8px}.run-editor .best-segment-time{color:#ffd500}.run-editor .leaderboard-table .leaderboard-row:hover{background:#404040 !important}.run-editor .leaderboard-table .leaderboard-rank-column,.run-editor .leaderboard-table .splits-download-column{width:36px}.run-editor .leaderboard-table .leaderboard-time-column,.run-editor .leaderboard-table .variable-column{width:100px}.run-editor .leaderboard-table .variable-column,.run-editor .leaderboard-table .splits-download-column{text-align:center}.run-editor .leaderboard-table .leaderboard-expanded-row>td{max-width:0}.run-editor .leaderboard-table .leaderboard-expanded-row .run-meta-table{border-spacing:8px 2px;margin-left:-8px}.run-editor .leaderboard-table .unregistered-user{font-style:italic;color:silver}.is-mobile .run-editor .leaderboard-table{font-size:13px}.run-editor .group{position:relative;border-bottom:1px solid #404040}.run-editor .group>input{font-size:18px;padding:22px 0 4px 4px;display:block;width:100%;border:none;background:rgba(0,0,0,0);color:#fff;font-family:"fira",sans-serif}.run-editor .group>input:focus{outline:none}.run-editor .group>label{color:#bfbfbf;font-size:14px;font-weight:normal;position:absolute;pointer-events:none;left:4px;top:0;transition:.2s ease all;-moz-transition:.2s ease all;-webkit-transition:.2s ease all}.run-editor .group>input:focus~label{color:#ffd500}.run-editor .group.invalid>input:focus~label{color:red}.run-editor .group>.bar{position:relative;display:block;width:100%}.run-editor .group>.bar:before,.run-editor .group>.bar:after{content:"";height:2px;width:0;bottom:0px;position:absolute;background:#ffd500;transition:.2s ease all;-moz-transition:.2s ease all;-webkit-transition:.2s ease all}.run-editor .group>.bar:before{left:50%}.run-editor .group>.bar:after{right:50%}.run-editor .group.invalid>.bar:before,.run-editor .group.invalid>.bar:after{background:red}.run-editor .group>input:focus~.bar:before,.run-editor .group>input:focus~.bar:after{width:50%}.run-editor .filter-table{margin-top:4px;margin-bottom:4px;width:100%}.run-editor .filter-table.table td{padding:4px 8px}.run-editor .filter-table.table tr:first-child>td{padding-top:8px}.run-editor .filter-table.table tr:last-child>td{padding-bottom:8px}.run-editor .filter-table.table>tbody.table-body>tr{background-color:#121212}.run-editor .filter-table.table>thead.table-header>tr{background-color:#090909}.run-editor .filter-table.table.subcategory-table>tbody>tr{border:1px solid #404040;text-align:center;cursor:pointer}.run-editor .filter-table.table.subcategory-table tr:first-child>td{padding-top:4px}.run-editor .filter-table.table.subcategory-table tr:last-child>td{padding-bottom:4px}.run-editor .filter-table.table.subcategory-table>tbody.table-body>tr>td:hover{background:#404040}.run-editor .filter-table.table.subcategory-table>tbody.table-body>tr>td.selected:hover{background:linear-gradient(hsl(220, 90%, 70%) 0%, hsl(220, 69%, 40%) 100%) !important}.is-mobile .run-editor .filter-table{margin:0 0 8px -8px;width:calc(100% + 8px)}',""]),n.locals={buttonHeight:"40px",largeMargin:"16px",manualGameTimeHeight:"25px",contributorAvatarSize:"42px"};const a=n},4229:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(1601),r=s.n(i),o=s(6314),n=s.n(o)()(r());n.push([t.id,'.settings-editor .table{box-shadow:0 1px 3px rgba(0,0,0,.2);display:table;border:1px solid #404040;border-collapse:collapse}.settings-editor .table .table-row-even{display:table-row;background:#0b0b0b !important}.settings-editor .table .table-row-odd{display:table-row;background:#121212 !important}.settings-editor .table-body{display:table-row-group}.settings-editor .table-body>tr{display:table-row;background:#0b0b0b}.settings-editor .table-body>tr>td{padding:4px 4px;display:table-cell}.settings-editor .table-body>tr>td:first-child{padding-left:8px}.settings-editor .table-body>tr>td:last-child{padding-right:8px}.settings-editor .table-body>tr:nth-of-type(odd){background:#121212}.settings-editor .number{text-align:right;font-weight:bold;font-variant-numeric:tabular-nums}.settings-editor .selected{background:linear-gradient(rgb(51, 115, 244) 0%, rgb(21, 53, 116) 100%) !important}.settings-editor .tab-bar>button{font-size:15px;height:30px;border-bottom-right-radius:0px;border-bottom-left-radius:0px;margin-bottom:0px;border-bottom:0px}.settings-editor tr>td>input{margin-right:-40px}.settings-editor tr>td>input:focus{outline:0}.settings-editor input{font-size:15px;border:none;border-bottom:1px solid rgba(255,255,255,.25);background:rgba(0,0,0,0);color:#fff;text-overflow:ellipsis;font-family:"fira",sans-serif}.settings-editor input[Type=text]{font-family:inherit}.settings-editor select{background:#0b0b0b;font-size:15px;border:1px solid #404040;color:#fff;text-overflow:ellipsis;font-family:"fira",sans-serif}.settings-editor .settings-table{width:500px}.settings-editor .settings-table tr{height:30px}.settings-editor .settings-table tr td:first-child{width:100%}.settings-editor .settings-table tr .settings-value-box{width:234px;display:grid;column-gap:8px;row-gap:8px;grid-template-columns:100%}.settings-editor .settings-table tr .settings-value-box input{height:19px;box-sizing:border-box}.settings-editor .settings-table tr .settings-value-box input:focus{outline:0}.settings-editor .settings-table tr .settings-value-box select{height:19px;min-width:80px}.settings-editor .settings-table tr .settings-value-box.optional-value{grid-template-columns:max-content 1fr}.settings-editor .settings-table tr .settings-value-box.two-colors{grid-template-columns:1fr 45px 45px}.settings-editor .settings-table tr .settings-value-box.one-color{grid-template-columns:1fr 45px}.settings-editor .settings-table tr .settings-value-box.removable-string{grid-template-columns:1fr 30px}.settings-editor .settings-table tr .settings-value-box.removable-string button{margin:0px;font-size:12px;height:19px}.is-mobile .settings-editor .settings-table{width:100%}.is-mobile .settings-editor .settings-table{width:100%}.is-mobile .settings-editor .settings-table>tbody>tr>td:nth-child(1){width:50%}',""]),n.locals={buttonHeight:"40px",largeMargin:"16px",manualGameTimeHeight:"25px",contributorAvatarSize:"42px"};const a=n},3962:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(1601),r=s.n(i),o=s(6314),n=s.n(o)()(r());n.push([t.id,".splits-selection .loading{display:flex;width:fit-content;font-size:40px}.splits-selection .loading .loading-text{margin-left:8px}.splits-selection .splits-selection-container{display:flex;flex-wrap:nowrap;flex-direction:column}.splits-selection .splits-selection-container .main-actions{display:flex;justify-content:flex-start}.splits-selection .splits-selection-container .main-actions button{margin-top:0;margin-bottom:8px;margin-right:8px}.is-mobile .splits-selection .splits-selection-container .main-actions{margin-top:8px;margin-left:8px}.splits-selection .splits-selection-container .splits-table{background-color:#0b0b0b;border:1px solid #404040;margin:8px 0;width:fit-content}.splits-selection .splits-selection-container .splits-table .splits-row{display:flex;flex-wrap:nowrap;align-items:center;padding:8px;height:40px;width:500px}.splits-selection .splits-selection-container .splits-table .splits-row:nth-of-type(odd){background-color:#121212}.splits-selection .splits-selection-container .splits-table .splits-row.selected{background:linear-gradient(rgb(51, 115, 244) 0%, rgb(21, 53, 116) 100%)}.splits-selection .splits-selection-container .splits-table .splits-row .splits-title-text{flex-grow:1;overflow:hidden}.splits-selection .splits-selection-container .splits-table .splits-row .splits-title-text .splits-text{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.splits-selection .splits-selection-container .splits-table .splits-row .splits-title-text .splits-text.splits-game{margin-bottom:8px}.splits-selection .splits-selection-container .splits-table .splits-row.selected .splits-row-buttons button{opacity:70%}.splits-selection .splits-selection-container .splits-table .splits-row .splits-row-buttons{flex-shrink:0;margin-left:16px}.splits-selection .splits-selection-container .splits-table .splits-row .splits-row-buttons .react-contextmenu{min-width:160px;padding:4px 0;margin:2px 0 0;font-size:16px;text-align:left;background-color:#0b0b0b;background-clip:padding-box;border:1px solid #404040;border-radius:.25rem;outline:none;opacity:0;pointer-events:none;transition:opacity 250ms ease !important;z-index:3}.splits-selection .splits-selection-container .splits-table .splits-row .splits-row-buttons .react-contextmenu.react-contextmenu--visible{opacity:1;pointer-events:auto}.splits-selection .splits-selection-container .splits-table .splits-row .splits-row-buttons .react-contextmenu .react-contextmenu-item{padding:4px 8px;font-weight:400;text-align:inherit;white-space:nowrap;background:0 0;border:0;cursor:pointer}.splits-selection .splits-selection-container .splits-table .splits-row .splits-row-buttons .react-contextmenu .react-contextmenu-item--divider{margin-bottom:4px;padding:4px 0 0 0;border-bottom:1px solid #404040;cursor:inherit}.splits-selection .splits-selection-container .splits-table .splits-row .splits-row-buttons .react-contextmenu .react-contextmenu-item--selected{background:linear-gradient(rgb(51, 115, 244) 0%, rgb(21, 53, 116) 100%)}.splits-selection .splits-selection-container .splits-table .splits-row .splits-row-buttons button{background:rgba(0,0,0,0);border:0;opacity:50%;margin:0;transition:.3s;color:#fff}.splits-selection .splits-selection-container .splits-table .splits-row .splits-row-buttons button:hover{opacity:100%}.splits-selection .splits-selection-container .splits-table .splits-row .splits-row-buttons button:not(:last-child){margin-right:8px}.is-mobile .splits-selection .splits-selection-container .splits-table .splits-row{width:100%;box-sizing:border-box;height:56px}.is-mobile .splits-selection .splits-selection-container .splits-table{width:100%;box-sizing:border-box}",""]),n.locals={buttonHeight:"40px",largeMargin:"16px",manualGameTimeHeight:"25px",contributorAvatarSize:"42px"};const a=n},8331:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(1601),r=s.n(i),o=s(6314),n=s.n(o)()(r());n.push([t.id,'.buttons{margin-top:12px}.buttons .small button{width:calc(50% - 4px);max-width:300px}.buttons .small button:first-child{margin-right:4px}.buttons .small button:last-child{margin-left:4px}.buttons .manual-game-time{width:calc(100% - 4px);max-width:604px;color:#eee;background-color:rgba(0,0,0,0);border:none;border-bottom:2px solid #aaa;text-align:right;font-family:"fira",sans-serif;font-weight:bold;font-size:25px;height:25px}.buttons .manual-game-time:focus{outline:none}.buttons .manual-game-time::placeholder{font-size:15px}.is-mobile .buttons{padding:0 8px;width:calc(100% - 16px) !important}',""]),n.locals={buttonHeight:"40px",largeMargin:"16px",manualGameTimeHeight:"25px",contributorAvatarSize:"42px"};const a=n},6796:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(1601),r=s.n(i),o=s(6314),n=s.n(o)()(r());n.push([t.id,".toggle-checkbox{display:flex;justify-content:center;align-items:center}.toggle-checkbox .react-toggle .react-toggle-track{background:#222;width:36px;height:19px;border-radius:20px}.toggle-checkbox .react-toggle:hover:not(.react-toggle--disabled) .react-toggle-track{background:#404040}.toggle-checkbox .react-toggle--checked .react-toggle-track{background:#1e4491}.toggle-checkbox .react-toggle--checked:hover:not(.react-toggle--disabled) .react-toggle-track{background:#2356bd}.toggle-checkbox .react-toggle--checked .react-toggle-thumb{left:18px}.toggle-checkbox .react-toggle .react-toggle-thumb{width:17px;height:17px;border:none;box-shadow:none !important}",""]),n.locals={buttonHeight:"40px",largeMargin:"16px",manualGameTimeHeight:"25px",contributorAvatarSize:"42px"};const a=n},1072:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(1601),r=s.n(i),o=s(6314),n=s.n(o)()(r());n.push([t.id,".tooltip{position:relative}.tooltip .tooltip-text{visibility:hidden;width:300px;background-color:#1a1a1a;border:1px solid #404040;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:1;bottom:calc(100% + 8px);left:50%;margin-left:-150px;opacity:0;transition:opacity .25s;transition-delay:.25s;text-wrap:initial;font-weight:initial}.is-mobile .tooltip .tooltip-text{left:0;margin-left:0}.react-contextmenu-item.tooltip .tooltip-text{bottom:initial;left:calc(100% + 8px);margin-left:0;top:0}.tooltip:hover .tooltip-text{visibility:visible;opacity:1}",""]),n.locals={buttonHeight:"40px",largeMargin:"16px",manualGameTimeHeight:"25px",contributorAvatarSize:"42px"};const a=n},6654:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(1601),r=s.n(i),o=s(6314),n=s.n(o)()(r());n.push([t.id,"",""]),n.locals={buttonHeight:"40px",largeMargin:"16px",manualGameTimeHeight:"25px",contributorAvatarSize:"42px"};const a=n},3152:(t,e,s)=>{s.r(e),s.d(e,{LiveSplit:()=>Po,MenuKind:()=>Do,hotkeySystem:()=>Oo});var i=s(6540),r=s(7884),o=s(8046),n=s(4862);(0,n.lI)(o);var a=function(t,e,s){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var i;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:i,async:s})}else s&&t.stack.push({async:!0});return e},l=function(t){return function(e){function s(s){e.error=e.hasError?new t(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}return function t(){for(;e.stack.length;){var i=e.stack.pop();try{var r=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(r).then(t,(function(e){return s(e),t()}))}catch(t){s(t)}}if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,s){var i=new Error(s);return i.name="SuppressedError",i.error=t,i.suppressed=e,i});const p=new TextEncoder,d=new TextDecoder;function c(t){const e=t.length,s=o.alloc(e);return new Uint8Array(o.memory.buffer,s,e).set(t),{ptr:s,len:e,cap:e}}function h(t){const e=3*t.length+1,s=o.alloc(e),i=new Uint8Array(o.memory.buffer,s,e),r=p.encodeInto(t,i);return i[r.written]=0,{ptr:s,len:r.written,cap:e}}function u(t){const e=new Uint8Array(o.memory.buffer),s=o.get_buf_len();return e.slice(t,t+s)}function m(t){return d.decode(u(t))}function g(t){o.dealloc(t.ptr,t.cap)}var f,b;!function(t){t[t.RealTime=0]="RealTime",t[t.GameTime=1]="GameTime"}(f||(f={})),function(t){t[t.NotRunning=0]="NotRunning",t[t.Running=1]="Running",t[t.Ended=2]="Ended",t[t.Paused=3]="Paused"}(b||(b={}));Symbol.dispose;class w{ptr;isSynchronized(){if(0==this.ptr)throw"this is disposed";return 0!=o.AtomicDateTime_is_synchronized(this.ptr)}toRfc3339(){if(0==this.ptr)throw"this is disposed";return m(o.AtomicDateTime_to_rfc3339(this.ptr))}constructor(t){this.ptr=t}}class y extends w{}class v extends y{[Symbol.dispose](){0!=this.ptr&&(o.AtomicDateTime_drop(this.ptr),this.ptr=0)}}class S{ptr;index(){if(0==this.ptr)throw"this is disposed";return o.Attempt_index(this.ptr)}time(){if(0==this.ptr)throw"this is disposed";return new Ke(o.Attempt_time(this.ptr))}pauseTime(){if(0==this.ptr)throw"this is disposed";const t=new Qe(o.Attempt_pause_time(this.ptr));return 0==t.ptr?null:t}started(){if(0==this.ptr)throw"this is disposed";const t=new v(o.Attempt_started(this.ptr));return 0==t.ptr?null:t}ended(){if(0==this.ptr)throw"this is disposed";const t=new v(o.Attempt_ended(this.ptr));return 0==t.ptr?null:t}constructor(t){this.ptr=t}}Symbol.dispose;Symbol.dispose;class x{ptr;constructor(t){this.ptr=t}}class _ extends x{stateAsJson(){if(0==this.ptr)throw"this is disposed";const t=o.BlankSpaceComponent_state_as_json(this.ptr);return JSON.parse(m(t))}state(){if(0==this.ptr)throw"this is disposed";return new T(o.BlankSpaceComponent_state(this.ptr))}}class E extends _{[Symbol.dispose](){0!=this.ptr&&(o.BlankSpaceComponent_drop(this.ptr),this.ptr=0)}static new(){return new E(o.BlankSpaceComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.BlankSpaceComponent_into_generic(this.ptr));return this.ptr=0,t}}class C{ptr;size(){if(0==this.ptr)throw"this is disposed";return o.BlankSpaceComponentState_size(this.ptr)}constructor(t){this.ptr=t}}class k extends C{}class T extends k{[Symbol.dispose](){0!=this.ptr&&(o.BlankSpaceComponentState_drop(this.ptr),this.ptr=0)}}class N{ptr;constructor(t){this.ptr=t}}class A extends N{}class R extends A{[Symbol.dispose](){0!=this.ptr&&(o.Component_drop(this.ptr),this.ptr=0)}}class L{ptr;constructor(t){this.ptr=t}}class D extends L{stateAsJson(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";const e=o.CurrentComparisonComponent_state_as_json(this.ptr,t.ptr);return JSON.parse(m(e))}state(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";return new gt(o.CurrentComparisonComponent_state(this.ptr,t.ptr))}}class O extends D{[Symbol.dispose](){0!=this.ptr&&(o.CurrentComparisonComponent_drop(this.ptr),this.ptr=0)}static new(){return new O(o.CurrentComparisonComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.CurrentComparisonComponent_into_generic(this.ptr));return this.ptr=0,t}}class P{ptr;constructor(t){this.ptr=t}}class I extends P{stateAsJson(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";const e=o.CurrentPaceComponent_state_as_json(this.ptr,t.ptr);return JSON.parse(m(e))}state(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";return new gt(o.CurrentPaceComponent_state(this.ptr,t.ptr))}}class V extends I{[Symbol.dispose](){0!=this.ptr&&(o.CurrentPaceComponent_drop(this.ptr),this.ptr=0)}static new(){return new V(o.CurrentPaceComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.CurrentPaceComponent_into_generic(this.ptr));return this.ptr=0,t}}class B{ptr;constructor(t){this.ptr=t}}class z extends B{stateAsJson(t,e){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";if(0==e.ptr)throw"layoutSettings is disposed";const s=o.DeltaComponent_state_as_json(this.ptr,t.ptr,e.ptr);return JSON.parse(m(s))}state(t,e){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";if(0==e.ptr)throw"layoutSettings is disposed";return new gt(o.DeltaComponent_state(this.ptr,t.ptr,e.ptr))}}class G extends z{[Symbol.dispose](){0!=this.ptr&&(o.DeltaComponent_drop(this.ptr),this.ptr=0)}static new(){return new G(o.DeltaComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.DeltaComponent_into_generic(this.ptr));return this.ptr=0,t}}class U{ptr;constructor(t){this.ptr=t}}class M extends U{stateAsJson(t,e,s){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"imageCache is disposed";if(0==e.ptr)throw"timer is disposed";if(0==s.ptr)throw"layoutSettings is disposed";const i=o.DetailedTimerComponent_state_as_json(this.ptr,t.ptr,e.ptr,s.ptr);return JSON.parse(m(i))}state(t,e,s){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"imageCache is disposed";if(0==e.ptr)throw"timer is disposed";if(0==s.ptr)throw"layoutSettings is disposed";return new j(o.DetailedTimerComponent_state(this.ptr,t.ptr,e.ptr,s.ptr))}}class F extends M{[Symbol.dispose](){0!=this.ptr&&(o.DetailedTimerComponent_drop(this.ptr),this.ptr=0)}static new(){return new F(o.DetailedTimerComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.DetailedTimerComponent_into_generic(this.ptr));return this.ptr=0,t}}class H{ptr;timerTime(){if(0==this.ptr)throw"this is disposed";return m(o.DetailedTimerComponentState_timer_time(this.ptr))}timerFraction(){if(0==this.ptr)throw"this is disposed";return m(o.DetailedTimerComponentState_timer_fraction(this.ptr))}timerSemanticColor(){if(0==this.ptr)throw"this is disposed";return m(o.DetailedTimerComponentState_timer_semantic_color(this.ptr))}segmentTimerTime(){if(0==this.ptr)throw"this is disposed";return m(o.DetailedTimerComponentState_segment_timer_time(this.ptr))}segmentTimerFraction(){if(0==this.ptr)throw"this is disposed";return m(o.DetailedTimerComponentState_segment_timer_fraction(this.ptr))}comparison1Visible(){if(0==this.ptr)throw"this is disposed";return 0!=o.DetailedTimerComponentState_comparison1_visible(this.ptr)}comparison1Name(){if(0==this.ptr)throw"this is disposed";return m(o.DetailedTimerComponentState_comparison1_name(this.ptr))}comparison1Time(){if(0==this.ptr)throw"this is disposed";return m(o.DetailedTimerComponentState_comparison1_time(this.ptr))}comparison2Visible(){if(0==this.ptr)throw"this is disposed";return 0!=o.DetailedTimerComponentState_comparison2_visible(this.ptr)}comparison2Name(){if(0==this.ptr)throw"this is disposed";return m(o.DetailedTimerComponentState_comparison2_name(this.ptr))}comparison2Time(){if(0==this.ptr)throw"this is disposed";return m(o.DetailedTimerComponentState_comparison2_time(this.ptr))}icon(){if(0==this.ptr)throw"this is disposed";return m(o.DetailedTimerComponentState_icon(this.ptr))}segmentName(){if(0==this.ptr)throw"this is disposed";const t=o.DetailedTimerComponentState_segment_name(this.ptr);return 0==t?null:m(t)}constructor(t){this.ptr=t}}class W extends H{}class j extends W{[Symbol.dispose](){0!=this.ptr&&(o.DetailedTimerComponentState_drop(this.ptr),this.ptr=0)}}class J{ptr;constructor(t){this.ptr=t}}class $ extends J{}class K extends ${[Symbol.dispose](){0!=this.ptr&&(o.EventSink_drop(this.ptr),this.ptr=0)}static fromTimer(t){if(0==t.ptr)throw"timer is disposed";const e=new K(o.EventSink_from_timer(t.ptr));return t.ptr=0,e}}class q{ptr;search(t,e){if(0==this.ptr)throw"this is disposed";const s=h(t),i=o.FuzzyList_search(this.ptr,s.ptr,e);return g(s),JSON.parse(m(i))}constructor(t){this.ptr=t}}class Y extends q{push(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.FuzzyList_push(this.ptr,e.ptr),g(e)}}class Q extends Y{[Symbol.dispose](){0!=this.ptr&&(o.FuzzyList_drop(this.ptr),this.ptr=0)}static new(){return new Q(o.FuzzyList_new())}}Symbol.dispose;class Z{ptr;stateAsJson(t,e){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";if(0==e.ptr)throw"layoutSettings is disposed";const s=o.GraphComponent_state_as_json(this.ptr,t.ptr,e.ptr);return JSON.parse(m(s))}state(t,e){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";if(0==e.ptr)throw"layoutSettings is disposed";return new it(o.GraphComponent_state(this.ptr,t.ptr,e.ptr))}constructor(t){this.ptr=t}}class X extends Z{}class tt extends X{[Symbol.dispose](){0!=this.ptr&&(o.GraphComponent_drop(this.ptr),this.ptr=0)}static new(){return new tt(o.GraphComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.GraphComponent_into_generic(this.ptr));return this.ptr=0,t}}class et{ptr;pointsLen(){if(0==this.ptr)throw"this is disposed";return o.GraphComponentState_points_len(this.ptr)}pointX(t){if(0==this.ptr)throw"this is disposed";return o.GraphComponentState_point_x(this.ptr,t)}pointY(t){if(0==this.ptr)throw"this is disposed";return o.GraphComponentState_point_y(this.ptr,t)}pointIsBestSegment(t){if(0==this.ptr)throw"this is disposed";return 0!=o.GraphComponentState_point_is_best_segment(this.ptr,t)}horizontalGridLinesLen(){if(0==this.ptr)throw"this is disposed";return o.GraphComponentState_horizontal_grid_lines_len(this.ptr)}horizontalGridLine(t){if(0==this.ptr)throw"this is disposed";return o.GraphComponentState_horizontal_grid_line(this.ptr,t)}verticalGridLinesLen(){if(0==this.ptr)throw"this is disposed";return o.GraphComponentState_vertical_grid_lines_len(this.ptr)}verticalGridLine(t){if(0==this.ptr)throw"this is disposed";return o.GraphComponentState_vertical_grid_line(this.ptr,t)}middle(){if(0==this.ptr)throw"this is disposed";return o.GraphComponentState_middle(this.ptr)}isLiveDeltaActive(){if(0==this.ptr)throw"this is disposed";return 0!=o.GraphComponentState_is_live_delta_active(this.ptr)}isFlipped(){if(0==this.ptr)throw"this is disposed";return 0!=o.GraphComponentState_is_flipped(this.ptr)}constructor(t){this.ptr=t}}class st extends et{}class it extends st{[Symbol.dispose](){0!=this.ptr&&(o.GraphComponentState_drop(this.ptr),this.ptr=0)}}class rt{ptr;settingsDescriptionAsJson(){if(0==this.ptr)throw"this is disposed";const t=o.HotkeyConfig_settings_description_as_json(this.ptr);return JSON.parse(m(t))}asJson(){if(0==this.ptr)throw"this is disposed";const t=o.HotkeyConfig_as_json(this.ptr);return JSON.parse(m(t))}constructor(t){this.ptr=t}}class ot extends rt{setValue(t,e){if(0==this.ptr)throw"this is disposed";if(0==e.ptr)throw"value is disposed";const s=0!=o.HotkeyConfig_set_value(this.ptr,t,e.ptr);return e.ptr=0,s}}class nt extends ot{[Symbol.dispose](){0!=this.ptr&&(o.HotkeyConfig_drop(this.ptr),this.ptr=0)}static new(){return new nt(o.HotkeyConfig_new())}static parseJson(t){const e=h(JSON.stringify(t)),s=new nt(o.HotkeyConfig_parse_json(e.ptr));return g(e),0==s.ptr?null:s}}class at{ptr;config(){if(0==this.ptr)throw"this is disposed";return new nt(o.HotkeySystem_config(this.ptr))}resolve(t){if(0==this.ptr)throw"this is disposed";const e=h(t),s=o.HotkeySystem_resolve(this.ptr,e.ptr);return g(e),m(s)}constructor(t){this.ptr=t}}class lt extends at{deactivate(){if(0==this.ptr)throw"this is disposed";return 0!=o.HotkeySystem_deactivate(this.ptr)}activate(){if(0==this.ptr)throw"this is disposed";return 0!=o.HotkeySystem_activate(this.ptr)}setConfig(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"config is disposed";const e=0!=o.HotkeySystem_set_config(this.ptr,t.ptr);return t.ptr=0,e}}class pt extends lt{[Symbol.dispose](){0!=this.ptr&&(o.HotkeySystem_drop(this.ptr),this.ptr=0)}static new(t){if(0==t.ptr)throw"eventSink is disposed";const e=new pt(o.HotkeySystem_new(t.ptr));return 0==e.ptr?null:e}static withConfig(t,e){if(0==t.ptr)throw"eventSink is disposed";if(0==e.ptr)throw"config is disposed";const s=new pt(o.HotkeySystem_with_config(t.ptr,e.ptr));return e.ptr=0,0==s.ptr?null:s}}class dt{ptr;lookupDataPtr(t){if(0==this.ptr)throw"this is disposed";const e=h(t),s=o.ImageCache_lookup_data_ptr(this.ptr,e.ptr);return g(e),s}lookupDataLen(t){if(0==this.ptr)throw"this is disposed";const e=h(t),s=o.ImageCache_lookup_data_len(this.ptr,e.ptr);return g(e),s}lookupData(t){if(0==this.ptr)throw"this is disposed";const e=h(t),s=o.ImageCache_lookup_data_ptr(this.ptr,e.ptr),i=o.ImageCache_lookup_data_len(this.ptr,e.ptr);if(g(e),0!==s)return function(t,e){return new Uint8Array(o.memory.buffer).slice(t,t+e)}(s,i)}constructor(t){this.ptr=t}}class ct extends dt{cache(t,e,s){if(0==this.ptr)throw"this is disposed";return m(o.ImageCache_cache(this.ptr,t,e,s?1:0))}collect(){if(0==this.ptr)throw"this is disposed";return o.ImageCache_collect(this.ptr)}cacheFromArray(t,e){const s=c(t),i=this.cache(s.ptr,s.len,e);return g(s),i}}class ht extends ct{[Symbol.dispose](){0!=this.ptr&&(o.ImageCache_drop(this.ptr),this.ptr=0)}static new(){return new ht(o.ImageCache_new())}}class ut{ptr;key(){if(0==this.ptr)throw"this is disposed";return m(o.KeyValueComponentState_key(this.ptr))}value(){if(0==this.ptr)throw"this is disposed";return m(o.KeyValueComponentState_value(this.ptr))}semanticColor(){if(0==this.ptr)throw"this is disposed";return m(o.KeyValueComponentState_semantic_color(this.ptr))}constructor(t){this.ptr=t}}class mt extends ut{}class gt extends mt{[Symbol.dispose](){0!=this.ptr&&(o.KeyValueComponentState_drop(this.ptr),this.ptr=0)}}class ft{ptr;clone(){if(0==this.ptr)throw"this is disposed";return new wt(o.Layout_clone(this.ptr))}settingsAsJson(){if(0==this.ptr)throw"this is disposed";const t=o.Layout_settings_as_json(this.ptr);return JSON.parse(m(t))}constructor(t){this.ptr=t}}class bt extends ft{state(t,e){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"imageCache is disposed";if(0==e.ptr)throw"timer is disposed";return new Tt(o.Layout_state(this.ptr,t.ptr,e.ptr))}updateState(t,e,s){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"state is disposed";if(0==e.ptr)throw"imageCache is disposed";if(0==s.ptr)throw"timer is disposed";o.Layout_update_state(this.ptr,t.ptr,e.ptr,s.ptr)}updateStateAsJson(t,e,s){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"state is disposed";if(0==e.ptr)throw"imageCache is disposed";if(0==s.ptr)throw"timer is disposed";const i=o.Layout_update_state_as_json(this.ptr,t.ptr,e.ptr,s.ptr);return JSON.parse(m(i))}stateAsJson(t,e){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"imageCache is disposed";if(0==e.ptr)throw"timer is disposed";const s=o.Layout_state_as_json(this.ptr,t.ptr,e.ptr);return JSON.parse(m(s))}push(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"component is disposed";o.Layout_push(this.ptr,t.ptr),t.ptr=0}scrollUp(){if(0==this.ptr)throw"this is disposed";o.Layout_scroll_up(this.ptr)}scrollDown(){if(0==this.ptr)throw"this is disposed";o.Layout_scroll_down(this.ptr)}}class wt extends bt{[Symbol.dispose](){0!=this.ptr&&(o.Layout_drop(this.ptr),this.ptr=0)}static new(){return new wt(o.Layout_new())}static defaultLayout(){return new wt(o.Layout_default_layout())}static parseJson(t){const e=h(JSON.stringify(t)),s=new wt(o.Layout_parse_json(e.ptr));return g(e),0==s.ptr?null:s}static parseOriginalLivesplit(t,e){const s=new wt(o.Layout_parse_original_livesplit(t,e));return 0==s.ptr?null:s}static parseOriginalLivesplitArray(t){const e=c(t),s=wt.parseOriginalLivesplit(e.ptr,e.len);return g(e),s}static parseOriginalLivesplitString(t){const e=h(t),s=wt.parseOriginalLivesplit(e.ptr,e.len);return g(e),s}}class yt{ptr;stateAsJson(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"imageCache is disposed";const e=o.LayoutEditor_state_as_json(this.ptr,t.ptr);return JSON.parse(m(e))}state(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"imageCache is disposed";return new Et(o.LayoutEditor_state(this.ptr,t.ptr))}constructor(t){this.ptr=t}}class vt extends yt{layoutStateAsJson(t,e){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"imageCache is disposed";if(0==e.ptr)throw"timer is disposed";const s=o.LayoutEditor_layout_state_as_json(this.ptr,t.ptr,e.ptr);return JSON.parse(m(s))}updateLayoutState(t,e,s){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"state is disposed";if(0==e.ptr)throw"imageCache is disposed";if(0==s.ptr)throw"timer is disposed";o.LayoutEditor_update_layout_state(this.ptr,t.ptr,e.ptr,s.ptr)}updateLayoutStateAsJson(t,e,s){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"state is disposed";if(0==e.ptr)throw"imageCache is disposed";if(0==s.ptr)throw"timer is disposed";const i=o.LayoutEditor_update_layout_state_as_json(this.ptr,t.ptr,e.ptr,s.ptr);return JSON.parse(m(i))}select(t){if(0==this.ptr)throw"this is disposed";o.LayoutEditor_select(this.ptr,t)}addComponent(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"component is disposed";o.LayoutEditor_add_component(this.ptr,t.ptr),t.ptr=0}removeComponent(){if(0==this.ptr)throw"this is disposed";o.LayoutEditor_remove_component(this.ptr)}moveComponentUp(){if(0==this.ptr)throw"this is disposed";o.LayoutEditor_move_component_up(this.ptr)}moveComponentDown(){if(0==this.ptr)throw"this is disposed";o.LayoutEditor_move_component_down(this.ptr)}moveComponent(t){if(0==this.ptr)throw"this is disposed";o.LayoutEditor_move_component(this.ptr,t)}duplicateComponent(){if(0==this.ptr)throw"this is disposed";o.LayoutEditor_duplicate_component(this.ptr)}setComponentSettingsValue(t,e){if(0==this.ptr)throw"this is disposed";if(0==e.ptr)throw"value is disposed";o.LayoutEditor_set_component_settings_value(this.ptr,t,e.ptr),e.ptr=0}setGeneralSettingsValue(t,e,s){if(0==this.ptr)throw"this is disposed";if(0==e.ptr)throw"value is disposed";if(0==s.ptr)throw"imageCache is disposed";o.LayoutEditor_set_general_settings_value(this.ptr,t,e.ptr,s.ptr),e.ptr=0}}class St extends vt{[Symbol.dispose](){0!=this.ptr&&(this.ptr=0)}static new(t){if(0==t.ptr)throw"layout is disposed";const e=new St(o.LayoutEditor_new(t.ptr));return t.ptr=0,0==e.ptr?null:e}close(){if(0==this.ptr)throw"this is disposed";const t=new wt(o.LayoutEditor_close(this.ptr));return this.ptr=0,t}}class xt{ptr;componentLen(){if(0==this.ptr)throw"this is disposed";return o.LayoutEditorState_component_len(this.ptr)}componentText(t){if(0==this.ptr)throw"this is disposed";return m(o.LayoutEditorState_component_text(this.ptr,t))}buttons(){if(0==this.ptr)throw"this is disposed";return o.LayoutEditorState_buttons(this.ptr)}selectedComponent(){if(0==this.ptr)throw"this is disposed";return o.LayoutEditorState_selected_component(this.ptr)}fieldLen(t){if(0==this.ptr)throw"this is disposed";return o.LayoutEditorState_field_len(this.ptr,t?1:0)}fieldText(t,e){if(0==this.ptr)throw"this is disposed";return m(o.LayoutEditorState_field_text(this.ptr,t?1:0,e))}fieldValue(t,e){if(0==this.ptr)throw"this is disposed";return new Ee(o.LayoutEditorState_field_value(this.ptr,t?1:0,e))}constructor(t){this.ptr=t}}class _t extends xt{}class Et extends _t{[Symbol.dispose](){0!=this.ptr&&(o.LayoutEditorState_drop(this.ptr),this.ptr=0)}}class Ct{ptr;asJson(){if(0==this.ptr)throw"this is disposed";const t=o.LayoutState_as_json(this.ptr);return JSON.parse(m(t))}len(){if(0==this.ptr)throw"this is disposed";return o.LayoutState_len(this.ptr)}componentType(t){if(0==this.ptr)throw"this is disposed";return m(o.LayoutState_component_type(this.ptr,t))}componentAsBlankSpace(t){if(0==this.ptr)throw"this is disposed";return new C(o.LayoutState_component_as_blank_space(this.ptr,t))}componentAsDetailedTimer(t){if(0==this.ptr)throw"this is disposed";return new H(o.LayoutState_component_as_detailed_timer(this.ptr,t))}componentAsGraph(t){if(0==this.ptr)throw"this is disposed";return new et(o.LayoutState_component_as_graph(this.ptr,t))}componentAsKeyValue(t){if(0==this.ptr)throw"this is disposed";return new ut(o.LayoutState_component_as_key_value(this.ptr,t))}componentAsSeparator(t){if(0==this.ptr)throw"this is disposed";return new Se(o.LayoutState_component_as_separator(this.ptr,t))}componentAsSplits(t){if(0==this.ptr)throw"this is disposed";return new Oe(o.LayoutState_component_as_splits(this.ptr,t))}componentAsText(t){if(0==this.ptr)throw"this is disposed";return new je(o.LayoutState_component_as_text(this.ptr,t))}componentAsTimer(t){if(0==this.ptr)throw"this is disposed";return new ns(o.LayoutState_component_as_timer(this.ptr,t))}componentAsTitle(t){if(0==this.ptr)throw"this is disposed";return new ws(o.LayoutState_component_as_title(this.ptr,t))}constructor(t){this.ptr=t}}class kt extends Ct{}class Tt extends kt{[Symbol.dispose](){0!=this.ptr&&(o.LayoutState_drop(this.ptr),this.ptr=0)}static new(){return new Tt(o.LayoutState_new())}}class Nt{ptr;isDefault(){if(0==this.ptr)throw"this is disposed";return 0!=o.LinkedLayout_is_default(this.ptr)}path(){if(0==this.ptr)throw"this is disposed";return m(o.LinkedLayout_path(this.ptr))}constructor(t){this.ptr=t}}class At extends Nt{}class Rt extends At{[Symbol.dispose](){0!=this.ptr&&(o.LinkedLayout_drop(this.ptr),this.ptr=0)}static new(t){const e=h(t),s=new Rt(o.LinkedLayout_new(e.ptr));return g(e),s}}class Lt{ptr;parsedSuccessfully(){if(0==this.ptr)throw"this is disposed";return 0!=o.ParseRunResult_parsed_successfully(this.ptr)}timerKind(){if(0==this.ptr)throw"this is disposed";return m(o.ParseRunResult_timer_kind(this.ptr))}isGenericTimer(){if(0==this.ptr)throw"this is disposed";return 0!=o.ParseRunResult_is_generic_timer(this.ptr)}constructor(t){this.ptr=t}}class Dt extends Lt{}class Ot extends Dt{[Symbol.dispose](){0!=this.ptr&&(o.ParseRunResult_drop(this.ptr),this.ptr=0)}unwrap(){if(0==this.ptr)throw"this is disposed";const t=new Kt(o.ParseRunResult_unwrap(this.ptr));return this.ptr=0,t}}class Pt{ptr;stateAsJson(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";const e=o.PbChanceComponent_state_as_json(this.ptr,t.ptr);return JSON.parse(m(e))}state(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";return new gt(o.PbChanceComponent_state(this.ptr,t.ptr))}constructor(t){this.ptr=t}}class It extends Pt{}class Vt extends It{[Symbol.dispose](){0!=this.ptr&&(o.PbChanceComponent_drop(this.ptr),this.ptr=0)}static new(){return new Vt(o.PbChanceComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.PbChanceComponent_into_generic(this.ptr));return this.ptr=0,t}}class Bt{ptr;stateAsJson(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";const e=o.PossibleTimeSaveComponent_state_as_json(this.ptr,t.ptr);return JSON.parse(m(e))}state(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";return new gt(o.PossibleTimeSaveComponent_state(this.ptr,t.ptr))}constructor(t){this.ptr=t}}class zt extends Bt{}class Gt extends zt{[Symbol.dispose](){0!=this.ptr&&(o.PossibleTimeSaveComponent_drop(this.ptr),this.ptr=0)}static new(){return new Gt(o.PossibleTimeSaveComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.PossibleTimeSaveComponent_into_generic(this.ptr));return this.ptr=0,t}}class Ut{ptr;message(){if(0==this.ptr)throw"this is disposed";return m(o.PotentialCleanUp_message(this.ptr))}constructor(t){this.ptr=t}}class Mt extends Ut{}class Ft extends Mt{[Symbol.dispose](){0!=this.ptr&&(o.PotentialCleanUp_drop(this.ptr),this.ptr=0)}}class Ht{ptr;stateAsJson(t,e){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";if(0==e.ptr)throw"layoutSettings is disposed";const s=o.PreviousSegmentComponent_state_as_json(this.ptr,t.ptr,e.ptr);return JSON.parse(m(s))}state(t,e){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";if(0==e.ptr)throw"layoutSettings is disposed";return new gt(o.PreviousSegmentComponent_state(this.ptr,t.ptr,e.ptr))}constructor(t){this.ptr=t}}class Wt extends Ht{}class jt extends Wt{[Symbol.dispose](){0!=this.ptr&&(o.PreviousSegmentComponent_drop(this.ptr),this.ptr=0)}static new(){return new jt(o.PreviousSegmentComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.PreviousSegmentComponent_into_generic(this.ptr));return this.ptr=0,t}}class Jt{ptr;clone(){if(0==this.ptr)throw"this is disposed";return new Kt(o.Run_clone(this.ptr))}gameName(){if(0==this.ptr)throw"this is disposed";return m(o.Run_game_name(this.ptr))}gameIconPtr(){if(0==this.ptr)throw"this is disposed";return o.Run_game_icon_ptr(this.ptr)}gameIconLen(){if(0==this.ptr)throw"this is disposed";return o.Run_game_icon_len(this.ptr)}categoryName(){if(0==this.ptr)throw"this is disposed";return m(o.Run_category_name(this.ptr))}extendedFileName(t){if(0==this.ptr)throw"this is disposed";return m(o.Run_extended_file_name(this.ptr,t?1:0))}extendedName(t){if(0==this.ptr)throw"this is disposed";return m(o.Run_extended_name(this.ptr,t?1:0))}extendedCategoryName(t,e,s){if(0==this.ptr)throw"this is disposed";return m(o.Run_extended_category_name(this.ptr,t?1:0,e?1:0,s?1:0))}attemptCount(){if(0==this.ptr)throw"this is disposed";return o.Run_attempt_count(this.ptr)}metadata(){if(0==this.ptr)throw"this is disposed";return new Zt(o.Run_metadata(this.ptr))}offset(){if(0==this.ptr)throw"this is disposed";return new Qe(o.Run_offset(this.ptr))}len(){if(0==this.ptr)throw"this is disposed";return o.Run_len(this.ptr)}hasBeenModified(){if(0==this.ptr)throw"this is disposed";return 0!=o.Run_has_been_modified(this.ptr)}segment(t){if(0==this.ptr)throw"this is disposed";return new ae(o.Run_segment(this.ptr,t))}segmentsLen(){if(0==this.ptr)throw"this is disposed";return o.Run_segments_len(this.ptr)}attemptHistoryLen(){if(0==this.ptr)throw"this is disposed";return o.Run_attempt_history_len(this.ptr)}attemptHistoryIndex(t){if(0==this.ptr)throw"this is disposed";return new S(o.Run_attempt_history_index(this.ptr,t))}saveAsLss(){if(0==this.ptr)throw"this is disposed";return m(o.Run_save_as_lss(this.ptr))}customComparisonsLen(){if(0==this.ptr)throw"this is disposed";return o.Run_custom_comparisons_len(this.ptr)}customComparison(t){if(0==this.ptr)throw"this is disposed";return m(o.Run_custom_comparison(this.ptr,t))}comparisonsLen(){if(0==this.ptr)throw"this is disposed";return o.Run_comparisons_len(this.ptr)}comparison(t){if(0==this.ptr)throw"this is disposed";return m(o.Run_comparison(this.ptr,t))}autoSplitterSettings(){if(0==this.ptr)throw"this is disposed";return m(o.Run_auto_splitter_settings(this.ptr))}linkedLayout(){if(0==this.ptr)throw"this is disposed";const t=new Rt(o.Run_linked_layout(this.ptr));return 0==t.ptr?null:t}saveAsLssBytes(){if(0==this.ptr)throw"this is disposed";return u(o.Run_save_as_lss(this.ptr))}constructor(t){this.ptr=t}}class $t extends Jt{pushSegment(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"segment is disposed";o.Run_push_segment(this.ptr,t.ptr),t.ptr=0}setGameName(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.Run_set_game_name(this.ptr,e.ptr),g(e)}setCategoryName(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.Run_set_category_name(this.ptr,e.ptr),g(e)}markAsModified(){if(0==this.ptr)throw"this is disposed";o.Run_mark_as_modified(this.ptr)}}class Kt extends $t{[Symbol.dispose](){0!=this.ptr&&(o.Run_drop(this.ptr),this.ptr=0)}static new(){return new Kt(o.Run_new())}static parse(t,e,s){const i=h(s),r=new Ot(o.Run_parse(t,e,i.ptr));return g(i),r}static parseArray(t,e){const s=c(t),i=Kt.parse(s.ptr,s.len,e);return g(s),i}static parseString(t,e){const s=h(t),i=Kt.parse(s.ptr,s.len,e);return g(s),i}}class qt{ptr;stateAsJson(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"imageCache is disposed";const e=o.RunEditor_state_as_json(this.ptr,t.ptr);return JSON.parse(m(e))}constructor(t){this.ptr=t}}class Yt extends qt{selectTimingMethod(t){if(0==this.ptr)throw"this is disposed";o.RunEditor_select_timing_method(this.ptr,t)}unselect(t){if(0==this.ptr)throw"this is disposed";o.RunEditor_unselect(this.ptr,t)}selectAdditionally(t){if(0==this.ptr)throw"this is disposed";o.RunEditor_select_additionally(this.ptr,t)}selectOnly(t){if(0==this.ptr)throw"this is disposed";o.RunEditor_select_only(this.ptr,t)}setGameName(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.RunEditor_set_game_name(this.ptr,e.ptr),g(e)}setCategoryName(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.RunEditor_set_category_name(this.ptr,e.ptr),g(e)}parseAndSetOffset(t){if(0==this.ptr)throw"this is disposed";const e=h(t),s=0!=o.RunEditor_parse_and_set_offset(this.ptr,e.ptr);return g(e),s}parseAndSetAttemptCount(t){if(0==this.ptr)throw"this is disposed";const e=h(t),s=0!=o.RunEditor_parse_and_set_attempt_count(this.ptr,e.ptr);return g(e),s}setGameIcon(t,e){if(0==this.ptr)throw"this is disposed";o.RunEditor_set_game_icon(this.ptr,t,e)}removeGameIcon(){if(0==this.ptr)throw"this is disposed";o.RunEditor_remove_game_icon(this.ptr)}setLinkedLayout(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"linkedLayout is disposed";o.RunEditor_set_linked_layout(this.ptr,t.ptr),t.ptr=0}removeLinkedLayout(){if(0==this.ptr)throw"this is disposed";o.RunEditor_remove_linked_layout(this.ptr)}setRunId(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.RunEditor_set_run_id(this.ptr,e.ptr),g(e)}setRegionName(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.RunEditor_set_region_name(this.ptr,e.ptr),g(e)}setPlatformName(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.RunEditor_set_platform_name(this.ptr,e.ptr),g(e)}setEmulatorUsage(t){if(0==this.ptr)throw"this is disposed";o.RunEditor_set_emulator_usage(this.ptr,t?1:0)}setSpeedrunComVariable(t,e){if(0==this.ptr)throw"this is disposed";const s=h(t),i=h(e);o.RunEditor_set_speedrun_com_variable(this.ptr,s.ptr,i.ptr),g(s),g(i)}removeSpeedrunComVariable(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.RunEditor_remove_speedrun_com_variable(this.ptr,e.ptr),g(e)}addCustomVariable(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.RunEditor_add_custom_variable(this.ptr,e.ptr),g(e)}setCustomVariable(t,e){if(0==this.ptr)throw"this is disposed";const s=h(t),i=h(e);o.RunEditor_set_custom_variable(this.ptr,s.ptr,i.ptr),g(s),g(i)}removeCustomVariable(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.RunEditor_remove_custom_variable(this.ptr,e.ptr),g(e)}clearMetadata(){if(0==this.ptr)throw"this is disposed";o.RunEditor_clear_metadata(this.ptr)}insertSegmentAbove(){if(0==this.ptr)throw"this is disposed";o.RunEditor_insert_segment_above(this.ptr)}insertSegmentBelow(){if(0==this.ptr)throw"this is disposed";o.RunEditor_insert_segment_below(this.ptr)}removeSegments(){if(0==this.ptr)throw"this is disposed";o.RunEditor_remove_segments(this.ptr)}moveSegmentsUp(){if(0==this.ptr)throw"this is disposed";o.RunEditor_move_segments_up(this.ptr)}moveSegmentsDown(){if(0==this.ptr)throw"this is disposed";o.RunEditor_move_segments_down(this.ptr)}activeSetIcon(t,e){if(0==this.ptr)throw"this is disposed";o.RunEditor_active_set_icon(this.ptr,t,e)}activeRemoveIcon(){if(0==this.ptr)throw"this is disposed";o.RunEditor_active_remove_icon(this.ptr)}activeSetName(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.RunEditor_active_set_name(this.ptr,e.ptr),g(e)}activeParseAndSetSplitTime(t){if(0==this.ptr)throw"this is disposed";const e=h(t),s=0!=o.RunEditor_active_parse_and_set_split_time(this.ptr,e.ptr);return g(e),s}activeParseAndSetSegmentTime(t){if(0==this.ptr)throw"this is disposed";const e=h(t),s=0!=o.RunEditor_active_parse_and_set_segment_time(this.ptr,e.ptr);return g(e),s}activeParseAndSetBestSegmentTime(t){if(0==this.ptr)throw"this is disposed";const e=h(t),s=0!=o.RunEditor_active_parse_and_set_best_segment_time(this.ptr,e.ptr);return g(e),s}activeParseAndSetComparisonTime(t,e){if(0==this.ptr)throw"this is disposed";const s=h(t),i=h(e),r=0!=o.RunEditor_active_parse_and_set_comparison_time(this.ptr,s.ptr,i.ptr);return g(s),g(i),r}addComparison(t){if(0==this.ptr)throw"this is disposed";const e=h(t),s=0!=o.RunEditor_add_comparison(this.ptr,e.ptr);return g(e),s}importComparison(t,e){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"run is disposed";const s=h(e),i=0!=o.RunEditor_import_comparison(this.ptr,t.ptr,s.ptr);return g(s),i}removeComparison(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.RunEditor_remove_comparison(this.ptr,e.ptr),g(e)}renameComparison(t,e){if(0==this.ptr)throw"this is disposed";const s=h(t),i=h(e),r=0!=o.RunEditor_rename_comparison(this.ptr,s.ptr,i.ptr);return g(s),g(i),r}moveComparison(t,e){if(0==this.ptr)throw"this is disposed";return 0!=o.RunEditor_move_comparison(this.ptr,t,e)}parseAndGenerateGoalComparison(t){if(0==this.ptr)throw"this is disposed";const e=h(t),s=0!=o.RunEditor_parse_and_generate_goal_comparison(this.ptr,e.ptr);return g(e),s}copyComparison(t,e){if(0==this.ptr)throw"this is disposed";const s=h(t),i=h(e),r=0!=o.RunEditor_copy_comparison(this.ptr,s.ptr,i.ptr);return g(s),g(i),r}clearHistory(){if(0==this.ptr)throw"this is disposed";o.RunEditor_clear_history(this.ptr)}clearTimes(){if(0==this.ptr)throw"this is disposed";o.RunEditor_clear_times(this.ptr)}cleanSumOfBest(){if(0==this.ptr)throw"this is disposed";return new ze(o.RunEditor_clean_sum_of_best(this.ptr))}setGameIconFromArray(t){const e=c(t);this.setGameIcon(e.ptr,e.len),g(e)}activeSetIconFromArray(t){const e=c(t);this.activeSetIcon(e.ptr,e.len),g(e)}}class Qt extends Yt{[Symbol.dispose](){0!=this.ptr&&(this.ptr=0)}static new(t){if(0==t.ptr)throw"run is disposed";const e=new Qt(o.RunEditor_new(t.ptr));return t.ptr=0,0==e.ptr?null:e}close(){if(0==this.ptr)throw"this is disposed";const t=new Kt(o.RunEditor_close(this.ptr));return this.ptr=0,t}}class Zt{ptr;runId(){if(0==this.ptr)throw"this is disposed";return m(o.RunMetadata_run_id(this.ptr))}platformName(){if(0==this.ptr)throw"this is disposed";return m(o.RunMetadata_platform_name(this.ptr))}usesEmulator(){if(0==this.ptr)throw"this is disposed";return 0!=o.RunMetadata_uses_emulator(this.ptr)}regionName(){if(0==this.ptr)throw"this is disposed";return m(o.RunMetadata_region_name(this.ptr))}speedrunComVariables(){if(0==this.ptr)throw"this is disposed";return new ne(o.RunMetadata_speedrun_com_variables(this.ptr))}customVariables(){if(0==this.ptr)throw"this is disposed";return new se(o.RunMetadata_custom_variables(this.ptr))}constructor(t){this.ptr=t}}Symbol.dispose;class Xt{ptr;name(){if(0==this.ptr)throw"this is disposed";return m(o.RunMetadataCustomVariable_name(this.ptr))}value(){if(0==this.ptr)throw"this is disposed";return m(o.RunMetadataCustomVariable_value(this.ptr))}isPermanent(){if(0==this.ptr)throw"this is disposed";return 0!=o.RunMetadataCustomVariable_is_permanent(this.ptr)}constructor(t){this.ptr=t}}Symbol.dispose;class te{ptr;constructor(t){this.ptr=t}}class ee extends te{next(){if(0==this.ptr)throw"this is disposed";const t=new Xt(o.RunMetadataCustomVariablesIter_next(this.ptr));return 0==t.ptr?null:t}}class se extends ee{[Symbol.dispose](){0!=this.ptr&&(o.RunMetadataCustomVariablesIter_drop(this.ptr),this.ptr=0)}}class ie{ptr;name(){if(0==this.ptr)throw"this is disposed";return m(o.RunMetadataSpeedrunComVariable_name(this.ptr))}value(){if(0==this.ptr)throw"this is disposed";return m(o.RunMetadataSpeedrunComVariable_value(this.ptr))}constructor(t){this.ptr=t}}Symbol.dispose;class re{ptr;constructor(t){this.ptr=t}}class oe extends re{next(){if(0==this.ptr)throw"this is disposed";const t=new ie(o.RunMetadataSpeedrunComVariablesIter_next(this.ptr));return 0==t.ptr?null:t}}class ne extends oe{[Symbol.dispose](){0!=this.ptr&&(o.RunMetadataSpeedrunComVariablesIter_drop(this.ptr),this.ptr=0)}}class ae{ptr;name(){if(0==this.ptr)throw"this is disposed";return m(o.Segment_name(this.ptr))}iconPtr(){if(0==this.ptr)throw"this is disposed";return o.Segment_icon_ptr(this.ptr)}iconLen(){if(0==this.ptr)throw"this is disposed";return o.Segment_icon_len(this.ptr)}comparison(t){if(0==this.ptr)throw"this is disposed";const e=h(t),s=new Ke(o.Segment_comparison(this.ptr,e.ptr));return g(e),s}personalBestSplitTime(){if(0==this.ptr)throw"this is disposed";return new Ke(o.Segment_personal_best_split_time(this.ptr))}bestSegmentTime(){if(0==this.ptr)throw"this is disposed";return new Ke(o.Segment_best_segment_time(this.ptr))}segmentHistory(){if(0==this.ptr)throw"this is disposed";return new de(o.Segment_segment_history(this.ptr))}constructor(t){this.ptr=t}}class le extends ae{}class pe extends le{[Symbol.dispose](){0!=this.ptr&&(o.Segment_drop(this.ptr),this.ptr=0)}static new(t){const e=h(t),s=new pe(o.Segment_new(e.ptr));return g(e),s}}class de{ptr;iter(){if(0==this.ptr)throw"this is disposed";return new me(o.SegmentHistory_iter(this.ptr))}constructor(t){this.ptr=t}}Symbol.dispose;class ce{ptr;index(){if(0==this.ptr)throw"this is disposed";return o.SegmentHistoryElement_index(this.ptr)}time(){if(0==this.ptr)throw"this is disposed";return new Ke(o.SegmentHistoryElement_time(this.ptr))}constructor(t){this.ptr=t}}Symbol.dispose;class he{ptr;constructor(t){this.ptr=t}}class ue extends he{next(){if(0==this.ptr)throw"this is disposed";const t=new ce(o.SegmentHistoryIter_next(this.ptr));return 0==t.ptr?null:t}}class me extends ue{[Symbol.dispose](){0!=this.ptr&&(o.SegmentHistoryIter_drop(this.ptr),this.ptr=0)}}class ge{ptr;stateAsJson(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";const e=o.SegmentTimeComponent_state_as_json(this.ptr,t.ptr);return JSON.parse(m(e))}state(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";return new gt(o.SegmentTimeComponent_state(this.ptr,t.ptr))}constructor(t){this.ptr=t}}class fe extends ge{}class be extends fe{[Symbol.dispose](){0!=this.ptr&&(o.SegmentTimeComponent_drop(this.ptr),this.ptr=0)}static new(){return new be(o.SegmentTimeComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.SegmentTimeComponent_into_generic(this.ptr));return this.ptr=0,t}}class we{ptr;constructor(t){this.ptr=t}}class ye extends we{state(){if(0==this.ptr)throw"this is disposed";return new _e(o.SeparatorComponent_state(this.ptr))}}class ve extends ye{[Symbol.dispose](){0!=this.ptr&&(o.SeparatorComponent_drop(this.ptr),this.ptr=0)}static new(){return new ve(o.SeparatorComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.SeparatorComponent_into_generic(this.ptr));return this.ptr=0,t}}class Se{ptr;constructor(t){this.ptr=t}}class xe extends Se{}class _e extends xe{[Symbol.dispose](){0!=this.ptr&&(o.SeparatorComponentState_drop(this.ptr),this.ptr=0)}}class Ee{ptr;asJson(){if(0==this.ptr)throw"this is disposed";const t=o.SettingValue_as_json(this.ptr);return JSON.parse(m(t))}constructor(t){this.ptr=t}}class Ce extends Ee{}class ke extends Ce{[Symbol.dispose](){0!=this.ptr&&(o.SettingValue_drop(this.ptr),this.ptr=0)}static fromBool(t){return new ke(o.SettingValue_from_bool(t?1:0))}static fromUint(t){return new ke(o.SettingValue_from_uint(t))}static fromInt(t){return new ke(o.SettingValue_from_int(t))}static fromString(t){const e=h(t),s=new ke(o.SettingValue_from_string(e.ptr));return g(e),s}static fromOptionalString(t){const e=h(t),s=new ke(o.SettingValue_from_optional_string(e.ptr));return g(e),s}static fromOptionalEmptyString(){return new ke(o.SettingValue_from_optional_empty_string())}static fromAccuracy(t){const e=h(t),s=new ke(o.SettingValue_from_accuracy(e.ptr));return g(e),0==s.ptr?null:s}static fromDigitsFormat(t){const e=h(t),s=new ke(o.SettingValue_from_digits_format(e.ptr));return g(e),0==s.ptr?null:s}static fromOptionalTimingMethod(t){const e=h(t),s=new ke(o.SettingValue_from_optional_timing_method(e.ptr));return g(e),0==s.ptr?null:s}static fromOptionalEmptyTimingMethod(){return new ke(o.SettingValue_from_optional_empty_timing_method())}static fromColor(t,e,s,i){return new ke(o.SettingValue_from_color(t,e,s,i))}static fromOptionalColor(t,e,s,i){return new ke(o.SettingValue_from_optional_color(t,e,s,i))}static fromOptionalEmptyColor(){return new ke(o.SettingValue_from_optional_empty_color())}static fromTransparentGradient(){return new ke(o.SettingValue_from_transparent_gradient())}static fromVerticalGradient(t,e,s,i,r,n,a,l){return new ke(o.SettingValue_from_vertical_gradient(t,e,s,i,r,n,a,l))}static fromHorizontalGradient(t,e,s,i,r,n,a,l){return new ke(o.SettingValue_from_horizontal_gradient(t,e,s,i,r,n,a,l))}static fromAlternatingGradient(t,e,s,i,r,n,a,l){return new ke(o.SettingValue_from_alternating_gradient(t,e,s,i,r,n,a,l))}static fromAlignment(t){const e=h(t),s=new ke(o.SettingValue_from_alignment(e.ptr));return g(e),0==s.ptr?null:s}static fromColumnKind(t){const e=h(t),s=new ke(o.SettingValue_from_column_kind(e.ptr));return g(e),0==s.ptr?null:s}static fromColumnStartWith(t){const e=h(t),s=new ke(o.SettingValue_from_column_start_with(e.ptr));return g(e),0==s.ptr?null:s}static fromColumnUpdateWith(t){const e=h(t),s=new ke(o.SettingValue_from_column_update_with(e.ptr));return g(e),0==s.ptr?null:s}static fromColumnUpdateTrigger(t){const e=h(t),s=new ke(o.SettingValue_from_column_update_trigger(e.ptr));return g(e),0==s.ptr?null:s}static fromLayoutDirection(t){const e=h(t),s=new ke(o.SettingValue_from_layout_direction(e.ptr));return g(e),0==s.ptr?null:s}static fromFont(t,e,s,i){const r=h(t),n=h(e),a=h(s),l=h(i),p=new ke(o.SettingValue_from_font(r.ptr,n.ptr,a.ptr,l.ptr));return g(r),g(n),g(a),g(l),0==p.ptr?null:p}static fromEmptyFont(){return new ke(o.SettingValue_from_empty_font())}static fromDeltaGradient(t){const e=h(t),s=new ke(o.SettingValue_from_delta_gradient(e.ptr));return g(e),0==s.ptr?null:s}static fromBackgroundImage(t,e,s,i){const r=h(t),n=new ke(o.SettingValue_from_background_image(r.ptr,e,s,i));return g(r),0==n.ptr?null:n}}class Te{ptr;share(){if(0==this.ptr)throw"this is disposed";return new Ae(o.SharedTimer_share(this.ptr))}read(){if(0==this.ptr)throw"this is disposed";return new cs(o.SharedTimer_read(this.ptr))}write(){if(0==this.ptr)throw"this is disposed";return new ms(o.SharedTimer_write(this.ptr))}replaceInner(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";o.SharedTimer_replace_inner(this.ptr,t.ptr),t.ptr=0}readWith(t){const e={stack:[],error:void 0,hasError:!1};try{return t(a(e,this.read(),!1).timer())}catch(t){e.error=t,e.hasError=!0}finally{l(e)}}writeWith(t){const e={stack:[],error:void 0,hasError:!1};try{return t(a(e,this.write(),!1).timer())}catch(t){e.error=t,e.hasError=!0}finally{l(e)}}constructor(t){this.ptr=t}}class Ne extends Te{}class Ae extends Ne{[Symbol.dispose](){0!=this.ptr&&(o.SharedTimer_drop(this.ptr),this.ptr=0)}}Symbol.dispose;class Re{ptr;constructor(t){this.ptr=t}}class Le extends Re{stateAsJson(t,e,s){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"imageCache is disposed";if(0==e.ptr)throw"timer is disposed";if(0==s.ptr)throw"layoutSettings is disposed";const i=o.SplitsComponent_state_as_json(this.ptr,t.ptr,e.ptr,s.ptr);return JSON.parse(m(i))}state(t,e,s){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"imageCache is disposed";if(0==e.ptr)throw"timer is disposed";if(0==s.ptr)throw"layoutSettings is disposed";return new Ie(o.SplitsComponent_state(this.ptr,t.ptr,e.ptr,s.ptr))}scrollUp(){if(0==this.ptr)throw"this is disposed";o.SplitsComponent_scroll_up(this.ptr)}scrollDown(){if(0==this.ptr)throw"this is disposed";o.SplitsComponent_scroll_down(this.ptr)}setVisualSplitCount(t){if(0==this.ptr)throw"this is disposed";o.SplitsComponent_set_visual_split_count(this.ptr,t)}setSplitPreviewCount(t){if(0==this.ptr)throw"this is disposed";o.SplitsComponent_set_split_preview_count(this.ptr,t)}setAlwaysShowLastSplit(t){if(0==this.ptr)throw"this is disposed";o.SplitsComponent_set_always_show_last_split(this.ptr,t?1:0)}setSeparatorLastSplit(t){if(0==this.ptr)throw"this is disposed";o.SplitsComponent_set_separator_last_split(this.ptr,t?1:0)}}class De extends Le{[Symbol.dispose](){0!=this.ptr&&(o.SplitsComponent_drop(this.ptr),this.ptr=0)}static new(){return new De(o.SplitsComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.SplitsComponent_into_generic(this.ptr));return this.ptr=0,t}}class Oe{ptr;finalSeparatorShown(){if(0==this.ptr)throw"this is disposed";return 0!=o.SplitsComponentState_final_separator_shown(this.ptr)}len(){if(0==this.ptr)throw"this is disposed";return o.SplitsComponentState_len(this.ptr)}icon(t){if(0==this.ptr)throw"this is disposed";return m(o.SplitsComponentState_icon(this.ptr,t))}name(t){if(0==this.ptr)throw"this is disposed";return m(o.SplitsComponentState_name(this.ptr,t))}columnsLen(t){if(0==this.ptr)throw"this is disposed";return o.SplitsComponentState_columns_len(this.ptr,t)}columnValue(t,e){if(0==this.ptr)throw"this is disposed";return m(o.SplitsComponentState_column_value(this.ptr,t,e))}columnSemanticColor(t,e){if(0==this.ptr)throw"this is disposed";return m(o.SplitsComponentState_column_semantic_color(this.ptr,t,e))}isCurrentSplit(t){if(0==this.ptr)throw"this is disposed";return 0!=o.SplitsComponentState_is_current_split(this.ptr,t)}hasColumnLabels(){if(0==this.ptr)throw"this is disposed";return 0!=o.SplitsComponentState_has_column_labels(this.ptr)}columnLabel(t){if(0==this.ptr)throw"this is disposed";return m(o.SplitsComponentState_column_label(this.ptr,t))}constructor(t){this.ptr=t}}class Pe extends Oe{}class Ie extends Pe{[Symbol.dispose](){0!=this.ptr&&(o.SplitsComponentState_drop(this.ptr),this.ptr=0)}}class Ve{ptr;constructor(t){this.ptr=t}}class Be extends Ve{nextPotentialCleanUp(){if(0==this.ptr)throw"this is disposed";const t=new Ft(o.SumOfBestCleaner_next_potential_clean_up(this.ptr));return 0==t.ptr?null:t}apply(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"cleanUp is disposed";o.SumOfBestCleaner_apply(this.ptr,t.ptr),t.ptr=0}}class ze extends Be{[Symbol.dispose](){0!=this.ptr&&(o.SumOfBestCleaner_drop(this.ptr),this.ptr=0)}}class Ge{ptr;stateAsJson(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";const e=o.SumOfBestComponent_state_as_json(this.ptr,t.ptr);return JSON.parse(m(e))}state(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";return new gt(o.SumOfBestComponent_state(this.ptr,t.ptr))}constructor(t){this.ptr=t}}class Ue extends Ge{}class Me extends Ue{[Symbol.dispose](){0!=this.ptr&&(o.SumOfBestComponent_drop(this.ptr),this.ptr=0)}static new(){return new Me(o.SumOfBestComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.SumOfBestComponent_into_generic(this.ptr));return this.ptr=0,t}}class Fe{ptr;stateAsJson(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";const e=o.TextComponent_state_as_json(this.ptr,t.ptr);return JSON.parse(m(e))}state(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";return new $e(o.TextComponent_state(this.ptr,t.ptr))}constructor(t){this.ptr=t}}class He extends Fe{setCenter(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.TextComponent_set_center(this.ptr,e.ptr),g(e)}setLeft(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.TextComponent_set_left(this.ptr,e.ptr),g(e)}setRight(t){if(0==this.ptr)throw"this is disposed";const e=h(t);o.TextComponent_set_right(this.ptr,e.ptr),g(e)}}class We extends He{[Symbol.dispose](){0!=this.ptr&&(o.TextComponent_drop(this.ptr),this.ptr=0)}static new(){return new We(o.TextComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.TextComponent_into_generic(this.ptr));return this.ptr=0,t}}class je{ptr;left(){if(0==this.ptr)throw"this is disposed";return m(o.TextComponentState_left(this.ptr))}right(){if(0==this.ptr)throw"this is disposed";return m(o.TextComponentState_right(this.ptr))}center(){if(0==this.ptr)throw"this is disposed";return m(o.TextComponentState_center(this.ptr))}isSplit(){if(0==this.ptr)throw"this is disposed";return 0!=o.TextComponentState_is_split(this.ptr)}constructor(t){this.ptr=t}}class Je extends je{}class $e extends Je{[Symbol.dispose](){0!=this.ptr&&(o.TextComponentState_drop(this.ptr),this.ptr=0)}}class Ke{ptr;clone(){if(0==this.ptr)throw"this is disposed";return new Ye(o.Time_clone(this.ptr))}realTime(){if(0==this.ptr)throw"this is disposed";const t=new Qe(o.Time_real_time(this.ptr));return 0==t.ptr?null:t}gameTime(){if(0==this.ptr)throw"this is disposed";const t=new Qe(o.Time_game_time(this.ptr));return 0==t.ptr?null:t}index(t){if(0==this.ptr)throw"this is disposed";const e=new Qe(o.Time_index(this.ptr,t));return 0==e.ptr?null:e}constructor(t){this.ptr=t}}class qe extends Ke{}class Ye extends qe{[Symbol.dispose](){0!=this.ptr&&(o.Time_drop(this.ptr),this.ptr=0)}}class Qe{ptr;clone(){if(0==this.ptr)throw"this is disposed";return new Xe(o.TimeSpan_clone(this.ptr))}totalSeconds(){if(0==this.ptr)throw"this is disposed";return o.TimeSpan_total_seconds(this.ptr)}wholeSeconds(){if(0==this.ptr)throw"this is disposed";return o.TimeSpan_whole_seconds(this.ptr)}subsecNanoseconds(){if(0==this.ptr)throw"this is disposed";return o.TimeSpan_subsec_nanoseconds(this.ptr)}constructor(t){this.ptr=t}}class Ze extends Qe{}class Xe extends Ze{[Symbol.dispose](){0!=this.ptr&&(o.TimeSpan_drop(this.ptr),this.ptr=0)}static fromSeconds(t){return new Xe(o.TimeSpan_from_seconds(t))}static parse(t){const e=h(t),s=new Xe(o.TimeSpan_parse(e.ptr));return g(e),0==s.ptr?null:s}}class ts{ptr;currentSplitIndex(){if(0==this.ptr)throw"this is disposed";return o.Timer_current_split_index(this.ptr)}currentAttemptHasNewBestTimes(){if(0==this.ptr)throw"this is disposed";return 0!=o.Timer_current_attempt_has_new_best_times(this.ptr)}currentTimingMethod(){if(0==this.ptr)throw"this is disposed";return o.Timer_current_timing_method(this.ptr)}currentComparison(){if(0==this.ptr)throw"this is disposed";return m(o.Timer_current_comparison(this.ptr))}isGameTimeInitialized(){if(0==this.ptr)throw"this is disposed";return 0!=o.Timer_is_game_time_initialized(this.ptr)}isGameTimePaused(){if(0==this.ptr)throw"this is disposed";return 0!=o.Timer_is_game_time_paused(this.ptr)}loadingTimes(){if(0==this.ptr)throw"this is disposed";return new Qe(o.Timer_loading_times(this.ptr))}currentPhase(){if(0==this.ptr)throw"this is disposed";return o.Timer_current_phase(this.ptr)}getRun(){if(0==this.ptr)throw"this is disposed";return new Jt(o.Timer_get_run(this.ptr))}saveAsLss(){if(0==this.ptr)throw"this is disposed";return m(o.Timer_save_as_lss(this.ptr))}printDebug(){if(0==this.ptr)throw"this is disposed";o.Timer_print_debug(this.ptr)}currentTime(){if(0==this.ptr)throw"this is disposed";return new Ke(o.Timer_current_time(this.ptr))}saveAsLssBytes(){if(0==this.ptr)throw"this is disposed";return u(o.Timer_save_as_lss(this.ptr))}constructor(t){this.ptr=t}}class es extends ts{replaceRun(t,e){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"run is disposed";return 0!=o.Timer_replace_run(this.ptr,t.ptr,e?1:0)}setRun(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"run is disposed";const e=new Kt(o.Timer_set_run(this.ptr,t.ptr));return t.ptr=0,0==e.ptr?null:e}start(){if(0==this.ptr)throw"this is disposed";o.Timer_start(this.ptr)}split(){if(0==this.ptr)throw"this is disposed";o.Timer_split(this.ptr)}splitOrStart(){if(0==this.ptr)throw"this is disposed";o.Timer_split_or_start(this.ptr)}skipSplit(){if(0==this.ptr)throw"this is disposed";o.Timer_skip_split(this.ptr)}undoSplit(){if(0==this.ptr)throw"this is disposed";o.Timer_undo_split(this.ptr)}reset(t){if(0==this.ptr)throw"this is disposed";o.Timer_reset(this.ptr,t?1:0)}resetAndSetAttemptAsPb(){if(0==this.ptr)throw"this is disposed";o.Timer_reset_and_set_attempt_as_pb(this.ptr)}pause(){if(0==this.ptr)throw"this is disposed";o.Timer_pause(this.ptr)}resume(){if(0==this.ptr)throw"this is disposed";o.Timer_resume(this.ptr)}togglePause(){if(0==this.ptr)throw"this is disposed";o.Timer_toggle_pause(this.ptr)}togglePauseOrStart(){if(0==this.ptr)throw"this is disposed";o.Timer_toggle_pause_or_start(this.ptr)}undoAllPauses(){if(0==this.ptr)throw"this is disposed";o.Timer_undo_all_pauses(this.ptr)}setCurrentTimingMethod(t){if(0==this.ptr)throw"this is disposed";o.Timer_set_current_timing_method(this.ptr,t)}toggleTimingMethod(){if(0==this.ptr)throw"this is disposed";o.Timer_toggle_timing_method(this.ptr)}setCurrentComparison(t){if(0==this.ptr)throw"this is disposed";const e=h(t),s=0!=o.Timer_set_current_comparison(this.ptr,e.ptr);return g(e),s}switchToNextComparison(){if(0==this.ptr)throw"this is disposed";o.Timer_switch_to_next_comparison(this.ptr)}switchToPreviousComparison(){if(0==this.ptr)throw"this is disposed";o.Timer_switch_to_previous_comparison(this.ptr)}initializeGameTime(){if(0==this.ptr)throw"this is disposed";o.Timer_initialize_game_time(this.ptr)}deinitializeGameTime(){if(0==this.ptr)throw"this is disposed";o.Timer_deinitialize_game_time(this.ptr)}pauseGameTime(){if(0==this.ptr)throw"this is disposed";o.Timer_pause_game_time(this.ptr)}resumeGameTime(){if(0==this.ptr)throw"this is disposed";o.Timer_resume_game_time(this.ptr)}setGameTime(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"time is disposed";o.Timer_set_game_time(this.ptr,t.ptr)}setLoadingTimes(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"time is disposed";o.Timer_set_loading_times(this.ptr,t.ptr)}setCustomVariable(t,e){if(0==this.ptr)throw"this is disposed";const s=h(t),i=h(e);o.Timer_set_custom_variable(this.ptr,s.ptr,i.ptr),g(s),g(i)}markAsUnmodified(){if(0==this.ptr)throw"this is disposed";o.Timer_mark_as_unmodified(this.ptr)}}class ss extends es{[Symbol.dispose](){0!=this.ptr&&(o.Timer_drop(this.ptr),this.ptr=0)}static new(t){if(0==t.ptr)throw"run is disposed";const e=new ss(o.Timer_new(t.ptr));return t.ptr=0,0==e.ptr?null:e}intoShared(){if(0==this.ptr)throw"this is disposed";const t=new Ae(o.Timer_into_shared(this.ptr));return this.ptr=0,t}intoRun(t){if(0==this.ptr)throw"this is disposed";const e=new Kt(o.Timer_into_run(this.ptr,t?1:0));return this.ptr=0,e}}class is{ptr;stateAsJson(t,e){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";if(0==e.ptr)throw"layoutSettings is disposed";const s=o.TimerComponent_state_as_json(this.ptr,t.ptr,e.ptr);return JSON.parse(m(s))}state(t,e){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";if(0==e.ptr)throw"layoutSettings is disposed";return new ls(o.TimerComponent_state(this.ptr,t.ptr,e.ptr))}constructor(t){this.ptr=t}}class rs extends is{}class os extends rs{[Symbol.dispose](){0!=this.ptr&&(o.TimerComponent_drop(this.ptr),this.ptr=0)}static new(){return new os(o.TimerComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.TimerComponent_into_generic(this.ptr));return this.ptr=0,t}}class ns{ptr;time(){if(0==this.ptr)throw"this is disposed";return m(o.TimerComponentState_time(this.ptr))}fraction(){if(0==this.ptr)throw"this is disposed";return m(o.TimerComponentState_fraction(this.ptr))}semanticColor(){if(0==this.ptr)throw"this is disposed";return m(o.TimerComponentState_semantic_color(this.ptr))}constructor(t){this.ptr=t}}class as extends ns{}class ls extends as{[Symbol.dispose](){0!=this.ptr&&(o.TimerComponentState_drop(this.ptr),this.ptr=0)}}class ps{ptr;timer(){if(0==this.ptr)throw"this is disposed";return new ts(o.TimerReadLock_timer(this.ptr))}constructor(t){this.ptr=t}}class ds extends ps{}class cs extends ds{[Symbol.dispose](){0!=this.ptr&&(o.TimerReadLock_drop(this.ptr),this.ptr=0)}}class hs{ptr;constructor(t){this.ptr=t}}class us extends hs{timer(){if(0==this.ptr)throw"this is disposed";return new es(o.TimerWriteLock_timer(this.ptr))}}class ms extends us{[Symbol.dispose](){0!=this.ptr&&(o.TimerWriteLock_drop(this.ptr),this.ptr=0)}}class gs{ptr;constructor(t){this.ptr=t}}class fs extends gs{stateAsJson(t,e){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"imageCache is disposed";if(0==e.ptr)throw"timer is disposed";const s=o.TitleComponent_state_as_json(this.ptr,t.ptr,e.ptr);return JSON.parse(m(s))}state(t,e){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"imageCache is disposed";if(0==e.ptr)throw"timer is disposed";return new vs(o.TitleComponent_state(this.ptr,t.ptr,e.ptr))}}class bs extends fs{[Symbol.dispose](){0!=this.ptr&&(o.TitleComponent_drop(this.ptr),this.ptr=0)}static new(){return new bs(o.TitleComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.TitleComponent_into_generic(this.ptr));return this.ptr=0,t}}class ws{ptr;icon(){if(0==this.ptr)throw"this is disposed";return m(o.TitleComponentState_icon(this.ptr))}line1(){if(0==this.ptr)throw"this is disposed";return m(o.TitleComponentState_line1(this.ptr))}line2(){if(0==this.ptr)throw"this is disposed";const t=o.TitleComponentState_line2(this.ptr);return 0==t?null:m(t)}isCentered(){if(0==this.ptr)throw"this is disposed";return 0!=o.TitleComponentState_is_centered(this.ptr)}showsFinishedRuns(){if(0==this.ptr)throw"this is disposed";return 0!=o.TitleComponentState_shows_finished_runs(this.ptr)}finishedRuns(){if(0==this.ptr)throw"this is disposed";return o.TitleComponentState_finished_runs(this.ptr)}showsAttempts(){if(0==this.ptr)throw"this is disposed";return 0!=o.TitleComponentState_shows_attempts(this.ptr)}attempts(){if(0==this.ptr)throw"this is disposed";return o.TitleComponentState_attempts(this.ptr)}constructor(t){this.ptr=t}}class ys extends ws{}class vs extends ys{[Symbol.dispose](){0!=this.ptr&&(o.TitleComponentState_drop(this.ptr),this.ptr=0)}}class Ss{ptr;constructor(t){this.ptr=t}}class xs extends Ss{stateAsJson(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";const e=o.TotalPlaytimeComponent_state_as_json(this.ptr,t.ptr);return JSON.parse(m(e))}state(t){if(0==this.ptr)throw"this is disposed";if(0==t.ptr)throw"timer is disposed";return new gt(o.TotalPlaytimeComponent_state(this.ptr,t.ptr))}}class _s extends xs{[Symbol.dispose](){0!=this.ptr&&(o.TotalPlaytimeComponent_drop(this.ptr),this.ptr=0)}static new(){return new _s(o.TotalPlaytimeComponent_new())}intoGeneric(){if(0==this.ptr)throw"this is disposed";const t=new R(o.TotalPlaytimeComponent_into_generic(this.ptr));return this.ptr=0,t}}let Es=null;function Cs(){return new Promise(((t,e)=>{const s=document.createElement("input");s.setAttribute("type","file"),s.onchange=()=>{const i=s.files?.[0];void 0!==i?t(i):e()},s.click(),Es=s}))}async function ks(t){return new Promise((e=>{const s=new FileReader;s.onload=()=>{const i=s.result;null!=i&&e([i,t])},s.readAsArrayBuffer(t)}))}async function Ts(){return ks(await Cs())}async function Ns(t){return new Promise((e=>{const s=new FileReader;s.onload=()=>{const i=s.result;null!=i&&e([i,t])},s.readAsText(t)}))}function As(t,e){const s=URL.createObjectURL(new Blob([e],{type:"application/octet-stream"}));try{const e=document.createElement("a");e.setAttribute("href",s),e.setAttribute("download",t),e.style.display="none",document.body.appendChild(e);try{e.click()}finally{document.body.removeChild(e)}}finally{URL.revokeObjectURL(s)}}var Rs=s(426);function Ls(t,e){return null!=t?t:Ds(e)}function Ds(t){throw Rs.toast.error(`Bug: ${t}`),new Error(t)}function Os(t,e){t||Ds(e)}function Ps(t,e){null!=t&&(t[Symbol.dispose]?.(),Ds(e))}function Is(t,e){null!=t&&(t[Symbol.dispose](),e())}function Vs(t,e){return null!=t?e(t):void 0}var Bs,zs,Gs=function(t){return function(e){function s(s){e.error=e.hasError?new t(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}return function t(){for(;e.stack.length;){var i=e.stack.pop();try{var r=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(r).then(t,(function(e){return s(e),t()}))}catch(t){s(t)}}if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,s){var i=new Error(s);return i.name="SuppressedError",i.error=t,i.suppressed=e,i});function Us(t,e){return t.catch((t=>{throw e}))}async function Ms(t,e,s){const i=await Us(fetch(t,e),s);if(!i.ok)throw s;return i}async function Fs(t){const e=await Ms("https://splits.io/api/v4/runs",{method:"POST"},Bs.ApiRequestErrored),s=await Us(e.json(),Bs.InvalidJsonResponse),i=s.uris.claim_uri,r=s.presigned_request,o=new FormData,n=r.fields;return o.append("key",n.key),o.append("policy",n.policy),o.append("x-amz-credential",n["x-amz-credential"]),o.append("x-amz-algorithm",n["x-amz-algorithm"]),o.append("x-amz-date",n["x-amz-date"]),o.append("x-amz-signature",n["x-amz-signature"]),o.append("file",t),await Ms(r.uri,{method:r.method,body:o},Bs.UploadRequestErrored),i}async function Hs(t){const e={stack:[],error:void 0,hasError:!1};try{const s=await Ms(`https://splits.io/api/v4/runs/${t}`,{headers:new Headers({Accept:"application/original-timer"})},zs.ApiRequestErrored),i=await Us(s.arrayBuffer(),zs.InvalidBuffer),r=function(t,e,s){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var i;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:i,async:s})}else s&&t.stack.push({async:!0});return e}(e,Kt.parseArray(new Uint8Array(i),""),!1);if(r.parsedSuccessfully())return r.unwrap();throw zs.FailedParsing}catch(t){e.error=t,e.hasError=!0}finally{Gs(e)}}!function(t){t[t.ApiRequestErrored=0]="ApiRequestErrored",t[t.InvalidJsonResponse=1]="InvalidJsonResponse",t[t.UploadRequestErrored=2]="UploadRequestErrored"}(Bs||(Bs={})),function(t){t[t.ApiRequestErrored=0]="ApiRequestErrored",t[t.InvalidBuffer=1]="InvalidBuffer",t[t.FailedParsing=2]="FailedParsing"}(zs||(zs={}));var Ws=s(5260),js=s(5189);function Js(t){return`rgba(${Math.round(255*t[0])},${Math.round(255*t[1])},${Math.round(255*t[2])},${t[3]})`}var $s=s(5072),Ks=s.n($s),qs=s(7825),Ys=s.n(qs),Qs=s(7659),Zs=s.n(Qs),Xs=s(5056),ti=s.n(Xs),ei=s(540),si=s.n(ei),ii=s(1113),ri=s.n(ii),oi=s(7330),ni={};ni.styleTagTransform=ri(),ni.setAttributes=ti(),ni.insert=Zs().bind(null,"head"),ni.domAPI=Ys(),ni.insertStyleElement=si(),Ks()(oi.A,ni),oi.A&&oi.A.locals&&oi.A.locals;class ai extends i.Component{constructor(t){super(t),this.state={display:!1}}render(){return i.createElement("div",null,i.createElement("div",{className:"color-picker-button",style:{background:Js(this.props.color)},onClick:t=>this.handleClick()}),i.createElement("div",{style:{margin:"0 auto",width:"0"}},this.state.display&&i.createElement("div",{style:{position:"absolute",textShadow:"initial",zIndex:3}},i.createElement("div",{style:{bottom:"0px",left:"0px",position:"fixed",right:"0px",top:"0px"},onClick:t=>this.handleClose()}),i.createElement(js.xk,{color:(t=this.props.color,{r:255*t[0],g:255*t[1],b:255*t[2],a:t[3]}),onChange:t=>this.props.setColor(function(t){return[t.r/255,t.g/255,t.b/255,void 0!==t.a?t.a:1]}(t.rgb))}))));var t}handleClick(){this.setState({display:!this.state.display})}handleClose(){this.setState({display:!1})}}var li=s(2991),pi={};function di(t){return Ls(Oo,"The Hotkey System should always be initialized.").resolve(t)}pi.styleTagTransform=ri(),pi.setAttributes=ti(),pi.insert=Zs().bind(null,"head"),pi.domAPI=Ys(),pi.insertStyleElement=si(),Ks()(li.A,pi),li.A&&li.A.locals&&li.A.locals;class ci extends i.Component{constructor(t){super(t),this.state={listener:null,intervalHandle:null}}render(){const t=this.props.value;let e=null;if(null!=t){const s=t.match(/(.+)\+\s*(.+)$/);e=null!=s?`${s[1]}+ ${di(s[2])}`:di(t)}else null!=this.state.listener&&(e=i.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}));return i.createElement("div",{className:"hotkey-box"},i.createElement("button",{className:"hotkey-button tooltip "+(null!=this.state.listener?"focused":""),onClick:()=>this.focusButton()},e,i.createElement("span",{className:"tooltip-text"},"Click to record a hotkey. You may also use buttons on a gamepad. Global hotkeys are currently not possible. Gamepad buttons work globally.")),Vs(this.props.value,(()=>i.createElement("button",{className:"hotkey-clear",onClick:()=>this.props.setValue(null)},i.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})))),null!=this.state.listener&&i.createElement("div",{style:{bottom:"0px",left:"0px",position:"fixed",right:"0px",top:"0px",zIndex:5},onClick:()=>this.blurButton()}))}focusButton(){let t=this.state.listener,e=this.state.intervalHandle;if(null===t&&(t={handleEvent:t=>{if(t.repeat)return;let e="";t.ctrlKey&&"ControlLeft"!==t.code&&"ControlRight"!==t.code&&(e+="Ctrl + "),t.altKey&&"AltLeft"!==t.code&&"AltRight"!==t.code&&(e+="Alt + "),t.metaKey&&"MetaLeft"!==t.code&&"MetaRight"!==t.code&&(e+="Meta + "),t.shiftKey&&"ShiftLeft"!==t.code&&"ShiftRight"!==t.code&&(e+="Shift + "),e+=t.code,this.props.setValue(e),t.preventDefault()}},window.addEventListener("keydown",t)),null===e){const t=[];e=window.setInterval((()=>{const e=navigator.getGamepads();let s=0;for(const i of e){if(s>=t.length&&(t[s]=[]),null!==i){let e=0;for(const r of i.buttons){const i=t[s]?.[e]??!1;r.pressed&&!i&&this.props.setValue(`Gamepad${e}`),t[s][e]=r.pressed,e++}}s++}}),1e3/60)}this.setState({listener:t,intervalHandle:e})}blurButton(){null!=this.state.listener&&window.removeEventListener("keydown",this.state.listener),null!=this.state.intervalHandle&&window.clearTimeout(this.state.intervalHandle),this.setState({listener:null,intervalHandle:null})}}var hi=s(5384),ui=(s(4131),s(6796)),mi={};mi.styleTagTransform=ri(),mi.setAttributes=ti(),mi.insert=Zs().bind(null,"head"),mi.domAPI=Ys(),mi.insertStyleElement=si(),Ks()(ui.A,mi),ui.A&&ui.A.locals&&ui.A.locals;class gi extends i.Component{constructor(t){super(t)}render(){return i.createElement("div",{className:"toggle-checkbox"},i.createElement(hi.A,{checked:this.props.value,icons:!1,onChange:t=>this.props.setValue(t.target.checked)}))}}let fi=!1,bi=[];const wi=new Map,yi=[["thin","thin","Thin"],["extralight","extra-light","Extra Light"],["light","light","Light"],["semilight","semi-light","Semi Light"],["normal","normal","Normal"],["medium","medium","Medium"],["semibold","semi-bold","Semi Bold"],["bold","bold","Bold"],["extrabold","extra-bold","Extra Bold"],["black","black","Black"],["extrablack","extra-black","Extra Black"]],vi=[["ultracondensed","ultra-condensed","Ultra Condensed"],["extracondensed","extra-condensed","Extra Condensed"],["condensed","condensed","Condensed"],["semicondensed","semi-condensed","Semi Condensed"],["normal","normal","Normal"],["semiexpanded","semi-expanded","Semi Expanded"],["expanded","expanded","Expanded"],["extraexpanded","extra-expanded","Extra Expanded"],["ultraexpanded","ultra-expanded","Ultra Expanded"]];var Si=s(1072),xi={};xi.styleTagTransform=ri(),xi.setAttributes=ti(),xi.insert=Zs().bind(null,"head"),xi.domAPI=Ys(),xi.insertStyleElement=si(),Ks()(Si.A,xi),Si.A&&Si.A.locals&&Si.A.locals;var _i=s(5594),Ei={};Ei.styleTagTransform=ri(),Ei.setAttributes=ti(),Ei.insert=Zs().bind(null,"head"),Ei.domAPI=Ys(),Ei.insertStyleElement=si(),Ks()(_i.A,Ei),_i.A&&_i.A.locals&&_i.A.locals;class Ci{fromBool(t){return{Bool:t}}fromUint(t){throw new Error("Not implemented")}fromInt(t){throw new Error("Not implemented")}fromString(t){return{String:t}}fromOptionalString(t){throw new Error("Not implemented")}fromOptionalEmptyString(){throw new Error("Not implemented")}fromRemovableString(t){return{RemovableString:t}}fromRemovableEmptyString(){return{RemovableString:null}}fromAccuracy(t){throw new Error("Not implemented")}fromDigitsFormat(t){throw new Error("Not implemented")}fromOptionalTimingMethod(t){throw new Error("Not implemented")}fromOptionalEmptyTimingMethod(){throw new Error("Not implemented")}fromColor(){throw new Error("Not implemented")}fromOptionalColor(){throw new Error("Not implemented")}fromOptionalEmptyColor(){throw new Error("Not implemented")}fromTransparentGradient(){throw new Error("Not implemented")}fromVerticalGradient(){throw new Error("Not implemented")}fromHorizontalGradient(){throw new Error("Not implemented")}fromAlternatingGradient(){throw new Error("Not implemented")}fromAlignment(t){throw new Error("Not implemented")}fromColumnKind(t){throw new Error("Not implemented")}fromColumnStartWith(t){throw new Error("Not implemented")}fromColumnUpdateWith(t){throw new Error("Not implemented")}fromColumnUpdateTrigger(t){throw new Error("Not implemented")}fromLayoutDirection(t){throw new Error("Not implemented")}fromFont(t,e,s,i){throw new Error("Not implemented")}fromEmptyFont(){throw new Error("Not implemented")}fromDeltaGradient(t){throw new Error("Not implemented")}fromBackgroundImage(t,e,s,i){throw new Error("Not implemented")}}class ki extends i.Component{render(){const t=[],{factory:e}=this.props;return this.props.state.fields.forEach(((s,r)=>{const{value:o}=s;let n;if("Bool"in o)n=i.createElement("div",{className:"settings-value-box"},i.createElement(gi,{value:o.Bool,setValue:t=>{this.props.setValue(r,e.fromBool(t))}}));else if("UInt"in o)n=i.createElement("div",{className:"settings-value-box"},i.createElement("input",{type:"number",className:"number",value:o.UInt,min:"0",onChange:t=>{this.props.setValue(r,e.fromUint(t.target.valueAsNumber))}}));else if("Int"in o)n=i.createElement("div",{className:"settings-value-box"},i.createElement("input",{type:"number",className:"number",value:o.Int,onChange:t=>{this.props.setValue(r,e.fromInt(t.target.valueAsNumber))}}));else if("String"in o)n=i.createElement("div",{className:"settings-value-box"},i.createElement("input",{value:o.String,onChange:t=>{this.props.setValue(r,e.fromString(t.target.value))}}));else if("OptionalString"in o)if("string"==typeof s.text&&/^Comparison( \d)?$/.test(s.text))n=i.createElement("div",{className:"settings-value-box"},i.createElement("select",{value:o.OptionalString??"",onChange:t=>{""!==t.target.value?this.props.setValue(r,e.fromOptionalString(t.target.value)):this.props.setValue(r,e.fromOptionalEmptyString())}},i.createElement("option",{value:""},"Current Comparison"),this.props.allComparisons.map((t=>i.createElement("option",null,t)))));else{const t=[i.createElement(gi,{value:null!==o.OptionalString,setValue:t=>{t?this.props.setValue(r,e.fromOptionalString("")):this.props.setValue(r,e.fromOptionalEmptyString())}})];null!==o.OptionalString&&t.push(i.createElement("input",{value:o.OptionalString,onChange:t=>{this.props.setValue(r,e.fromOptionalString(t.target.value))}})),n=i.createElement("div",{className:"settings-value-box optional-value"},t)}else if("RemovableString"in o)n=i.createElement("div",{className:"settings-value-box removable-string"},i.createElement("input",{value:o.RemovableString||"",onChange:t=>{if(!e.fromRemovableString)throw Error("Method is not implemented");this.props.setValue(r,e.fromRemovableString(t.target.value))}}),i.createElement("button",{onClick:()=>{if(!e.fromRemovableEmptyString)throw Error("Method is not implemented");this.props.setValue(r,e.fromRemovableEmptyString())}},i.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})));else if("Accuracy"in o)n=i.createElement("div",{className:"settings-value-box"},i.createElement("select",{value:o.Accuracy,onChange:t=>{this.props.setValue(r,Ls(e.fromAccuracy(t.target.value),"Unexpected Accuracy"))}},i.createElement("option",{value:"Seconds"},"Seconds"),i.createElement("option",{value:"Tenths"},"Tenths"),i.createElement("option",{value:"Hundredths"},"Hundredths"),i.createElement("option",{value:"Milliseconds"},"Milliseconds")));else if("DigitsFormat"in o)n=i.createElement("div",{className:"settings-value-box"},i.createElement("select",{value:o.DigitsFormat,onChange:t=>{this.props.setValue(r,Ls(e.fromDigitsFormat(t.target.value),"Unexpected Digits Format"))}},i.createElement("option",{value:"SingleDigitSeconds"},"1"),i.createElement("option",{value:"DoubleDigitSeconds"},"01"),i.createElement("option",{value:"SingleDigitMinutes"},"0:01"),i.createElement("option",{value:"DoubleDigitMinutes"},"00:01"),i.createElement("option",{value:"SingleDigitHours"},"0:00:01"),i.createElement("option",{value:"DoubleDigitHours"},"00:00:01")));else if("Color"in o)n=i.createElement("div",{className:"settings-value-box"},i.createElement(ai,{color:o.Color,setColor:t=>{this.props.setValue(r,e.fromColor(t[0],t[1],t[2],t[3]))}}));else if("OptionalColor"in o){const t=[];null!==o.OptionalColor&&t.push(i.createElement(ai,{color:o.OptionalColor,setColor:t=>{this.props.setValue(r,e.fromOptionalColor(t[0],t[1],t[2],t[3]))}})),n=i.createElement("div",{className:"settings-value-box optional-value"},i.createElement(gi,{value:null!==o.OptionalColor,setValue:t=>{t?this.props.setValue(r,e.fromOptionalColor(1,1,1,1)):this.props.setValue(r,e.fromOptionalEmptyColor())}}),t)}else if("Gradient"in o){let t,s=null,a=null;const l=o.Gradient;"Transparent"!==l?(t=Object.keys(l)[0],"Plain"in l?s=l.Plain:"Vertical"in l?[s,a]=l.Vertical:"Horizontal"in l&&([s,a]=l.Horizontal)):t="Transparent";const p=(t,s,i)=>{switch(s=s||[0,0,0,0],i=i||s,t){case"Transparent":return e.fromTransparentGradient();case"Plain":return e.fromColor(s[0],s[1],s[2],s[3]);case"Vertical":return e.fromVerticalGradient(s[0],s[1],s[2],s[3],i[0],i[1],i[2],i[3]);case"Horizontal":return e.fromHorizontalGradient(s[0],s[1],s[2],s[3],i[0],i[1],i[2],i[3]);default:throw new Error("Unexpected Gradient Type")}},d=[i.createElement("select",{value:t,onChange:t=>{this.props.setValue(r,p(t.target.value,s,a))}},i.createElement("option",{value:"Transparent"},"Transparent"),i.createElement("option",{value:"Plain"},"Plain"),i.createElement("option",{value:"Vertical"},"Vertical"),i.createElement("option",{value:"Horizontal"},"Horizontal"))];s&&d.push(i.createElement(ai,{color:s,setColor:e=>{this.props.setValue(r,p(t,e,a))}})),a&&d.push(i.createElement(ai,{color:a,setColor:e=>{this.props.setValue(r,p(t,s,e))}})),n=a?i.createElement("div",{className:"settings-value-box two-colors"},d):s?i.createElement("div",{className:"settings-value-box one-color"},d):i.createElement("div",{className:"settings-value-box"},d)}else if("ListGradient"in o){let t,s=null,a=null;const l=o.ListGradient;if("Alternating"in l)t=Object.keys(l)[0],[s,a]=l.Alternating;else{const e=l.Same;"Transparent"!==e?(t=Object.keys(e)[0],"Plain"in e?s=e.Plain:"Vertical"in e?[s,a]=e.Vertical:"Horizontal"in e&&([s,a]=e.Horizontal)):t="Transparent"}const p=(t,s,i)=>{switch(s=s||[0,0,0,0],i=i||s,t){case"Transparent":return e.fromTransparentGradient();case"Plain":return e.fromColor(s[0],s[1],s[2],s[3]);case"Vertical":return e.fromVerticalGradient(s[0],s[1],s[2],s[3],i[0],i[1],i[2],i[3]);case"Horizontal":return e.fromHorizontalGradient(s[0],s[1],s[2],s[3],i[0],i[1],i[2],i[3]);case"Alternating":return e.fromAlternatingGradient(s[0],s[1],s[2],s[3],i[0],i[1],i[2],i[3]);default:throw new Error("Unexpected Gradient Type")}},d=[i.createElement("select",{value:t,onChange:t=>{this.props.setValue(r,p(t.target.value,s,a))}},i.createElement("option",{value:"Transparent"},"Transparent"),i.createElement("option",{value:"Plain"},"Plain"),i.createElement("option",{value:"Vertical"},"Vertical"),i.createElement("option",{value:"Horizontal"},"Horizontal"),i.createElement("option",{value:"Alternating"},"Alternating"))];s&&d.push(i.createElement(ai,{color:s,setColor:e=>{this.props.setValue(r,p(t,e,a))}})),a&&d.push(i.createElement(ai,{color:a,setColor:e=>{this.props.setValue(r,p(t,s,e))}})),n=a?i.createElement("div",{className:"settings-value-box two-colors"},d):s?i.createElement("div",{className:"settings-value-box one-color"},d):i.createElement("div",{className:"settings-value-box"},d)}else if("OptionalTimingMethod"in o){const t=[i.createElement(gi,{value:null!==o.OptionalTimingMethod,setValue:t=>{t?this.props.setValue(r,Ls(e.fromOptionalTimingMethod("RealTime"),"Unexpected Optional Timing Method")):this.props.setValue(r,e.fromOptionalEmptyTimingMethod())}})];null!==o.OptionalTimingMethod&&t.push(i.createElement("select",{value:o.OptionalTimingMethod,onChange:t=>{this.props.setValue(r,Ls(e.fromOptionalTimingMethod(t.target.value),"Unexpected Optional Timing Method"))}},i.createElement("option",{value:"RealTime"},"Real Time"),i.createElement("option",{value:"GameTime"},"Game Time"))),n=i.createElement("div",{className:"settings-value-box optional-value"},t)}else if("Alignment"in o)n=i.createElement("div",{className:"settings-value-box"},i.createElement("select",{value:o.Alignment,onChange:t=>{this.props.setValue(r,Ls(e.fromAlignment(t.target.value),"Unexpected Alignment"))}},i.createElement("option",{value:"Auto"},"Automatic"),i.createElement("option",{value:"Left"},"Left"),i.createElement("option",{value:"Center"},"Center")));else if("ColumnKind"in o)n=i.createElement("div",{className:"settings-value-box"},i.createElement("select",{value:o.ColumnKind,onChange:t=>{this.props.setValue(r,Ls(e.fromColumnKind(t.target.value),"Unexpected Column Kind value"))}},i.createElement("option",{value:"Time"},"Time"),i.createElement("option",{value:"Variable"},"Variable")));else if("ColumnStartWith"in o)n=i.createElement("div",{className:"settings-value-box"},i.createElement("select",{value:o.ColumnStartWith,onChange:t=>{this.props.setValue(r,Ls(e.fromColumnStartWith(t.target.value),"Unexpected Column Start With value"))}},i.createElement("option",{value:"Empty"},"Empty"),i.createElement("option",{value:"ComparisonTime"},"Comparison Time"),i.createElement("option",{value:"ComparisonSegmentTime"},"Comparison Segment Time"),i.createElement("option",{value:"PossibleTimeSave"},"Possible Time Save")));else if("ColumnUpdateWith"in o)n=i.createElement("div",{className:"settings-value-box"},i.createElement("select",{value:o.ColumnUpdateWith,onChange:t=>{this.props.setValue(r,Ls(e.fromColumnUpdateWith(t.target.value),"Unexpected Column Update With value"))}},i.createElement("option",{value:"DontUpdate"},"Don't Update"),i.createElement("option",{value:"SplitTime"},"Split Time"),i.createElement("option",{value:"Delta"},"Time Ahead / Behind"),i.createElement("option",{value:"DeltaWithFallback"},"Time Ahead / Behind or Split Time If Empty"),i.createElement("option",{value:"SegmentTime"},"Segment Time"),i.createElement("option",{value:"SegmentDelta"},"Time Saved / Lost"),i.createElement("option",{value:"SegmentDeltaWithFallback"},"Time Saved / Lost or Segment Time If Empty")));else if("ColumnUpdateTrigger"in o)n=i.createElement("div",{className:"settings-value-box"},i.createElement("select",{value:o.ColumnUpdateTrigger,onChange:t=>{this.props.setValue(r,Ls(e.fromColumnUpdateTrigger(t.target.value),"Unexpected Column Update Trigger value"))}},i.createElement("option",{value:"OnStartingSegment"},"On Starting Segment"),i.createElement("option",{value:"Contextual"},"Contextual"),i.createElement("option",{value:"OnEndingSegment"},"On Ending Segment")));else if("CustomCombobox"in o){const t=o.CustomCombobox.mandatory&&!o.CustomCombobox.value;n=i.createElement("div",{className:"settings-value-box"},i.createElement("select",{value:o.CustomCombobox.value,onChange:t=>{this.props.setValue(r,e.fromString(t.target.value))},style:{border:t?"1px solid rgb(255, 0, 0)":void 0}},o.CustomCombobox.list.map((t=>i.createElement("option",{value:t},t)))))}else if("Hotkey"in o)n=i.createElement("div",{className:"settings-value-box"},i.createElement(ci,{value:o.Hotkey,setValue:t=>{null!=t?this.props.setValue(r,e.fromOptionalString(t)):this.props.setValue(r,e.fromOptionalEmptyString())}}));else if("LayoutDirection"in o)n=i.createElement("div",{className:"settings-value-box"},i.createElement("select",{value:o.LayoutDirection,onChange:t=>{this.props.setValue(r,Ls(e.fromLayoutDirection(t.target.value),"Unexpected Layout Direction"))}},i.createElement("option",{value:"Vertical"},"Vertical"),i.createElement("option",{value:"Horizontal"},"Horizontal")));else if("Font"in o){const t=[i.createElement(gi,{value:null!==o.Font,setValue:t=>{t?this.props.setValue(r,Ls(e.fromFont("","normal","normal","normal"),"Unexpected Font")):this.props.setValue(r,e.fromEmptyFont())}})];if(null!==o.Font){a=()=>this.setState({}),fi||(fi=!0,"queryLocalFonts"in window&&window.queryLocalFonts().then((t=>{try{for(const e of t){wi.has(e.family)||wi.set(e.family,new Set(["normal","bold"]));const t=wi.get(e.family),s=e.style.toLowerCase().split(" ");for(const[e,i]of vi)s.includes(e)&&t.add(i);for(const[e,i]of yi)s.includes(e)&&t.add(i)}bi=Array.from(wi.keys()),a()}catch{}})));const{family:s,style:n,weight:l,stretch:p}=o.Font,d=wi.get(s);bi.length>0?t.push(i.createElement("select",{style:{fontFamily:s},value:s,onChange:t=>{this.props.setValue(r,Ls(e.fromFont(t.target.value,n,l,p),"Unexpected Font"))}},i.createElement("option",{value:""}),bi.map((t=>i.createElement("option",{value:t,style:{fontFamily:t}},t))))):t.push(i.createElement("input",{value:s,onChange:t=>{this.props.setValue(r,Ls(e.fromFont(t.target.value,n,l,p),"Unexpected Font"))}})),t.push(i.createElement(i.Fragment,null,"Style"),i.createElement("select",{value:n,onChange:t=>{this.props.setValue(r,Ls(e.fromFont(s,t.target.value,l,p),"Unexpected Font"))}},i.createElement("option",{value:"normal"},"Normal"),i.createElement("option",{value:"italic"},"Italic")),i.createElement(i.Fragment,null,"Weight"),i.createElement("select",{value:l,onChange:t=>{this.props.setValue(r,Ls(e.fromFont(s,n,t.target.value,p),"Unexpected Font"))}},yi.map((([t,e,s])=>i.createElement("option",{style:{color:d?.has(e)?"white":"grey"},value:e},s)))),i.createElement(i.Fragment,null,"Stretch"),i.createElement("select",{value:p,onChange:t=>{this.props.setValue(r,Ls(e.fromFont(s,n,l,t.target.value),"Unexpected Font"))}},vi.map((([t,e,s])=>i.createElement("option",{style:{color:d?.has(e)?"white":"grey"},value:e},s)))))}n=i.createElement("div",{className:"settings-value-box optional-value"},t)}else if("DeltaGradient"in o){let t,s=null,a=null;const l=o.DeltaGradient;"string"!=typeof l?([t]=Object.keys(l),"Plain"in l?s=l.Plain:"Vertical"in l?[s,a]=l.Vertical:"Horizontal"in l&&([s,a]=l.Horizontal)):t=l;const p=(t,s,i)=>{switch(s=s||[0,0,0,0],i=i||s,t){case"Transparent":return e.fromTransparentGradient();case"Plain":return e.fromColor(s[0],s[1],s[2],s[3]);case"Vertical":return e.fromVerticalGradient(s[0],s[1],s[2],s[3],i[0],i[1],i[2],i[3]);case"Horizontal":return e.fromHorizontalGradient(s[0],s[1],s[2],s[3],i[0],i[1],i[2],i[3]);default:return Ls(e.fromDeltaGradient(t),"Unexpected Gradient Type")}},d=[i.createElement("select",{value:t,onChange:t=>{this.props.setValue(r,p(t.target.value,s,a))}},i.createElement("option",{value:"Transparent"},"Transparent"),i.createElement("option",{value:"Plain"},"Plain"),i.createElement("option",{value:"Vertical"},"Vertical"),i.createElement("option",{value:"Horizontal"},"Horizontal"),i.createElement("option",{value:"DeltaPlain"},"Plain Delta"),i.createElement("option",{value:"DeltaVertical"},"Vertical Delta"),i.createElement("option",{value:"DeltaHorizontal"},"Horizontal Delta"))];s&&d.push(i.createElement(ai,{color:s,setColor:e=>{this.props.setValue(r,p(t,e,a))}})),a&&d.push(i.createElement(ai,{color:a,setColor:e=>{this.props.setValue(r,p(t,s,e))}})),n=a?i.createElement("div",{className:"settings-value-box two-colors"},d):s?i.createElement("div",{className:"settings-value-box one-color"},d):i.createElement("div",{className:"settings-value-box"},d)}else if("LayoutBackground"in o){let t,s=null,a=null,l="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",p=100,d=100,c=0;const h=o.LayoutBackground,u=[],m=(t,s,i)=>{switch(s=s||[0,0,0,0],i=i||s,t){case"Transparent":return e.fromTransparentGradient();case"Plain":return e.fromColor(s[0],s[1],s[2],s[3]);case"Vertical":return e.fromVerticalGradient(s[0],s[1],s[2],s[3],i[0],i[1],i[2],i[3]);case"Horizontal":return e.fromHorizontalGradient(s[0],s[1],s[2],s[3],i[0],i[1],i[2],i[3]);default:return Ls(e.fromBackgroundImage(l,p/100,d/100,c/100),"Unexpected layout background")}};if("string"!=typeof h){if([t]=Object.keys(h),"Plain"in h)s=h.Plain;else if("Vertical"in h)[s,a]=h.Vertical;else if("Horizontal"in h)[s,a]=h.Horizontal;else if("image"in h){l=h.image,p=100*h.brightness,d=100*h.opacity,c=100*h.blur,t="Image";const o=this.props.editorUrlCache.cache(l);u.push(i.createElement("div",{className:"color-picker-button",style:{background:`url("${o}") center / cover`},onClick:async t=>{const[s]=await Ts(),i=this.props.editorUrlCache.imageCache.cacheFromArray(new Uint8Array(s),!0);this.props.editorUrlCache.cache(i);const o=Ls(e.fromBackgroundImage(i,p/100,d/100,c/100),"Unexpected layout background");this.props.setValue(r,o)}}),i.createElement("div",{style:{gridTemplateColumns:"max-content 1fr",columnGap:"8px",rowGap:"8px",alignItems:"center",display:"grid",gridColumn:"1 / 3"}},"Brightness",i.createElement("input",{type:"range",min:"0",max:"100",value:p,onChange:e=>{p=Number(e.target.value),this.props.setValue(r,m(t,s,a))}}),"Opacity",i.createElement("input",{type:"range",min:"0",max:"100",value:d,onChange:e=>{d=Number(e.target.value),this.props.setValue(r,m(t,s,a))}}),"Blur",i.createElement("input",{type:"range",min:"0",max:"100",value:c,onChange:e=>{c=Number(e.target.value),this.props.setValue(r,m(t,s,a))}})))}}else t=h;u.splice(0,0,i.createElement("select",{value:t,onChange:t=>{this.props.setValue(r,m(t.target.value,s,a))}},i.createElement("option",{value:"Transparent"},"Transparent"),i.createElement("option",{value:"Plain"},"Plain"),i.createElement("option",{value:"Vertical"},"Vertical"),i.createElement("option",{value:"Horizontal"},"Horizontal"),i.createElement("option",{value:"Image"},"Image"))),s&&u.push(i.createElement(ai,{color:s,setColor:e=>{this.props.setValue(r,m(t,e,a))}})),a&&u.push(i.createElement(ai,{color:a,setColor:e=>{this.props.setValue(r,m(t,s,e))}})),n=a?i.createElement("div",{className:"settings-value-box two-colors"},u):s||"Image"===t?i.createElement("div",{className:"settings-value-box one-color"},u):i.createElement("div",{className:"settings-value-box"},u)}else"ServerConnection"in o&&(n=i.createElement("div",{className:"settings-value-box"},i.createElement("button",{className:"livesplit-server-button",onClick:t=>this.connectToServerOrDisconnect(r,o.ServerConnection.url,o.ServerConnection.connection)},(()=>{switch(o.ServerConnection.connection?.getConnectionState()??WebSocket.CLOSED){case WebSocket.OPEN:return i.createElement("div",null,"Disconnect");case WebSocket.CLOSED:return i.createElement("div",null,"Connect");case WebSocket.CONNECTING:return i.createElement("div",null,"Connecting...");case WebSocket.CLOSING:return i.createElement("div",null,"Disconnecting...");default:throw new Error("Unknown WebSocket State")}})())));var a;t.push(i.createElement("tr",{key:`${this.props.context}$${r}`},i.createElement("td",{className:"tooltip"},s.text,i.createElement("span",{className:"tooltip-text"},s.tooltip)),i.createElement("td",null,n)))})),i.createElement("table",{className:"table settings-table"},i.createElement("tbody",{className:"table-body"},t))}connectToServerOrDisconnect(t,e,s){if(s)return void s.close();const i=prompt("Specify the WebSocket URL:",e);i&&this.props.setValue(t,this.props.factory.fromString(i))}}var Ti=s(6036);const Ni="Match Screen",Ai="Battery Aware";let Ri=Ni;switch(navigator.platform){case"iPhone":case"iPad":case"Android":Ri=30}let Li=Ri,Di=Ni;function Oi(){Li="string"==typeof Ri?Di:"string"==typeof Di?Ri:Math.min(Ri,Di)}"PressureObserver"in window&&(async()=>{try{const t=new window.PressureObserver((t=>{switch(t[0].state){case"serious":Di=30;break;case"critical":Di=10;break;default:Di=Ni}Oi()}));await t.observe("cpu",{sampleInterval:2e3})}catch{}})(),(async()=>{try{const t=await navigator.getBattery();t.onchargingchange=()=>{Ri=!0===t.charging?Ni:30,Oi()}}catch{}})();class Pi extends i.Component{reqId;previousTime=0;componentDidMount(){this.startAnimation()}componentWillUnmount(){this.reqId&&cancelAnimationFrame(this.reqId)}render(){return this.props.children}startAnimation(){this.previousTime=0,this.animate()}animate(){this.reqId=requestAnimationFrame((()=>this.animate()));let t=this.props.frameRate;if(t===Ai&&(t=Li),"number"==typeof t){const e=performance.now(),s=e-this.previousTime,i=1e3/t;if(s<i)return;this.previousTime=e-s%i}this.props.update()}}var Ii=s(8619),Vi={};Vi.styleTagTransform=ri(),Vi.setAttributes=ti(),Vi.insert=Zs().bind(null,"head"),Vi.domAPI=Ys(),Vi.insertStyleElement=si(),Ks()(Ii.A,Vi),Ii.A&&Ii.A.locals&&Ii.A.locals;class Bi extends i.Component{refreshLayout(){const t=this.props.getState(),e=this.props.renderer.render(t.ptr,this.props.layoutUrlCache.imageCache.ptr);void 0!==e&&this.props.onResize(e[0],e[1])}render(){return i.createElement(Pi,{frameRate:this.props.generalSettings.frameRate,update:()=>this.refreshLayout()},i.createElement("div",{className:"layout",style:{width:this.props.width,height:this.props.height}},i.createElement("div",{style:{width:"inherit",height:"inherit"},ref:t=>t?.appendChild(this.props.renderer.element())}),this.props.allowResize&&i.createElement("div",{className:"resizable-layout"},i.createElement(Ti.ResizableBox,{axis:"x",width:this.props.width,height:this.props.height,minConstraints:[100,40],handle:i.createElement("div",{onClick:t=>t.stopPropagation(),className:"resizable-handle-east"}),onResize:(t,e)=>this.props.onResize(e.size.width,e.size.height)}),i.createElement(Ti.ResizableBox,{axis:"y",width:this.props.width,height:this.props.height,minConstraints:[100,40],handle:i.createElement("div",{onClick:t=>t.stopPropagation(),className:"resizable-handle-south"}),onResize:(t,e)=>this.props.onResize(e.size.width,e.size.height)}),i.createElement(Ti.ResizableBox,{axis:"both",width:this.props.width,height:this.props.height,minConstraints:[100,40],handle:i.createElement("div",{onClick:t=>t.stopPropagation(),className:"resizable-handle-south-east"}),onResize:(t,e)=>this.props.onResize(e.size.width,e.size.height)}))))}}var zi=s(390),Gi={};Gi.styleTagTransform=ri(),Gi.setAttributes=ti(),Gi.insert=Zs().bind(null,"head"),Gi.domAPI=Ys(),Gi.insertStyleElement=si(),Ks()(zi.A,Gi),zi.A&&zi.A.locals&&zi.A.locals;class Ui extends i.Component{constructor(t){super(t),this.state={editor:t.editor.stateAsJson(t.layoutEditorUrlCache.imageCache),showComponentSettings:!0},t.layoutEditorUrlCache.collect()}render(){const t=this.renderView(),e=this.renderSidebarContent();return this.props.callbacks.renderViewWithSidebar(t,e)}renderView(){const t=this.state.editor.components.map(((t,e)=>{let s="layout-editor-component";return e===this.state.editor.selected_component&&(s+=" selected"),i.createElement("tr",{key:e,onClick:t=>this.selectComponent(e),draggable:!0,onDragStart:t=>{t.dataTransfer.setData("text/plain",""),this.props.editor.select(e),this.update()},onDragOver:t=>{t.preventDefault&&t.preventDefault(),t.dataTransfer.dropEffect="move"},onDragEnd:t=>this.update(),onDrop:t=>(t.stopPropagation&&t.stopPropagation(),this.props.editor.moveComponent(e),!1)},i.createElement("td",{className:s},t))}));let e=null;const s=this.state.showComponentSettings?i.createElement(ki,{context:`component-settings$${this.state.editor.selected_component}`,factory:ke,state:this.state.editor.component_settings,editorUrlCache:this.props.layoutEditorUrlCache,allComparisons:this.props.allComparisons,setValue:(t,e)=>{this.props.editor.setComponentSettingsValue(t,e),this.update()}}):i.createElement(ki,{context:"layout-settings",factory:ke,state:this.state.editor.general_settings,editorUrlCache:this.props.layoutEditorUrlCache,allComparisons:this.props.allComparisons,setValue:(t,e)=>{this.props.editor.setGeneralSettingsValue(t,e,this.props.layoutEditorUrlCache.imageCache),this.update()}});return i.createElement("div",{className:"layout-editor-outer"},i.createElement("div",{className:"layout-editor-inner-container"},i.createElement("div",{className:"layout-editor-inner"},i.createElement("div",{className:"btn-group"},i.createElement(Ws.Rc,{id:"add-button-context-menu",ref:t=>e=t},i.createElement("button",{"aria-label":"Add Component",onClick:t=>{e&&e.handleContextClick(t)}},i.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}))),i.createElement(Ws.tz,{id:"add-button-context-menu"},i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(bs)},"Title",i.createElement("span",{className:"tooltip-text"},"Shows the name of the game and the category that is being run. Additionally, the game icon, the attempt count, and the total number of successfully finished runs can be shown.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(tt)},"Graph",i.createElement("span",{className:"tooltip-text"},"Visualizes how far the current run has been ahead or behind the chosen comparison throughout the whole run. All the individual deltas are shown as points on the graph.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(De)},"Splits",i.createElement("span",{className:"tooltip-text"},"The main component for visualizing all the split times. Each segment is shown in a tabular fashion showing the segment icon, segment name, the delta compared to the chosen comparison, and the split time. The list provides scrolling functionality, so not every segment needs to be shown all the time.")),i.createElement(Ws.Dr,{divider:!0}),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(F)},"Detailed Timer",i.createElement("span",{className:"tooltip-text"},"Shows two timers, one for the total time of the current run and one showing the time of just the current segment. Other information, like segment times of up to two comparisons, the segment icon, and the segment name, can also be shown.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(os)},"Timer",i.createElement("span",{className:"tooltip-text"},"Shows the total time of the current run as a digital clock. The color of the time shown is based on a how well the current run is doing compared to the chosen comparison.")),i.createElement(Ws.Dr,{divider:!0}),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(O)},"Current Comparison",i.createElement("span",{className:"tooltip-text"},"Shows the name of the comparison that the timer is currently comparing against.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(V)},"Current Pace",i.createElement("span",{className:"tooltip-text"},'Shows a prediction for the current run\'s final time. The remainder of the run is predicted based on the chosen comparison for the component. For example, the "Best Segments" comparison can be chosen to show the best possible final time for the current run based on the Sum of Best Segments.')),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(G)},"Delta",i.createElement("span",{className:"tooltip-text"},"Shows how far ahead or behind the current run is compared to the chosen comparison.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(Vt)},"PB Chance",i.createElement("span",{className:"tooltip-text"},"Shows how likely it is for the active run to beat the personal best. If there is no active run, it shows the general chance of beating the personal best. During a run, it actively changes based on how well the run is going.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(Gt)},"Possible Time Save",i.createElement("span",{className:"tooltip-text"},'Shows how much time you can save on the current segment compared to the chosen comparison, based on the best segment time of the segment. This component also allows showing the "Total Possible Time Save" for the remainder of the current run.')),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(jt)},"Previous Segment",i.createElement("span",{className:"tooltip-text"},'Shows how much time was saved or lost during the previous segment based on the chosen comparison. Additionally, the potential time save for the previous segment can be displayed. This component switches to a "Live Segment" view that shows the active time loss whenever you are losing time on the current segment.')),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(be)},"Segment Time",i.createElement("span",{className:"tooltip-text"},"Shows the time for the current segment for the chosen comparison. If no comparison is specified it uses the timer's current comparison.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(Me)},"Sum of Best Segments",i.createElement("span",{className:"tooltip-text"},"Shows the fastest possible time to complete a run of the current category, based on information collected from all the previous runs. This often matches up with the sum of the best segment times of all the segments, but that may not always be the case, as skipped segments may introduce combined segments that may be faster than the actual sum of their best segment times. The name is therefore a bit misleading, but sticks around for historical reasons.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(We)},"Text",i.createElement("span",{className:"tooltip-text"},"Shows the text that you specify. This can either be a single centered text, or split up into a left and right text, which is suitable for a situation where you have a label and a value. There is also the option of showing a custom variable that you specify in the splits editor.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(_s)},"Total Playtime",i.createElement("span",{className:"tooltip-text"},"Shows the total amount of time that the current category has been played for.")),i.createElement(Ws.Dr,{divider:!0}),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(E)},"Blank Space",i.createElement("span",{className:"tooltip-text"},"An empty component that doesn't show anything other than a background. It mostly serves as padding between other components.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComponent(ve)},"Separator",i.createElement("span",{className:"tooltip-text"},"A simple component that just renders a separator between components."))),i.createElement("button",{"aria-label":"Remove Component",onClick:t=>this.removeComponent(),disabled:!this.state.editor.buttons.can_remove},i.createElement("i",{className:"fa fa-minus","aria-hidden":"true"})),i.createElement("button",{"aria-label":"Duplicate Component",onClick:t=>this.duplicateComponent()},i.createElement("i",{className:"fa fa-clone","aria-hidden":"true"})),i.createElement("button",{"aria-label":"Move Component Up",onClick:t=>this.moveComponentUp(),disabled:!this.state.editor.buttons.can_move_up},i.createElement("i",{className:"fa fa-arrow-up","aria-hidden":"true"})),i.createElement("button",{"aria-label":"Move Component Down",onClick:t=>this.moveComponentDown(),disabled:!this.state.editor.buttons.can_move_down},i.createElement("i",{className:"fa fa-arrow-down","aria-hidden":"true"}))),i.createElement("table",{className:"layout-editor-component-list table"},i.createElement("tbody",{className:"table-body"},t))),i.createElement("div",{className:"tab-bar layout-editor-tabs"},i.createElement("button",{className:"toggle-left"+(this.state.showComponentSettings?"":" button-pressed"),onClick:t=>{this.setState({showComponentSettings:!1})}},"Layout"),i.createElement("button",{className:"toggle-right"+(this.state.showComponentSettings?" button-pressed":""),onClick:t=>{this.setState({showComponentSettings:!0})}},"Component")),i.createElement("div",null,s)),i.createElement("div",{className:"layout-container"},i.createElement(Bi,{getState:()=>(this.props.eventSink.updateLayoutEditorLayoutState(this.props.editor,this.props.layoutState,this.props.layoutUrlCache.imageCache),this.props.layoutUrlCache.collect(),this.props.layoutState),layoutUrlCache:this.props.layoutUrlCache,allowResize:this.props.isDesktop,width:this.props.layoutWidth,height:this.props.layoutHeight,generalSettings:this.props.generalSettings,renderer:this.props.renderer,onResize:(t,e)=>this.props.callbacks.onResize(t,e)})))}renderSidebarContent(){return i.createElement("div",{className:"sidebar-buttons"},i.createElement("h1",null,"Layout Editor"),i.createElement("hr",null),i.createElement("div",{className:"small"},i.createElement("button",{className:"toggle-left",onClick:t=>this.props.callbacks.closeLayoutEditor(!0)},i.createElement("i",{className:"fa fa-check","aria-hidden":"true"})," OK"),i.createElement("button",{className:"toggle-right",onClick:t=>this.props.callbacks.closeLayoutEditor(!1)},i.createElement("i",{className:"fa fa-times","aria-hidden":"true"})," Cancel")))}update(t){this.setState({editor:this.props.editor.stateAsJson(this.props.layoutEditorUrlCache.imageCache),showComponentSettings:t??this.state.showComponentSettings}),this.props.layoutEditorUrlCache.collect()}selectComponent(t){this.props.editor.select(t),this.update(!0)}addComponent(t){this.props.editor.addComponent(t.new().intoGeneric()),this.update(!0)}removeComponent(){this.props.editor.removeComponent(),this.update()}moveComponentUp(){this.props.editor.moveComponentUp(),this.update()}moveComponentDown(){this.props.editor.moveComponentDown(),this.update()}duplicateComponent(){this.props.editor.duplicateComponent(),this.update()}}class Mi extends i.Component{render(){let t,e,s="group";return this.props.invalid&&(s+=" invalid"),this.props.small&&(s+=" small"),void 0!==this.props.list&&(t=this.props.list[0],e=i.createElement("datalist",{id:t},this.props.list[1].map(((t,e)=>i.createElement("option",{key:e,value:t}))))),i.createElement("div",{className:s},i.createElement("input",{list:t,type:"text",required:!0,className:this.props.className,value:this.props.value,onChange:this.props.onChange,onBlur:this.props.onBlur}),e,i.createElement("span",{className:"bar"}),i.createElement("label",null,this.props.label))}}const Fi="https://www.speedrun.com/api/v1/";function Hi(t){const e=t.filter((t=>""!==t.trim()));return 0!==e.length?`?${e.join("&")}`:""}function Wi(t){return`${Fi}games${t}`}function ji(t){return`${Fi}runs${t}`}async function Ji(t){const e=await fetch(t);return(await e.json()).data}class $i{elements;next;constructor(t,e){this.elements=t,this.next=e}async evaluateAll(){const t=this.elements;let e=this.next;for(;null!=e;)try{const s=await e();t.push(...s.elements),e=s.next}catch{break}return t}async iterElementsWith(t){let e=this.elements,s=this.next;for(;;){for(const s of e)if(!1===t(s))break;if(null==s)break;{const t=await s();e=t.elements,s=t.next}}}map(t){const e=Vs(this.next,(e=>async()=>(await e()).map(t)));return new $i(this.elements.map(t),e)}}async function Ki(t){const e=await fetch(t),{data:s,pagination:i}=await e.json();let r=null;if(null!=i.links){const t=i.links.find((t=>"next"===t.rel));if(null!=t){const e=t.uri;r=()=>Ki(e)}}return new $i(s,r)}const qi=[];let Yi=null;const Qi=new Map,Zi=new Map,Xi=new Map,tr=new Map,er=new Map,sr=new Map,ir=new Map,rr=new Map,or=new Map;let nr=null,ar=null,lr=null;function pr(t){return Xi.get(t)}function dr(t){const e=pr(t);if(void 0!==e)return tr.get(e)}function cr(t){const e=pr(t);if(void 0!==e)return sr.get(e)}function hr(){return Qi}function ur(){return Zi}function mr(t){let e=er.get(t);return void 0===e&&(e=(async()=>{const e=await async function(t){return Ji(Wi(`/${t}/categories`))}(t),s=e.filter((t=>"per-game"===t.type));return tr.set(t,s),e})(),er.set(t,e)),e}async function gr(t){await wr();const e=pr(t);return void 0!==e&&await mr(e),e}function fr(t){let e=ir.get(t);return void 0===e&&(e=(async()=>{const e=await async function(t,e){const s=[];return void 0!==e&&s.push(`embed=${e.join(",")}`),Ji(Wi(`/${t}${Hi(s)}`))}(t,["variables"]);return sr.set(t,e),e})(),ir.set(t,e)),e}async function br(t){await wr();const e=pr(t);void 0!==e&&await fr(e)}function wr(){return null==nr&&(nr=(async()=>{const t=await async function(t=1e3){return Ki(Wi(Hi(["_bulk=yes",`max=${t}`])))}();await t.iterElementsWith((t=>{qi.push(t.names.international),null==Yi&&(Yi=Q.new()),Yi.push(t.names.international),Xi.set(t.names.international,t.id)}))})()),nr}function yr(){return null==ar&&(ar=(async()=>{const t=await async function(t){const e=[];var s;return void 0!==t&&e.push(`max=${t}`),Ki((s=Hi(e),`${Fi}platforms${s}`))}();await t.iterElementsWith((t=>{Qi.set(t.id,t.name)}))})()),ar}function vr(){return null==lr&&(lr=(async()=>{const t=await async function(t){const e=[];var s;return void 0!==t&&e.push(`max=${t}`),Ki((s=Hi(e),`${Fi}regions${s}`))}();await t.iterElementsWith((t=>{Zi.set(t.id,t.name)}))})()),lr}function Sr(t,e){const s=t%60,i=Math.floor(t/60),r=i%60,o=Math.floor(i/60),n={minimumIntegerDigits:2,minimumFractionDigits:e?0:3,maximumFractionDigits:e?0:3};return o>0?`${o}:${r.toLocaleString("en-GB",{minimumIntegerDigits:2})}:${s.toLocaleString("en-GB",n)}`:`${r}:${s.toLocaleString("en-GB",n)}`}function xr(t){return i.createElement("div",{className:"video-outer-container"},i.createElement("div",{className:"video-inner-container"},i.createElement("iframe",{id:"ytplayer",itemType:"text/html",src:t,allowFullScreen:!0,frameBorder:"0"})))}var _r=s(8109),Er=s(4986),Cr=s.n(Er);const kr={":)":1,":-)":1,":(":2,":-(":2,":D":3,":-D":3,">(":4,":z":5,":Z":5,":-z":5,":-Z":5,o_O:6,O_o:6,"B)":7,"B-)":7,":o":8,":O":8,":-o":8,":-O":8,"<3":9,":\\":10,":-\\":10,":/":10,":-/":10,";)":11,";-)":11,":p":12,":P":12,":-p":12,":-P":12,";p":13,";P":13,";-p":13,";-P":13,"R)":14,"R-)":14,JKanStyle:15,OptimizePrime:16,StoneLightning:17,TheRinger:18,RedCoat:22,Kappa:25,JonCarnage:26,MrDestructoid:28,BCWarrior:30,GingerPower:32,DansGame:33,SwiftRage:34,PJSalt:36,KevinTurtle:40,Kreygasm:41,SSSsss:46,PunchTrees:47,FunRun:48,ArsonNoSexy:50,SMOrc:52,FrankerZ:65,OneHand:66,HassanChop:68,BloodTrail:69,DBstyle:73,AsianGlow:74,BibleThump:86,ShazBotstix:87,PogChamp:88,PMSTwin:92,FUNgineer:244,ResidentSleeper:245,"4Head":354,HotPokket:357,FailFish:360,DAESuppy:973,WholeWheat:1896,ThunBeast:1898,TF2John:1899,RalpherZ:1900,Kippa:1901,Keepo:1902,BigBrother:1904,SoBayed:1906,PeoplesChamp:3412,GrammarKing:3632,PanicVis:3668,ANELE:3792,BrokeBack:4057,PipeHype:4240,YouWHY:4337,RitzMitz:4338,EleGiggle:4339,TheThing:7427,HassaanChop:20225,BabyRage:22639,panicBasket:22998,PermaSmug:27509,BuddhaBar:27602,WutFace:28087,PRChase:28328,Mau5:30134,HeyGuys:30259,NotATK:34875,mcaT:35063,TTours:38436,PraiseIt:38586,HumbleLife:46881,CorgiDerp:49106,ArgieB8:51838,ShadyLulu:52492,KappaPride:55338,CoolCat:58127,DendiFace:58135,NotLikeThis:58765,riPepperonis:62833,duDudu:62834,bleedPurple:62835,twitchRaid:62836,SeemsGood:64138,MingLee:68856,KappaRoss:70433,KappaClaus:74510,OhMyDog:81103,OSFrog:81248,SeriousSloth:81249,KomodoHype:81273,VoHiYo:81274,MikeHogu:81636,KappaWealth:81997,cmonBruh:84608,SmoocherZ:89945,NomNom:90075,StinkyCheese:90076,ChefFrank:90129,FutureMan:98562,OpieOP:100590,DoritosChip:102242,PJSugar:102556,VoteYea:106293,VoteNay:106294,RuleFive:107030,DxCat:110734,DrinkPurple:110785,TinyFace:111119,PicoMause:111300,TheTarFu:111351,DatSheffy:111700,UnSane:111792,copyThis:112288,pastaThat:112289,imGlitch:112290,GivePLZ:112291,TakeNRG:112292,BlargNaut:114738,DogFace:114835,Jebaited:114836,TooSpicy:114846,WTRuck:114847,UncleNox:114856,RaccAttack:114870,StrawBeary:114876,PrimeMe:115075,BrainSlug:115233,BatChest:115234,CurseLit:116625,Poooound:117484,FreakinStinkin:117701,SuperVinlin:118772,TriHard:120232,CoolStoryBob:123171,ItsBoshyTime:133468,KAPOW:133537,YouDontSay:134254,UWot:134255,RlyTho:134256,SoonerLater:134472,PartyTime:135393,NinjaGrumpy:138325,MVGame:142140,TBAngel:143490,TheIlluminati:145315,BlessRNG:153556,MorphinTime:156787,ThankEgg:160392,ArigatoNas:160393,BegWan:160394,BigPhish:160395,InuyoFace:160396,Kappu:160397,KonCha:160400,PunOko:160401,SabaPing:160402,TearGlove:160403,TehePelo:160404,TwitchLit:166263,CarlSmile:166266,CrreamAwk:191313,TwitchRPG:191747,Squid1:191762,Squid2:191763,Squid3:191764,Squid4:191767,TwitchUnity:196892,TPcrunchyroll:323914,EntropyWins:376765,LUL:425618,PowerUpR:425671,PowerUpL:425688,HSCheers:444572,HSWP:446979,DarkMode:461298,TwitchVotes:479745,TPFufun:508650,RedTeam:530888,GreenTeam:530890,HappyJack:551865,AngryJack:551866,PurpleStar:624501,FBtouchdown:626795,PopCorn:724216,SOTshark:848256,SOTahoy:848260,TombRaid:864205,OSSmooth:918524,GOWAtreus:953283,GOWKratos:953285,EarthDay:959018,PartyHat:965738,MercyWing1:1003187,MercyWing2:1003189,PinkMercy:1003190};var Tr=s(452);function Nr(t,e={}){const s=t.replace(/[A-Za-z0-9<):(\\;_>#/\]|]+/g,(t=>{const e=kr[t];return void 0===e?t:`![${t}](https://static-cdn.jtvnw.net/emoticons/v1/${e}/1.0)`})),r=(new _r.Parser).parse(s),o=new(Cr())({escapeHtml:e.escapeHtml??!0,linkTarget:"_blank",softBreak:!1===e.softBreak?void 0:"br"}).render(r);return i.createElement(Tr.Ay,{target:"_blank"},o)}var Ar=s(7927),Rr={};Rr.styleTagTransform=ri(),Rr.setAttributes=ti(),Rr.insert=Zs().bind(null,"head"),Rr.domAPI=Ys(),Rr.insertStyleElement=si(),Ks()(Ar.A,Rr),Ar.A&&Ar.A.locals&&Ar.A.locals;var Lr,Dr=function(t,e,s){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var i;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:i,async:s})}else s&&t.stack.push({async:!0});return e},Or=function(t){return function(e){function s(s){e.error=e.hasError?new t(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}return function t(){for(;e.stack.length;){var i=e.stack.pop();try{var r=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(r).then(t,(function(e){return s(e),t()}))}catch(t){s(t)}}if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,s){var i=new Error(s);return i.name="SuppressedError",i.error=t,i.suppressed=e,i});!function(t){t[t.RealTime=0]="RealTime",t[t.GameTime=1]="GameTime",t[t.Variables=2]="Variables",t[t.Rules=3]="Rules",t[t.Leaderboard=4]="Leaderboard"}(Lr||(Lr={}));class Pr extends i.Component{dragIndex=0;expandedLeaderboardRows=new Map;filters={variables:new Map,showObsolete:!1};constructor(t){super(t);const e=t.editor.stateAsJson(t.runEditorUrlCache.imageCache);t.runEditorUrlCache.collect(),this.state={attemptCountIsValid:!0,editor:e,offsetIsValid:!0,rowState:{bestSegmentTime:"",bestSegmentTimeChanged:!1,comparisonTimes:[],comparisonTimesChanged:[],index:0,segmentTime:"",segmentTimeChanged:!1,splitTime:"",splitTimeChanged:!1},tab:"RealTime"===e.timing_method?Lr.RealTime:Lr.GameTime},t.generalSettings.speedrunComIntegration&&(this.refreshGameList(),this.refreshGameInfo(e.game),this.refreshCategoryList(e.game),this.refreshLeaderboard(e.game,e.category),this.refreshPlatformList(),this.refreshRegionList())}render(){const t=this.renderView(),e=this.renderSidebarContent();return this.props.callbacks.renderViewWithSidebar(t,e)}renderView(){const t=this.getGameIcon();let e=null;const s=this.getTab(),{category:r,categoryNames:o}=this.getCurrentCategoriesInfo();return i.createElement("div",{className:"run-editor"},i.createElement("div",{className:"run-editor-info"},i.createElement("div",{className:"game-icon-container",onClick:t=>{(t=>{e&&e.handleContextClick(t)})(t)}},i.createElement(Ws.Rc,{id:"game-icon-context-menu",ref:t=>e=t},void 0!==t&&i.createElement("img",{src:t,className:"game-icon-image"}))),i.createElement(Ws.tz,{id:"game-icon-context-menu"},i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.changeGameIcon()},"Set Icon",i.createElement("span",{className:"tooltip-text"},"Allows you to choose an image file to set as the game's icon. Certain file formats may not work everywhere.")),this.props.generalSettings.speedrunComIntegration&&i.createElement(i.Fragment,null,i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.downloadBoxArt()},"Download Box Art",i.createElement("span",{className:"tooltip-text"},"Attempts to download the box art of the game from speedrun.com, to set as the game's icon.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.downloadIcon()},"Download Icon",i.createElement("span",{className:"tooltip-text"},"Attempts to download the icon of the game from speedrun.com."))),void 0!==t&&i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.removeGameIcon()},"Remove Icon",i.createElement("span",{className:"tooltip-text"},"Removes the icon of the game."))),i.createElement("div",{className:"run-editor-info-table"},i.createElement("div",{className:"info-table-row"},i.createElement("div",{className:"info-table-cell"},i.createElement(Mi,{className:"run-editor-game",value:this.state.editor.game,onChange:t=>this.handleGameChange(t),label:"Game",list:["run-editor-game-list",(n=this.state.editor.game,""===n||null==Yi?[]:Yi.search(n,15))]})),i.createElement("div",{className:"info-table-cell"},i.createElement(Mi,{className:"run-editor-category",value:this.state.editor.category,onChange:t=>this.handleCategoryChange(t),label:"Category",list:["run-editor-category-list",o]}))),i.createElement("div",{className:"info-table-row"},i.createElement("div",{className:"info-table-cell"},i.createElement(Mi,{className:"run-editor-offset",value:this.state.editor.offset,onChange:t=>this.handleOffsetChange(t),onBlur:t=>this.handleOffsetBlur(),small:!0,invalid:!this.state.offsetIsValid,label:"Start Timer At"})),i.createElement("div",{className:"info-table-cell"},i.createElement(Mi,{className:"run-editor-attempts",value:this.state.editor.attempts,onChange:t=>this.handleAttemptsChange(t),onBlur:t=>this.handleAttemptsBlur(),small:!0,invalid:!this.state.attemptCountIsValid,label:"Attempts"}))))),i.createElement("div",{className:"bottom-section"},i.createElement("div",{className:"side-buttons"},this.renderSideButtons(s,r)),i.createElement("div",{className:"editor-group"},i.createElement("div",{className:"tab-bar"},this.renderTabButtons(s)),this.renderTab(s,r))));var n}renderSidebarContent(){return i.createElement("div",{className:"sidebar-buttons"},i.createElement("h1",null,"Splits Editor"),i.createElement("hr",null),i.createElement("div",{className:"small"},i.createElement("button",{className:"toggle-left",onClick:t=>this.props.callbacks.closeRunEditor(!0)},i.createElement("i",{className:"fa fa-check","aria-hidden":"true"})," OK"),i.createElement("button",{className:"toggle-right",onClick:t=>this.props.callbacks.closeRunEditor(!1)},i.createElement("i",{className:"fa fa-times","aria-hidden":"true"})," Cancel")))}renderTabButtons(t){const e={[Lr.RealTime]:"Real Time",[Lr.GameTime]:"Game Time",[Lr.Variables]:"Variables",[Lr.Rules]:"Rules",[Lr.Leaderboard]:"Leaderboard"},s=Object.values(Lr).filter((t=>this.shouldShowTab(t)));return s.map(((r,o)=>{let n="toggle-middle";0===o?n="toggle-left":o===s.length-1&&(n="toggle-right");const a=t===r?" button-pressed":"";return i.createElement("button",{className:n+a,onClick:t=>this.switchTab(r)},e[r])}))}renderSegmentListButtons(){let t=null,e=null;return i.createElement("div",{className:"btn-group"},i.createElement("button",{onClick:t=>this.insertSegmentAbove()},"Insert Above"),i.createElement("button",{onClick:t=>this.insertSegmentBelow()},"Insert Below"),i.createElement("button",{onClick:t=>this.removeSegments(),disabled:!this.state.editor.buttons.can_remove},"Remove Segment"),i.createElement("button",{onClick:t=>this.moveSegmentsUp(),disabled:!this.state.editor.buttons.can_move_up},"Move Up"),i.createElement("button",{onClick:t=>this.moveSegmentsDown(),disabled:!this.state.editor.buttons.can_move_down},"Move Down"),i.createElement("button",{onClick:t=>(t=>{e&&e.handleContextClick(t)})(t)},i.createElement(Ws.Rc,{id:"comparisons-button-context-menu",ref:t=>e=t},"Comparisons…")),i.createElement("button",{onClick:e=>(e=>{t&&t.handleContextClick(e)})(e)},i.createElement(Ws.Rc,{id:"other-button-context-menu",ref:e=>t=e},"Cleaning…")),i.createElement(Ws.tz,{id:"comparisons-button-context-menu"},i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.addComparison()},"Add Comparison",i.createElement("span",{className:"tooltip-text"},"Adds a new custom comparison where you can store any times that you would like.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.importComparison()},"Import Comparison",i.createElement("span",{className:"tooltip-text"},"Imports the Personal Best of a splits file you provide as a comparison.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.generateGoalComparison()},"Generate Goal Comparison",i.createElement("span",{className:"tooltip-text"},"Generates a custom goal comparison based on a goal time that you can specify. The comparison's times are automatically balanced based on the segment history such that it roughly represents what the split times for the goal time would look like. Since it is populated by the segment history, the goal times are capped to a range between the sum of the best segments and the sum of the worst segments. The comparison is only populated for the selected timing method. The other timing method's comparison times are not modified by this, so you can generate it again with the other timing method to generate the comparison times for both timing methods.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.copyComparison()},"Copy Comparison",i.createElement("span",{className:"tooltip-text"},"Copies any existing comparison, including the Personal Best or even any other automatically provided comparison as a new custom comparison. You could for example use this to keep the Latest Run around as a comparison that exists for as long as you want it to."))),i.createElement(Ws.tz,{id:"other-button-context-menu"},i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.clearHistory()},"Clear Only History",i.createElement("span",{className:"tooltip-text"},"Splits store the entire history of all runs, including every segment time. This information is used by various components. You can clear the history with this. The personal best, the best segment times, and the comparisons will not be affected.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.clearTimes()},"Clear All Times",i.createElement("span",{className:"tooltip-text"},"This removes all the times from the splits, including all the history, such that the splits are completely empty, as if they were just created.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.cleanSumOfBest()},"Clean Sum of Best",i.createElement("span",{className:"tooltip-text"},"Allows you to interactively remove potential issues in the segment history that lead to an inaccurate Sum of Best. If you skip a split, whenever you will do the next split, the combined segment time might be faster than the sum of the individual best segments. This will point out all such occurrences and allow you to delete them individually if any of them seem wrong."))))}renderAssociateRunButton(){return this.props.generalSettings.speedrunComIntegration?i.createElement("button",{onClick:t=>this.interactiveAssociateRunOrOpenPage()},""!==this.state.editor.metadata.run_id?"Open PB Page":"Associate Run"):i.createElement(i.Fragment,null)}renderRulesButtons(){return i.createElement("div",{className:"btn-group"},this.renderAssociateRunButton())}renderVariablesButtons(){return i.createElement("div",{className:"btn-group"},this.renderAssociateRunButton(),i.createElement("button",{onClick:t=>this.addCustomVariable()},"Add Variable"))}addCustomVariable(){const t=prompt("Variable Name:");null!==t&&(this.props.editor.addCustomVariable(t),this.update())}renderSideButtons(t,e){switch(t){case Lr.RealTime:case Lr.GameTime:return this.renderSegmentListButtons();case Lr.Variables:return this.renderVariablesButtons();case Lr.Rules:return this.renderRulesButtons();case Lr.Leaderboard:return this.renderLeaderboardButtons(e)}}renderTab(t,e){switch(t){case Lr.RealTime:case Lr.GameTime:return this.renderSegmentsTable();case Lr.Variables:return this.renderVariablesTab(e);case Lr.Rules:return this.renderRulesTab(e);case Lr.Leaderboard:return this.renderLeaderboard(e)}}renderLeaderboardButtons(t){const e=cr(this.state.editor.game);if(void 0===e)return this.renderRulesButtons();const s=[""],r=[""],o=ur(),n=hr(),a=[],l=[];if(0!==o.size)for(const t of e.regions){const e=o.get(t);void 0!==e&&s.push(e)}if(0!==n.size)for(const t of e.platforms){const e=n.get(t);void 0!==e&&r.push(e)}s.length>2&&(a.push(i.createElement("tr",null,i.createElement("td",null,"Region:"))),a.push(i.createElement("tr",null,i.createElement("td",null,i.createElement("select",{value:this.filters.region??"",style:{width:"100%"},onChange:t=>{this.filters.region=t.target.value,this.updateFilters()}},s.map((t=>i.createElement("option",{value:t},t)))))))),r.length>2&&(a.push(i.createElement("tr",null,i.createElement("td",null,"Platform:"))),a.push(i.createElement("tr",null,i.createElement("td",null,i.createElement("select",{value:this.filters.platform??"",style:{width:"100%"},onChange:t=>{this.filters.platform=t.target.value,this.updateFilters()}},r.map((t=>i.createElement("option",{value:t},t)))))))),e.ruleset["emulators-allowed"]&&(a.push(i.createElement("tr",null,i.createElement("td",null,"Emulator:"))),a.push(i.createElement("tr",null,i.createElement("td",null,i.createElement("select",{value:!0===this.filters.isEmulated?"Yes":!1===this.filters.isEmulated?"No":"",style:{width:"100%"},onChange:t=>{const e=t.target.value;this.filters.isEmulated="Yes"===e||"No"!==e&&void 0,this.updateFilters()}},["","Yes","No"].map((t=>i.createElement("option",{value:t},t))))))));const p=Ls(e.variables,"We need the variables to be embedded");for(const e of p.data)if(this.variableIsValidForCategory(e,t))if(e["is-subcategory"]){let t=this.filters.variables.get(e.name);if(void 0===t){const s=this.state.editor.metadata.speedrun_com_variables[e.name];if(void 0!==s)t=s,this.filters.variables.set(e.name,t);else{const s=e.values.default;null!=s&&(t=e.values.values[s].label,this.filters.variables.set(e.name,t))}}l.push(i.createElement("table",{className:"table filter-table subcategory-table"},i.createElement("thead",{className:"table-header"},i.createElement("tr",null,i.createElement("th",null,e.name))),i.createElement("tbody",{className:"table-body"},Object.values(e.values.values).map((({label:s})=>{const r=t===s;return i.createElement("tr",null,i.createElement("td",{className:r?"selected":"",onClick:t=>{this.filters.variables.set(e.name,r?"":s),this.updateFilters()}},s))})))))}else a.push(i.createElement("tr",null,i.createElement("td",null,e.name,":"))),a.push(i.createElement("tr",null,i.createElement("td",null,i.createElement("select",{value:this.filters.variables.get(e.name)??"",style:{width:"100%"},onChange:t=>{this.filters.variables.set(e.name,t.target.value),this.updateFilters()}},i.createElement("option",{value:""}),Object.values(e.values.values).map((({label:t})=>i.createElement("option",{value:t},t)))))));return a.push(i.createElement("tr",null,i.createElement("td",null,"Obsolete Runs:"))),a.push(i.createElement("tr",null,i.createElement("td",null,i.createElement("select",{value:this.filters.showObsolete?"Shown":"Hidden",style:{width:"100%"},onChange:t=>{const e=t.target.value;this.filters.showObsolete="Shown"===e,this.updateFilters()}},["Shown","Hidden"].map((t=>i.createElement("option",{value:t},t))))))),i.createElement("div",{className:"btn-group"},i.createElement("button",{onClick:s=>{null!=t&&window.open(`${e.weblink}?x=${t.id}`,"_blank")},disabled:null==t},"Open Leaderboard"),i.createElement("button",{onClick:t=>this.interactiveAssociateRunOrOpenPage()},""!==this.state.editor.metadata.run_id?"Open PB Page":"Associate Run"),l,i.createElement("table",{className:"table filter-table"},i.createElement("thead",{className:"table-header"},i.createElement("tr",null,i.createElement("th",null,"Filters"))),i.createElement("tbody",{className:"table-body"},a)))}variableIsValidForCategory(t,e){return!(null!=t.category&&t.category!==e?.id||"full-game"!==t.scope.type&&"global"!==t.scope.type)}updateFilters(){this.resetIndividualLeaderboardState(),this.update()}renderVariablesTab(t){const e=this.state.editor.metadata,s=cr(this.state.editor.game),r=[],o=[],n=[];let a=-1,l=-1,p=-1;if(void 0!==s){const i=[""],n=[""],d=ur(),c=hr();if(0!==d.size)for(const t of s.regions){const e=d.get(t);void 0!==e&&i.push(e)}if(0!==c.size)for(const t of s.platforms){const e=c.get(t);void 0!==e&&n.push(e)}const h=Ls(s.variables,"We need the variables to be embedded");for(const s of h.data)this.variableIsValidForCategory(s,t)&&o.push({text:s.name,tooltip:"A variable on speedrun.com specific to the game.",value:{CustomCombobox:{value:e.speedrun_com_variables[s.name]||"",list:["",...Object.values(s.values.values).map((t=>t.label))],mandatory:s.mandatory}}});i.length>1&&(a=r.length,r.push({text:"Region",tooltip:"The region of the game that is being played.",value:{CustomCombobox:{value:e.region_name,list:i,mandatory:!1}}})),n.length>1&&(l=r.length,r.push({text:"Platform",tooltip:"The platform that the game is being played on.",value:{CustomCombobox:{value:e.platform_name,list:n,mandatory:!0}}})),s.ruleset["emulators-allowed"]&&(p=r.length,r.push({text:"Uses Emulator",tooltip:"Whether an emulator is being used to play the game.",value:{Bool:e.uses_emulator}}))}for(const t of Object.keys(e.custom_variables)){const s=e.custom_variables[t];s&&s.is_permanent&&n.push({text:t,tooltip:"A custom variable specified by you. These can be displayed with the text component.",value:{RemovableString:s.value}})}const d=r.length;r.push(...o);const c=r.length;return r.push(...n),i.createElement("div",{className:"run-editor-tab"},0===r.length&&i.createElement("table",{className:"table"},i.createElement("tbody",{className:"table-body"},i.createElement("tr",null,i.createElement("td",null,i.createElement("p",null,"There are currently no",this.props.generalSettings.speedrunComIntegration&&" Speedrun.com variables or"," custom variables for this game."))))),i.createElement(ki,{context:"run-editor-variables",factory:new Ci,state:{fields:r},editorUrlCache:this.props.runEditorUrlCache,allComparisons:this.props.allComparisons,setValue:(t,e)=>{function s(t){if("String"in t)return t.String;throw new Error("Expected Setting value to be a string.")}if(t===a){const t=s(e);this.props.editor.setRegionName(t)}else if(t===l){const t=s(e);this.props.editor.setPlatformName(t)}else if(t===p){const t=function(t){if("Bool"in t)return t.Bool;throw new Error("Expected Setting value to be a boolean.")}(e);this.props.editor.setEmulatorUsage(t)}else if(t<c){const i=s(e),r=o[t-d].text;""!==i?this.props.editor.setSpeedrunComVariable(r,i):this.props.editor.removeSpeedrunComVariable(r)}else{const s=n[t-c].text,i=function(t){if("RemovableString"in t)return t.RemovableString;throw new Error("Expected Setting value to be a string.")}(e);null!==i?this.props.editor.setCustomVariable(s,i):this.props.editor.removeCustomVariable(s)}this.update()}}))}renderLeaderboard(t){const e=this.getCurrentLeaderboard(t);if(void 0===e)return i.createElement("div",null);const s=cr(this.state.editor.game),r=hr(),o=ur();let n;n=void 0!==s?!s.ruleset["show-milliseconds"]:e.every((t=>t.times.primary_t===Math.floor(t.times.primary_t)));let a=0,l=0,p=0,d="";function c(t,e){return void 0!==e&&""!==e&&t!==e}const h=new Set,u=s?.variables,m=u?.data.filter((e=>this.variableIsValidForCategory(e,t))),g=m?.filter((t=>!this.filters.variables.get(t.name)));return i.createElement("table",{className:"table run-editor-tab leaderboard-table"},i.createElement("thead",{className:"table-header"},i.createElement("tr",null,i.createElement("th",null,"Rank"),i.createElement("th",null,"Player"),i.createElement("th",null,"Time"),g?.map((t=>i.createElement("th",null,t.name))),this.props.generalSettings.splitsIoIntegration&&i.createElement("th",null,"Splits"))),i.createElement("tbody",{className:"table-body"},e.map((e=>{const s=r.get(e.system.platform);if(c(s,this.filters.platform))return null;const u=Vs(e.system.region,(t=>o.get(t)));if(c(u,this.filters.region))return null;if(void 0!==this.filters.isEmulated&&e.system.emulated!==this.filters.isEmulated)return null;const f=[];if(void 0!==m)for(const s of m)if(this.variableIsValidForCategory(s,t)){const t=Vs(e.values[s.id],(t=>s.values.values[t])),i=this.filters.variables.get(s.name);if(c(t?.label,i))return null}if(void 0!==g)for(const t of g){const s=e.values[t.id];let r;s&&(r=Vs(Object.entries(t.values.values).find((([t])=>t===s)),(t=>t[1].label))),f.push(i.createElement("td",{className:"variable-column"},r||""))}const b=e.players.data.map((t=>"guest"===t.rel?`guest:${t.name}`:t.id)),w=JSON.stringify(b),y=!h.has(w);if(!y&&!this.filters.showObsolete)return null;h.add(w);const v=l,S=v%2==0?"table-row-odd":"table-row-even";let x=null;if(!0===this.expandedLeaderboardRows.get(v)){let t=null;null!=e.videos&&null!=e.videos.links&&e.videos.links.length>0&&(t=function(t){const e=function(t){let e=/https?:\/\/www\.youtube\.com\/watch\?v=([A-z0-9-]+)&?/.exec(t);return null===e&&(e=/https?:\/\/youtu\.be\/([A-z0-9-]+)/.exec(t)),null!==e?xr(`https://www.youtube.com/embed/${e[1]}?wmode=transparent`):null}(t);if(null!=e)return e;const s=function(t){let e=/https?:\/\/(www\.)?(go\.)?twitch\.tv\/.*\/v\/(\w+)&?/.exec(t);return null===e&&(e=/https?:\/\/(www\.)?(go\.)?twitch\.tv\/videos\/(\w+)&?/.exec(t)),null!==e?xr(`https://player.twitch.tv/?video=${e[3]}&parent=${window.location.hostname}&autoplay=false`):null}(t);return null!=s?s:i.createElement("p",null,i.createElement("a",{href:t,target:"_blank"},t))}(e.videos.links[e.videos.links.length-1].uri));const r=Nr(e.comment??"");x=i.createElement("tr",{key:`${e.id}_expanded`,className:`leaderboard-expanded-row ${S}`},i.createElement("td",{colSpan:4+(g?.length??0)},t,i.createElement("div",{className:"markdown",style:{minHeight:5}},r),i.createElement("table",{className:"run-meta-table"},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",null,"Date:"),i.createElement("td",null,e.date?.split("-").join("/")??"")),Vs(u,(t=>i.createElement("tr",null,i.createElement("td",null,"Region:"),i.createElement("td",null,t)))),Vs(s,(t=>i.createElement("tr",null,i.createElement("td",null,"Platform:"),i.createElement("td",null,t,e.system.emulated&&" Emulator"))))))))}return l+=1,y&&(p+=1,e.times.primary!==d&&(a=p,d=e.times.primary)),[i.createElement("tr",{key:e.id,title:e.comment??"",className:`leaderboard-row ${S}`,onClick:t=>this.toggleExpandLeaderboardRow(v),style:{cursor:"pointer"}},i.createElement("td",{className:"leaderboard-rank-column number"},y?a:"—"),i.createElement("td",null,e.players.data.map(((t,e)=>{if("user"===t.rel){const s=t["name-style"];let r;r="gradient"===s.style?s["color-from"].dark:s.color.dark;const o=Vs(t.location,(t=>function(t){const e=`https://www.speedrun.com/images/flags/${t}.png`;return i.createElement("img",{className:"flag",src:e,alt:t})}(t.country.code)));return[0!==e?", ":null,i.createElement("a",{target:"_blank",href:t.weblink,style:{color:r},onClick:t=>t.stopPropagation()},o,t.names.international)]}return[0!==e?", ":null,i.createElement("span",{className:"unregistered-user"},t.name)]}))),i.createElement("td",{className:"leaderboard-time-column number"},i.createElement("a",{href:e.weblink,target:"_blank",style:{color:"white"},onClick:t=>t.stopPropagation()},Sr(e.times.primary_t,n))),f,this.props.generalSettings.splitsIoIntegration&&i.createElement("td",{className:"splits-download-column"},Vs(e.splits,(t=>i.createElement("i",{onClick:s=>{s.stopPropagation(),this.downloadSplits(e,t.uri)},className:"fa fa-download",style:{cursor:"pointer"},"aria-hidden":"true"}))))),x]}))))}renderRulesTab(t){let e=null;null!=t&&null!=t.rules&&(e=Nr(t.rules));const s=cr(this.state.editor.game);let r=null;const o=[];if(void 0!==s){const e=[],n=s.ruleset;"realtime"!==n["default-time"]&&e.push("realtime_noloads"===n["default-time"]?"are timed without the loading times":"are timed with Game Time"),n["require-video"]&&e.push("require video proof"),0!==e.length&&(r=i.createElement("p",{style:{fontStyle:"italic"}},"Runs of this game ",e.join(" and "),"."));const a=Ls(s.variables,"We need the variables to be embedded");for(const e of a.data)if(this.variableIsValidForCategory(e,t)&&e["is-subcategory"]){const t=this.state.editor.metadata.speedrun_com_variables[e.name],s=Object.values(e.values.values).find((e=>e.label===t));null!=s?.rules&&o.push(Nr(`## ${s.label} Rules\n${s.rules}`))}}return i.createElement("div",{className:"run-editor-tab run-editor-additional-info"},i.createElement("div",{className:"run-editor-rules markdown"},r,e,o))}renderSegmentsTable(){return i.createElement("table",{className:"table run-editor-tab run-editor-table"},i.createElement("thead",{className:"table-header"},i.createElement("tr",null,i.createElement("th",null,"Icon"),i.createElement("th",null,"Segment Name"),i.createElement("th",null,"Split Time"),i.createElement("th",null,"Segment Time"),i.createElement("th",null,"Best Segment"),this.state.editor.comparison_names.map(((t,e)=>{let s=null;const r=`comparison-${e}-context-menu`;return i.createElement("th",{style:{cursor:"pointer"},onClick:t=>(t=>{s&&s.handleContextClick(t)})(t),draggable:!0,onDragStart:t=>{t.dataTransfer.setData("text/plain",""),this.dragIndex=e},onDragOver:t=>{t.preventDefault&&t.preventDefault(),t.dataTransfer.dropEffect="move"},onDragEnd:t=>this.update(),onDrop:t=>(t.stopPropagation&&t.stopPropagation(),this.props.editor.moveComparison(this.dragIndex,e),!1)},i.createElement(Ws.Rc,{id:r,ref:t=>s=t},t),i.createElement(Ws.tz,{id:r},i.createElement(Ws.Dr,{className:"tooltip",onClick:e=>this.renameComparison(t)},"Rename",i.createElement("span",{className:"tooltip-text"},"Choose a new name for the custom comparison. There are reserved names that can't be used. You also can't have duplicate names.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:e=>this.copyComparison(t)},"Copy",i.createElement("span",{className:"tooltip-text"},"Creates a copy of the custom comparison.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:e=>this.removeComparison(t)},"Remove",i.createElement("span",{className:"tooltip-text"},"Removes the custom comparison."))))})))),i.createElement("tbody",{className:"table-body"},this.state.editor.segments.map(((t,e)=>{const s=this.getSegmentIconUrl(e),r=`segment-icon-${e}-context-menu`;let o=null;const n=t=>{o&&(o.handleContextClick(t),this.props.editor.selectOnly(e),this.update())};return i.createElement("tr",{key:e.toString(),className:"Selected"===t.selected||"Active"===t.selected?"selected":"",onClick:t=>this.changeSegmentSelection(t,e)},i.createElement("td",{className:"segment-icon-container",onClick:t=>{void 0!==s?n(t):this.changeSegmentIcon(e)}},i.createElement(Ws.Rc,{id:r,ref:t=>o=t},void 0!==s&&i.createElement("img",{className:"segment-icon",src:s})),i.createElement(Ws.tz,{id:r},i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.changeSegmentIcon(e)},"Set Icon",i.createElement("span",{className:"tooltip-text"},"Allows you to choose an image file to set as the segment's icon. Certain file formats may not work everywhere.")),i.createElement(Ws.Dr,{className:"tooltip",onClick:t=>this.removeSegmentIcon(e)},"Remove Icon",i.createElement("span",{className:"tooltip-text"},"Removes the segment's icon.")))),i.createElement("td",null,i.createElement("input",{className:"name",type:"text",value:t.name,onFocus:t=>this.focusSegment(e),onChange:t=>this.handleSegmentNameChange(t)})),i.createElement("td",null,i.createElement("input",{className:"number",type:"text",value:e===this.state.rowState.index&&this.state.rowState.splitTimeChanged?this.state.rowState.splitTime:t.split_time,onFocus:t=>this.focusSegment(e),onChange:t=>this.handleSplitTimeChange(t),onBlur:t=>this.handleSplitTimeBlur()})),i.createElement("td",null,i.createElement("input",{className:e===this.state.rowState.index&&this.state.rowState.segmentTimeChanged||t.segment_time!==t.best_segment_time?"number":"number best-segment-time",type:"text",value:e===this.state.rowState.index&&this.state.rowState.segmentTimeChanged?this.state.rowState.segmentTime:t.segment_time,onFocus:t=>this.focusSegment(e),onChange:t=>this.handleSegmentTimeChange(t),onBlur:t=>this.handleSegmentTimeBlur()})),i.createElement("td",null,i.createElement("input",{className:"number",type:"text",value:e===this.state.rowState.index&&this.state.rowState.bestSegmentTimeChanged?this.state.rowState.bestSegmentTime:t.best_segment_time,onFocus:t=>this.focusSegment(e),onChange:t=>this.handleBestSegmentTimeChange(t),onBlur:t=>this.handleBestSegmentTimeBlur()})),this.state.editor.segments[e].comparison_times.map(((t,s)=>i.createElement("td",null,i.createElement("input",{className:"number",type:"text",value:e===this.state.rowState.index&&this.state.rowState.comparisonTimesChanged[s]?this.state.rowState.comparisonTimes[s]:t,onFocus:t=>this.focusSegment(e),onChange:t=>this.handleComparisonTimeChange(t,s),onBlur:t=>this.handleComparisonTimeBlur(s)})))))}))))}getCurrentLeaderboard(t){const e=t?.name;if(e)return function(t,e){const s=JSON.stringify({gameName:t,categoryName:e});return or.get(s)}(this.state.editor.game,e)}getCurrentCategoriesInfo(){let t=["Any%","Low%","100%"],e=null;const s=dr(this.state.editor.game);if(void 0!==s){t=s.map((t=>t.name));const i=t.indexOf(this.state.editor.category);i>=0&&(e=s[i])}return{category:e,categoryNames:t}}generateGoalComparison(){const t=prompt("Goal Time:");null!==t&&(this.props.editor.parseAndGenerateGoalComparison(t)?this.update():Rs.toast.error("Failed generating the goal comparison. Make sure to specify a valid time."))}copyComparison(t){const e=t??prompt("Comparison Name:");if(null!==e){let t;if(e.endsWith(" Copy"))t=`${e.substring(0,e.length-5)} Copy 2`;else{const s=/^(.* Copy )(\d+)$/.exec(e);if(null!==s){const e=Number(s[2]);t=`${s[1]}${e+1}`}else t=`${e} Copy`}this.props.editor.copyComparison(e,t)?this.update():Rs.toast.error("Failed copying the comparison. The comparison may not exist.")}}cleanSumOfBest(){{const t={stack:[],error:void 0,hasError:!1};try{const e=Dr(t,this.props.editor.cleanSumOfBest(),!1);for(;;){const t={stack:[],error:void 0,hasError:!1};try{const s=Dr(t,e.nextPotentialCleanUp(),!1);if(!s)break;const i=s.message();confirm(i)&&e.apply(s)}catch(e){t.error=e,t.hasError=!0}finally{Or(t)}}}catch(e){t.error=e,t.hasError=!0}finally{Or(t)}}this.update()}clearHistory(){this.props.editor.clearHistory(),this.update()}clearTimes(){this.props.editor.clearTimes(),this.update()}async importComparison(){const t={stack:[],error:void 0,hasError:!1};try{const[e,s]=await Ts(),i=Dr(t,Kt.parseArray(new Uint8Array(e),""),!1);if(!i.parsedSuccessfully())return void Rs.toast.error("Couldn't parse the splits.");const r=Dr(t,i.unwrap(),!1),o=prompt("Comparison Name:",s.name.replace(/\.[^/.]+$/,""));if(null===o)return;this.props.editor.importComparison(r,o)?this.update():Rs.toast.error("The comparison could not be added. It may be a duplicate or a reserved name.")}catch(e){t.error=e,t.hasError=!0}finally{Or(t)}}addComparison(){const t=prompt("Comparison Name:");null!==t&&(this.props.editor.addComparison(t)?this.update():Rs.toast.error("The comparison could not be added. It may be a duplicate or a reserved name."))}renameComparison(t){const e=prompt("Comparison Name:",t);null!==e&&(this.props.editor.renameComparison(t,e)?this.update():Rs.toast.error("The comparison could not be renamed. It may be a duplicate or a reserved name."))}removeComparison(t){this.props.editor.removeComparison(t),this.update()}async changeSegmentIcon(t){this.props.editor.selectOnly(t);const[e]=await Ts();this.props.editor.activeSetIconFromArray(new Uint8Array(e)),this.update()}removeSegmentIcon(t){this.props.editor.selectOnly(t),this.props.editor.activeRemoveIcon()}getSegmentIconUrl(t){return this.props.runEditorUrlCache.cache(this.state.editor.segments[t].icon)}async changeGameIcon(){const[t]=await Ts();this.props.editor.setGameIconFromArray(new Uint8Array(t)),this.maybeUpdate()}removeGameIcon(){this.props.editor.removeGameIcon(),this.update()}getGameIcon(){return this.props.runEditorUrlCache.cache(this.state.editor.icon)}maybeUpdate(){0!==this.props.editor.ptr&&this.update()}update(t){const e=t??this.state.tab,s=this.shouldShowTab(e)?e:Lr.RealTime,i=this.props.editor.stateAsJson(this.props.runEditorUrlCache.imageCache);this.props.runEditorUrlCache.collect(),this.setState({...this.state,editor:i,tab:s})}handleGameChange(t){this.props.editor.clearMetadata(),this.props.editor.setGameName(t.target.value),this.props.generalSettings.speedrunComIntegration&&(this.refreshGameInfo(t.target.value),this.refreshCategoryList(t.target.value),this.refreshLeaderboard(t.target.value,this.state.editor.category),this.resetTotalLeaderboardState()),this.update()}handleCategoryChange(t){this.clearCategorySpecificVariables(),this.props.editor.setCategoryName(t.target.value),this.props.generalSettings.speedrunComIntegration&&(this.refreshLeaderboard(this.state.editor.game,t.target.value),this.resetTotalLeaderboardState()),this.update()}handleOffsetChange(t){const e=this.props.editor.parseAndSetOffset(t.target.value);this.setState({...this.state,editor:{...this.state.editor,offset:t.target.value},offsetIsValid:e})}handleOffsetBlur(){this.setState({...this.state,editor:this.props.editor.stateAsJson(this.props.runEditorUrlCache.imageCache),offsetIsValid:!0}),this.props.runEditorUrlCache.collect()}handleAttemptsChange(t){const e=this.props.editor.parseAndSetAttemptCount(t.target.value);this.setState({...this.state,attemptCountIsValid:e,editor:{...this.state.editor,attempts:t.target.value}})}handleAttemptsBlur(){this.setState({...this.state,attemptCountIsValid:!0,editor:this.props.editor.stateAsJson(this.props.runEditorUrlCache.imageCache)}),this.props.runEditorUrlCache.collect()}focusSegment(t){this.props.editor.selectOnly(t);const e=this.props.editor.stateAsJson(this.props.runEditorUrlCache.imageCache);this.props.runEditorUrlCache.collect();const s=e.segments[t].comparison_times,i={...this.state.rowState,splitTimeChanged:!1,segmentTimeChanged:!1,bestSegmentTimeChanged:!1,comparisonTimes:s,comparisonTimesChanged:s.map((()=>!1)),index:t};this.setState({...this.state,editor:e,rowState:i})}handleSegmentNameChange(t){this.props.editor.activeSetName(t.target.value),this.update()}handleSplitTimeChange(t){this.setState({...this.state,rowState:{...this.state.rowState,splitTime:t.target.value,splitTimeChanged:!0}})}handleSegmentTimeChange(t){this.setState({...this.state,rowState:{...this.state.rowState,segmentTime:t.target.value,segmentTimeChanged:!0}})}handleBestSegmentTimeChange(t){this.setState({...this.state,rowState:{...this.state.rowState,bestSegmentTime:t.target.value,bestSegmentTimeChanged:!0}})}handleComparisonTimeChange(t,e){const s={...this.state.rowState.comparisonTimes};s[e]=t.target.value;const i={...this.state.rowState.comparisonTimesChanged};i[e]=!0,this.setState({...this.state,rowState:{...this.state.rowState,comparisonTimes:s,comparisonTimesChanged:i}})}handleSplitTimeBlur(){this.state.rowState.splitTimeChanged&&this.props.editor.activeParseAndSetSplitTime(this.state.rowState.splitTime),this.setState({...this.state,editor:this.props.editor.stateAsJson(this.props.runEditorUrlCache.imageCache),rowState:{...this.state.rowState,splitTimeChanged:!1}}),this.props.runEditorUrlCache.collect()}handleSegmentTimeBlur(){this.state.rowState.segmentTimeChanged&&this.props.editor.activeParseAndSetSegmentTime(this.state.rowState.segmentTime),this.setState({...this.state,editor:this.props.editor.stateAsJson(this.props.runEditorUrlCache.imageCache),rowState:{...this.state.rowState,segmentTimeChanged:!1}}),this.props.runEditorUrlCache.collect()}handleBestSegmentTimeBlur(){this.state.rowState.bestSegmentTimeChanged&&this.props.editor.activeParseAndSetBestSegmentTime(this.state.rowState.bestSegmentTime),this.setState({...this.state,editor:this.props.editor.stateAsJson(this.props.runEditorUrlCache.imageCache),rowState:{...this.state.rowState,bestSegmentTimeChanged:!1}}),this.props.runEditorUrlCache.collect()}handleComparisonTimeBlur(t){const e={...this.state.rowState.comparisonTimesChanged};if(e[t]){const e=this.state.editor.comparison_names[t],s=this.state.rowState.comparisonTimes[t];this.props.editor.activeParseAndSetComparisonTime(e,s)}e[t]=!1,this.setState({...this.state,editor:this.props.editor.stateAsJson(this.props.runEditorUrlCache.imageCache),rowState:{...this.state.rowState,comparisonTimesChanged:e}}),this.props.runEditorUrlCache.collect()}insertSegmentAbove(){this.props.editor.insertSegmentAbove(),this.update()}insertSegmentBelow(){this.props.editor.insertSegmentBelow(),this.update()}removeSegments(){this.props.editor.removeSegments(),this.update()}moveSegmentsUp(){this.props.editor.moveSegmentsUp(),this.update()}moveSegmentsDown(){this.props.editor.moveSegmentsDown(),this.update()}changeSegmentSelection(t,e){t.currentTarget.classList.contains("selected")?this.props.editor.unselect(e):this.props.editor.selectAdditionally(e),this.update()}switchTab(t){switch(t){case Lr.RealTime:this.props.editor.selectTimingMethod(f.RealTime);break;case Lr.GameTime:this.props.editor.selectTimingMethod(f.GameTime)}this.resetTotalLeaderboardState(),this.update(t)}shouldShowTab(t){if(t===Lr.RealTime||t===Lr.GameTime||t===Lr.Variables)return!0;if(void 0===cr(this.state.editor.game))return!1;if(t===Lr.Rules)return!0;if(t===Lr.Leaderboard){const{category:t}=this.getCurrentCategoriesInfo();if(void 0!==this.getCurrentLeaderboard(t))return!0}return!1}resetTotalLeaderboardState(){this.resetIndividualLeaderboardState(),this.filters={variables:new Map,showObsolete:!1}}resetIndividualLeaderboardState(){this.expandedLeaderboardRows=new Map}async downloadBoxArt(){const t=this.state.editor.game;await br(t);const e=cr(t);if(void 0!==e){const t=e.assets["cover-medium"].uri;if(t.startsWith("https://")){const e=await fetch(t),s=await e.arrayBuffer();this.props.editor.setGameIconFromArray(new Uint8Array(s)),this.maybeUpdate()}}}async downloadIcon(){const t=this.state.editor.game;await br(t);const e=cr(t);if(void 0!==e){const t=e.assets.icon.uri;if(t.startsWith("https://")){const e=await fetch(t),s=await e.arrayBuffer();this.props.editor.setGameIconFromArray(new Uint8Array(s)),this.maybeUpdate()}}}async refreshGameList(){await wr(),this.maybeUpdate()}async refreshPlatformList(){await yr(),this.maybeUpdate()}async refreshRegionList(){await vr(),this.maybeUpdate()}async refreshGameInfo(t){await br(t),this.maybeUpdate()}async refreshCategoryList(t){await gr(t),this.maybeUpdate()}async refreshLeaderboard(t,e){await async function(t,e){const s=JSON.stringify({gameName:t,categoryName:e});let i=rr.get(s);return void 0===i&&(i=(async()=>{if(null==await gr(t))return;const i=dr(t);if(void 0===i)return;const r=i.map((t=>t.name)).indexOf(e);if(r<0)return;const o=i[r],n=await async function(t,e,s,i){const r=[];return void 0!==e&&r.push(`category=${e}`),r.push("max=500"),r.push(`embed=${["players"].join(",")}`),r.push(`status=${i}`),r.push("orderby=submitted","direction=desc"),Ki(ji(Hi(r)))}(0,o.id,0,"verified"),a=(await n.evaluateAll()).sort(((t,e)=>t.times.primary_t-e.times.primary_t));or.set(s,a)})(),rr.set(s,i)),i}(t,e),this.maybeUpdate()}getTab(){return this.state.tab}async downloadSplits(t,e){Os(e.startsWith("https://splits.io/api/v3/runs/"),"Unexpected Splits.io URL");const s=e.slice(30);try{const e={stack:[],error:void 0,hasError:!1};try{const i=this.state.editor.game,r=this.state.editor.category,o=Hs(s),n=yr(),a=vr(),l=br(i);await l,await n,await a;const p=Dr(e,await o,!1),d=Qt.new(p);null!==d?(Ir(d,i,r,t),this.props.editor[Symbol.dispose](),this.props.editor.ptr=d.ptr,this.update()):Rs.toast.error("The downloaded splits are not suitable for being edited.")}catch(t){e.error=t,e.hasError=!0}finally{Or(e)}}catch(t){Rs.toast.error("Failed to download the splits.")}}toggleExpandLeaderboardRow(t){!0===this.expandedLeaderboardRows.get(t)?this.expandedLeaderboardRows.set(t,!1):this.expandedLeaderboardRows.set(t,!0),this.update()}clearCategorySpecificVariables(){const t=dr(this.state.editor.game);if(void 0!==t)for(const e of t){if(e.name!==this.state.editor.category)continue;const t=cr(this.state.editor.game);if(void 0===t)continue;const s=Ls(t.variables,"We need the variables to be embedded");for(const t of s.data)t.category!==e?.id||"full-game"!==t.scope.type&&"global"!==t.scope.type||this.props.editor.removeSpeedrunComVariable(t.name);break}}async interactiveAssociateRunOrOpenPage(){const t=this.state.editor.metadata.run_id;if(""!==t)return void window.open(`https://www.speedrun.com/run/${t}`,"_blank");const e=prompt("Specify the speedrun.com ID or URL of the run:");if(null===e)return;const s=/^(?:(?:https?:\/\/)?(?:www\.)?speedrun\.com\/(?:\w+\/)?run\/)?(\w+)$/.exec(e);if(null===s)return void Rs.toast.error("Invalid speedrun.com ID or URL.");const i=s[1],r=await async function(t,e){const s=[];return Ji(ji(`/${t}${Hi(s)}`))}(i),o=await fr(r.game),n=Ls((await mr(r.game)).find((t=>t.id===r.category)),"The category doesn't belong to the game."),a=o.names.international,l=n.name;Ir(this.props.editor,a,l,r),this.refreshLeaderboard(a,l),this.resetTotalLeaderboardState(),this.maybeUpdate()}}function Ir(t,e,s,i){t.setGameName(e),t.setCategoryName(s);const r=hr().get(i.system.platform);void 0!==r&&t.setPlatformName(r);const o=Vs(i.system.region,(t=>ur().get(t)));void 0!==o&&t.setRegionName(o),t.setEmulatorUsage(i.system.emulated),null!=i.comment&&(t.addCustomVariable("Comment"),t.setCustomVariable("Comment",i.comment));const n=i?.videos?.links?.[0]?.uri;void 0!==n&&(t.addCustomVariable("Video URL"),t.setCustomVariable("Video URL",n));const a=cr(e)?.variables;if(void 0!==a)for(const[e,s]of Object.entries(i.values)){const i=a.data.find((t=>t.id===e));if(void 0!==i){const e=Object.entries(i.values.values).find((([t])=>t===s));if(void 0!==e){const s=e[1].label;t.setSpeedrunComVariable(i.name,s)}}}t.setRunId(i.id)}class Vr{forceUpdate;connection;wasIntendingToDisconnect=!1;constructor(t,e,s,i){this.forceUpdate=e;try{this.connection=new WebSocket(t)}catch(t){throw Rs.toast.error(`Failed to connect to the server: ${t.message}`),t}e();let r=!1;this.connection.onopen=t=>{r=!0,Rs.toast.info("Connected to the server."),e()},this.connection.onerror=()=>{Rs.toast.error("An error while communicating with the server occurred.")},this.connection.onmessage=t=>{if("string"==typeof t.data){const e=t.data.indexOf(" ");let s=t.data,r="";switch(e>=0&&(s=t.data.substring(0,e),r=t.data.substring(e+1)),s){case"start":i.start();break;case"split":i.split();break;case"splitorstart":i.splitOrStart();break;case"reset":i.reset();break;case"togglepause":i.togglePauseOrStart();break;case"undo":i.undoSplit();break;case"skip":i.skipSplit();break;case"initgametime":i.initializeGameTime();break;case"setgametime":i.setGameTimeString(r??"");break;case"setloadingtimes":i.setLoadingTimesString(r??"");break;case"pausegametime":i.pauseGameTime();break;case"resumegametime":i.resumeGameTime();break;case"setvariable":{const[t,e]=JSON.parse(r??"");i.setCustomVariable(t,e);break}}}},this.connection.onclose=t=>{const i=t.reason?`: ${t.reason}`:".";r?this.wasIntendingToDisconnect?Rs.toast.info("Closed the connection to the server."):Rs.toast.error(`Lost the connection to the server${i}`):Rs.toast.error(`Failed to connect to the server${i}`),s(),e()}}close(){this.connection.readyState===WebSocket.OPEN&&(this.wasIntendingToDisconnect=!0,this.connection.close(),this.forceUpdate())}getConnectionState(){return this.connection.readyState}}var Br=s(4229),zr={};zr.styleTagTransform=ri(),zr.setAttributes=ti(),zr.insert=Zs().bind(null,"head"),zr.domAPI=Ys(),zr.insertStyleElement=si(),Ks()(Br.A,zr),Br.A&&Br.A.locals&&Br.A.locals;class Gr extends i.Component{constructor(t){super(t),this.state={settings:t.hotkeyConfig.settingsDescriptionAsJson(),generalSettings:{...t.generalSettings}}}render(){const t=this.renderView(),e=this.renderSidebarContent();return this.props.callbacks.renderViewWithSidebar(t,e)}renderView(){return i.createElement("div",{className:"settings-editor"},i.createElement("h2",null,"Hotkeys"),i.createElement(ki,{context:"settings-editor-hotkeys",factory:ke,state:this.state.settings,editorUrlCache:this.props.urlCache,allComparisons:this.props.allComparisons,setValue:(t,e)=>{this.props.hotkeyConfig.setValue(t,e)?this.update():Rs.toast.error("The hotkey is already in use.")}}),i.createElement("h2",null,"General"),i.createElement(ki,{context:"settings-editor-general",factory:new Ci,state:{fields:[{text:"Frame Rate",tooltip:'Determines the frame rate at which to display the timer. "Battery Aware" tries determining the type of device and charging status to select a good frame rate. "Match Screen" makes the timer match the screen\'s refresh rate.',value:{CustomCombobox:{value:this.state.generalSettings.frameRate===Ni?Ni:this.state.generalSettings.frameRate===Ai?Ai:this.state.generalSettings.frameRate.toString()+" FPS",list:[Ai,"30 FPS","60 FPS","120 FPS",Ni],mandatory:!0}}},{text:"Show Control Buttons",tooltip:"Determines whether to show buttons beneath the timer that allow controlling it. When disabled, you have to use the hotkeys instead.",value:{Bool:this.state.generalSettings.showControlButtons}},{text:"Show Manual Game Time Input",tooltip:'Shows a text box beneath the timer that allows you to manually input the game time. You start the timer and do splits by pressing the Enter key in the text box. Make sure to compare against "Game Time".',value:{Bool:this.state.generalSettings.showManualGameTime}},{text:"Save On Reset",tooltip:"Determines whether to automatically save the splits when resetting the timer.",value:{Bool:this.state.generalSettings.saveOnReset}}]},editorUrlCache:this.props.urlCache,allComparisons:this.props.allComparisons,setValue:(t,e)=>{switch(t){case 0:"String"in e&&this.setState({generalSettings:{...this.state.generalSettings,frameRate:e.String===Ni?Ni:e.String===Ai?Ai:parseInt(e.String.split(" ")[0],10)}});break;case 1:"Bool"in e&&this.setState({generalSettings:{...this.state.generalSettings,showControlButtons:e.Bool}});break;case 2:"Bool"in e&&this.setState({generalSettings:{...this.state.generalSettings,showManualGameTime:e.Bool}});break;case 3:"Bool"in e&&this.setState({generalSettings:{...this.state.generalSettings,saveOnReset:e.Bool}})}}}),i.createElement("h2",null,"Network"),i.createElement(ki,{context:"settings-editor-general",factory:new Ci,state:{fields:[{text:"Speedrun.com Integration",tooltip:"Queries the list of games, categories, and the leaderboards from speedrun.com.",value:{Bool:this.state.generalSettings.speedrunComIntegration}},{text:"Splits.io Integration",tooltip:"Allows you to upload splits to and download splits from splits.io.",value:{Bool:this.state.generalSettings.splitsIoIntegration}},{text:i.createElement(i.Fragment,null,"Server Connection ",i.createElement("i",{className:"fa fa-flask",style:{color:"#07bc0c"},"aria-hidden":"true"})),tooltip:i.createElement(i.Fragment,null,"Allows you to connect to a WebSocket server that can control the timer by sending various commands. The commands are currently a subset of the commands the original LiveSplit supports.",i.createElement("br",null),i.createElement("br",null),"This feature is ",i.createElement("b",null,"experimental")," and the protocol will likely change in the future."),value:{ServerConnection:{url:this.props.generalSettings.serverUrl,connection:this.props.serverConnection}}}]},editorUrlCache:this.props.urlCache,allComparisons:this.props.allComparisons,setValue:(t,e)=>{switch(t){case 0:"Bool"in e&&this.setState({generalSettings:{...this.state.generalSettings,speedrunComIntegration:e.Bool}});break;case 1:"Bool"in e&&this.setState({generalSettings:{...this.state.generalSettings,splitsIoIntegration:e.Bool}});break;case 2:if("String"in e){try{this.props.callbacks.onServerConnectionOpened(new Vr(e.String,(()=>this.forceUpdate()),(()=>this.props.callbacks.onServerConnectionClosed()),this.props.eventSink))}catch{}this.setState({generalSettings:{...this.state.generalSettings,serverUrl:e.String}})}}}}))}renderSidebarContent(){return i.createElement("div",{className:"sidebar-buttons"},i.createElement("h1",null,"Settings"),i.createElement("hr",null),i.createElement("div",{className:"small"},i.createElement("button",{className:"toggle-left",onClick:t=>this.props.callbacks.closeSettingsEditor(!0,this.state.generalSettings)},i.createElement("i",{className:"fa fa-check","aria-hidden":"true"})," OK"),i.createElement("button",{className:"toggle-right",onClick:t=>this.props.callbacks.closeSettingsEditor(!1,this.state.generalSettings)},i.createElement("i",{className:"fa fa-times","aria-hidden":"true"})," Cancel")))}update(){this.setState({settings:this.props.hotkeyConfig.settingsDescriptionAsJson()})}}var Ur=s(2858),Mr={};Mr.styleTagTransform=ri(),Mr.setAttributes=ti(),Mr.insert=Zs().bind(null,"head"),Mr.domAPI=Ys(),Mr.insertStyleElement=si(),Ks()(Ur.A,Mr),Ur.A&&Ur.A.locals&&Ur.A.locals;class Fr extends i.Component{componentDidMount(){const t=document.getElementById("upload-drop-zone"),e=document.getElementById("upload-drop-zone-overlay"),s=this.props.importLayout,i=this.props.importSplits;null!==t&&(t.addEventListener("dragenter",(t=>{t.preventDefault(),t.stopPropagation(),e&&(e.style.visibility="visible")})),t.addEventListener("dragleave",(t=>{e&&(t.pageX<10||t.pageY<10||window.innerWidth-t.pageX<10||window.innerHeight-t.pageY<10)&&(e.style.visibility="hidden")})),t.addEventListener("dragover",(t=>{t.preventDefault(),t.stopPropagation()})),t.addEventListener("drop",(t=>{t.preventDefault(),t.stopPropagation(),e&&(e.style.visibility="hidden");const r=t.dataTransfer;if(r){const t=r.files[0];if(t)return i(t).catch((()=>void 0!==s?s(t).catch((()=>{Rs.toast.error("The file could not be parsed.")})):(Rs.toast.error("The file could not be parsed."),null)))}return null})))}render(){return i.createElement("div",{id:"upload-drop-zone"},i.createElement("div",{id:"upload-drop-zone-overlay"},i.createElement("div",{className:"overlay-text"},"Waiting for drop...")),this.props.children)}}const Hr=s.p+"41ae7890998ff08e05da.svg";var Wr=s(8331),jr={};jr.styleTagTransform=ri(),jr.setAttributes=ti(),jr.insert=Zs().bind(null,"head"),jr.domAPI=Ys(),jr.insertStyleElement=si(),Ks()(Wr.A,jr),Wr.A&&Wr.A.locals&&Wr.A.locals;var Jr=function(t,e,s){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var i;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:i,async:s})}else s&&t.stack.push({async:!0});return e},$r=function(t){return function(e){function s(s){e.error=e.hasError?new t(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}return function t(){for(;e.stack.length;){var i=e.stack.pop();try{var r=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(r).then(t,(function(e){return s(e),t()}))}catch(t){s(t)}}if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,s){var i=new Error(s);return i.name="SuppressedError",i.error=t,i.suppressed=e,i});class Kr extends i.Component{constructor(t){super(t),this.state={manualGameTime:""}}render(){const t=this.renderView();if(this.props.renderWithSidebar){const e=this.renderSidebarContent();return this.props.callbacks.renderViewWithSidebar(t,e)}return t}renderView(){return i.createElement(Fr,{importLayout:t=>this.props.callbacks.importLayoutFromFile(t),importSplits:t=>this.props.callbacks.importSplitsFromFile(t)},i.createElement("div",null,i.createElement("div",{onClick:t=>{this.props.generalSettings.showControlButtons&&this.props.eventSink.splitOrStart()},style:{display:"inline-block",cursor:this.props.generalSettings.showControlButtons?"pointer":void 0}},i.createElement(Bi,{getState:()=>(0!==this.props.layout.ptr&&(this.props.eventSink.updateLayoutState(this.props.layout,this.props.layoutState,this.props.layoutUrlCache.imageCache),this.props.layoutUrlCache.collect()),this.props.layoutState),layoutUrlCache:this.props.layoutUrlCache,allowResize:this.props.isDesktop,width:this.props.layoutWidth,height:this.props.layoutHeight,generalSettings:this.props.generalSettings,renderer:this.props.renderer,onResize:(t,e)=>this.props.callbacks.onResize(t,e)}))),this.props.generalSettings.showControlButtons&&i.createElement("div",{className:"buttons",style:{width:this.props.layoutWidth}},i.createElement("div",{className:"small"},i.createElement("button",{"aria-label":this.props.currentPhase===b.NotRunning?"Start":this.props.currentPhase===b.Paused?"Resume":"Pause",disabled:this.props.currentPhase===b.Ended,onClick:t=>this.props.eventSink.togglePauseOrStart()},i.createElement("i",{className:this.props.currentPhase===b.NotRunning||this.props.currentPhase===b.Paused?"fa fa-play":"fa fa-pause","aria-hidden":"true"})),i.createElement("button",{"aria-label":"Undo Split",disabled:this.props.currentSplitIndex<=0,onClick:t=>this.props.eventSink.undoSplit()},i.createElement("i",{className:"fa fa-arrow-up","aria-hidden":"true"}))),i.createElement("div",{className:"small"},i.createElement("button",{"aria-label":"Reset",disabled:this.props.currentPhase===b.NotRunning,onClick:t=>this.props.eventSink.reset()},i.createElement("i",{className:"fa fa-times","aria-hidden":"true"})),i.createElement("button",{"aria-label":"Skip Split",disabled:this.props.currentPhase===b.NotRunning||this.props.currentSplitIndex+1>=this.props.eventSink.segmentsCount(),onClick:t=>this.props.eventSink.skipSplit()},i.createElement("i",{className:"fa fa-arrow-down","aria-hidden":"true"})))),this.props.generalSettings.showManualGameTime&&i.createElement("div",{className:"buttons",style:{width:this.props.layoutWidth}},i.createElement("input",{type:"text",className:"manual-game-time",value:this.state.manualGameTime,placeholder:"Manual Game Time",onChange:t=>{this.setState({manualGameTime:t.target.value})},onKeyDown:t=>{if("Enter"===t.key){const t=this.props.eventSink;if(t.currentPhase()===b.NotRunning){const e={stack:[],error:void 0,hasError:!1};try{t.start(),t.pauseGameTime();const s=Jr(e,Xe.parse(this.state.manualGameTime)??Ls(Xe.parse("0"),"Failed to parse TimeSpan"),!1);t.setGameTimeInner(s),this.setState({manualGameTime:""})}catch(t){e.error=t,e.hasError=!0}finally{$r(e)}}else{const e={stack:[],error:void 0,hasError:!1};try{const s=Jr(e,Xe.parse(this.state.manualGameTime),!1);null!==s&&(t.setGameTimeInner(s),t.split(),this.setState({manualGameTime:""}))}catch(t){e.error=t,e.hasError=!0}finally{$r(e)}}}}})))}renderSidebarContent(){return i.createElement("div",{className:"sidebar-buttons"},i.createElement("div",{className:"livesplit-title"},i.createElement("span",{className:"livesplit-icon"},i.createElement("img",{src:Hr,alt:"LiveSplit Logo"})),i.createElement("h1",null," LiveSplit One")),i.createElement("hr",{className:"livesplit-title-separator"}),i.createElement("button",{onClick:t=>this.props.callbacks.openSplitsView()},i.createElement("i",{className:"fa fa-list","aria-hidden":"true"})," Splits",this.props.splitsModified&&i.createElement("i",{className:"fa fa-circle modified-icon","aria-hidden":"true"})),i.createElement("button",{onClick:t=>this.props.callbacks.openLayoutView()},i.createElement("i",{className:"fa fa-layer-group","aria-hidden":"true"})," Layout",this.props.layoutModified&&i.createElement("i",{className:"fa fa-circle modified-icon","aria-hidden":"true"})),i.createElement("hr",null),i.createElement("h2",null,"Compare Against"),i.createElement("select",{value:this.props.currentComparison,onChange:t=>this.props.eventSink.setCurrentComparison(t.target.value),className:"choose-comparison"},this.props.allComparisons.map((t=>i.createElement("option",null,t)))),i.createElement("div",{className:"small"},i.createElement("button",{onClick:t=>{this.props.eventSink.setCurrentTimingMethod(f.RealTime)},className:(this.props.currentTimingMethod===f.RealTime?"button-pressed":"")+" toggle-left"},"Real Time"),i.createElement("button",{onClick:t=>{this.props.eventSink.setCurrentTimingMethod(f.GameTime)},className:(this.props.currentTimingMethod===f.GameTime?"button-pressed":"")+" toggle-right"},"Game Time")),i.createElement("hr",null),i.createElement("button",{onClick:()=>this.props.callbacks.openSettingsEditor()},i.createElement("i",{className:"fa fa-cog","aria-hidden":"true"})," Settings"),i.createElement("button",{onClick:t=>this.props.callbacks.openAboutView()},i.createElement("i",{className:"fa fa-info-circle","aria-hidden":"true"})," About"))}}var qr=s(6654),Yr={};Yr.styleTagTransform=ri(),Yr.setAttributes=ti(),Yr.insert=Zs().bind(null,"head"),Yr.domAPI=Ys(),Yr.insertStyleElement=si(),Ks()(qr.A,Yr);const Qr=qr.A&&qr.A.locals?qr.A.locals:void 0;var Zr=s(8946),Xr={};Xr.styleTagTransform=ri(),Xr.setAttributes=ti(),Xr.insert=Zs().bind(null,"head"),Xr.domAPI=Ys(),Xr.insertStyleElement=si(),Ks()(Zr.A,Xr),Zr.A&&Zr.A.locals&&Zr.A.locals;const to={softBreak:!1,escapeHtml:!1},eo=parseFloat(Qr.contributorAvatarSize);class so extends i.Component{render(){const t=this.renderView(),e=this.renderSidebarContent();return this.props.callbacks.renderViewWithSidebar(t,e)}renderView(){const t=Math.round(devicePixelRatio*eo);return i.createElement("div",{className:"about"},i.createElement("div",{className:"about-inner-container"},i.createElement("div",{className:"livesplit-title"},i.createElement("span",{className:"livesplit-icon"},i.createElement("img",{src:Hr,alt:"LiveSplit Logo"})),i.createElement("div",{className:"title-text"},"LiveSplit One")),i.createElement("p",{className:"build-version"},i.createElement("a",{href:"https://github.com/LiveSplit/LiveSplitOne/commit/cfda164\n",target:"_blank"},"Version: ","2024-06-09 16:12:44 UTC")),i.createElement("p",null,"LiveSplit One is a multiplatform version of LiveSplit, the sleek, highly-customizable timer for speedrunners."),i.createElement("p",null,i.createElement("a",{href:"https://github.com/LiveSplit/LiveSplitOne",target:"_blank"},"View Source Code on GitHub")),i.createElement("h2",null,"Recent Changes"),i.createElement("div",{className:"changelog"},[{id:"d4eec063577becafdc0ce4858c7eafdea7ef1a41",message:"The comparison and timing method (Real Time / Game Time) that\nyou choose now stay chosen when you reload LiveSplit One.",date:"2024-06-08"},{id:"ba7e746618da0bec51195e88bc4c0863e098e852",message:"The splits editor now allows copying comparisons. This can\nalso be used to keep the times of an automatic comparison around as a\ncustom comparison. One example for using this is keeping around the\nlatest run as a custom comparison, so that you can compare against it\nlater on, even if you have already done another run.",date:"2024-06-08"},{id:"0902aa339b5e05a63fb1a02b7c60756b321fffdc",message:"There are now indicators in the user interface that remind\nyou about unsaved changes to your splits and layouts.",date:"2024-06-04"},{id:"af383c7062688181bccb0f364456e51479575150",message:"You can now choose the comparisons from a list in the\nsidebar. Settings that allow you to specify a comparison now also\nprovide a list to choose from.",date:"2024-06-03"},{id:"a0c0950a189cd92df76f5d9c210991419057abf1",message:"You can now enable **Save On Reset** in the settings, which\nwill automatically save the splits when you reset the timer.",date:"2024-06-03"},{id:"1578938aa8daa7ba9bb1fb654f7828c89f6a022a",message:"The About page now shows the most recent changes. The\ncontributors section has also been improved. It now shows the avatar of\neach contributor.",date:"2024-05-31"}].map((t=>i.createElement(i.Fragment,null,i.createElement("a",{href:`https://github.com/LiveSplit/LiveSplitOne/commit/${t.id}`,target:"_blank"},t.date),i.createElement("div",null,Nr(t.message,to)))))),i.createElement("h2",null,"Contributors"),i.createElement("div",{className:"contributors"},[{id:1451630,name:"CryZe"},{id:8262173,name:"wooferzfg"},{id:12072058,name:"hallcristobal"},{id:15368682,name:"DarkRTA"},{id:25464294,name:"kadiwa4"},{id:6600123,name:"AlexKnauth"},{id:21366319,name:"mcdoll"},{id:9326885,name:"P1n3appl3"},{id:24602724,name:"chrissantamaria"},{id:23059113,name:"doesthisusername"},{id:53879295,name:"Rektroth"},{id:6502527,name:"Splamy"},{id:6177465,name:"Ynscription"},{id:5025835,name:"Eein"},{id:14114749,name:"Hurricane996"},{id:20629184,name:"Jujstme"},{id:49624366,name:"MichaelJBerk"},{id:16222300,name:"AntyMew"},{id:2942058,name:"MarkDDR"},{id:4970541,name:"PARTYMANX"},{id:38794835,name:"Refragg"},{id:25165500,name:"TheTedder"},{id:2046750,name:"asauber"},{id:5300855,name:"ash2x3zb9cy"},{id:384637,name:"dagit"},{id:56401411,name:"just-ero"},{id:762049,name:"lbrndnr"},{id:4483829,name:"stevensmedia"},{id:2280544,name:"tmandry"}].map((e=>i.createElement("a",{href:`https://github.com/${e.name}`,target:"_blank"},i.createElement("img",{src:`https://avatars.githubusercontent.com/u/${e.id}?s=${t}&v=4`,onError:t=>t.target.remove()}),e.name))))))}renderSidebarContent(){return i.createElement("div",{className:"sidebar-buttons"},i.createElement("h1",null,"About"),i.createElement("hr",null),i.createElement("button",{onClick:t=>this.props.callbacks.openTimerView()},i.createElement("i",{className:"fa fa-caret-left","aria-hidden":"true"})," Back"))}}var io=s(602),ro=function(t,e,s){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var i;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:i,async:s})}else s&&t.stack.push({async:!0});return e},oo=function(t){return function(e){function s(s){e.error=e.hasError?new t(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}return function t(){for(;e.stack.length;){var i=e.stack.pop();try{var r=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(r).then(t,(function(e){return s(e),t()}))}catch(t){s(t)}}if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,s){var i=new Error(s);return i.name="SuppressedError",i.error=t,i.suppressed=e,i});let no=null;function ao(t){let e,s;if(t.len()>0){const i=t.segment(t.len()-1).personalBestSplitTime();e=i.realTime()?.totalSeconds(),s=i.gameTime()?.totalSeconds()}return{game:t.gameName(),category:t.extendedCategoryName(!0,!0,!0),realTime:e,gameTime:s}}function lo(t){const e={stack:[],error:void 0,hasError:!1};try{const s=ro(e,Kt.parseArray(t,""),!1);if(!s.parsedSuccessfully())return;return ao(ro(e,s.unwrap(),!1))}catch(t){e.error=t,e.hasError=!0}finally{oo(e)}}function po(){return null==no&&(no=(0,io.P2)("LiveSplit",2,{async upgrade(t,e,s,i){const r=t.createObjectStore("splitsData",{autoIncrement:!0}),o=t.createObjectStore("splitsInfo",{autoIncrement:!0});if(1===e){const t=i.objectStore("settings"),e=await t.get("splits");if(null!=e){t.delete("splits");const s=lo(e);null!=s&&(o.put(s),r.put(e),t.put(1,"splitsKey"))}}else{const e=t.createObjectStore("settings",{autoIncrement:!0}),s=localStorage.getItem("splits");if(s){const t=(new TextEncoder).encode(s),i=lo(t);null!=i&&(o.put(i),r.put(t),e.put(1,"splitsKey"))}const i=localStorage.getItem("layout");i&&e.put(JSON.parse(i),"layout");const n=localStorage.getItem("settings");n&&e.put(JSON.parse(n).hotkeys,"hotkeys");const a=localStorage.getItem("layoutWidth");a&&e.put(+a,"layoutWidth"),localStorage.clear()}}})),no}async function co(t,e){await ho((e=>{e(t,t.saveAsLssBytes())}),e)}async function ho(t,e){const s=(await po()).transaction(["splitsData","splitsInfo"],"readwrite");let i=null;return t(((t,r)=>{i=s.objectStore("splitsData").put(r,e),s.objectStore("splitsInfo").put(ao(t),e)})),await s.done,Os(null!==i,"Callback needs to actually run"),i}async function uo(t){const e=await po();return await e.get("splitsData",t)}async function mo(t){const e=await po();await e.put("settings",t,"splitsKey")}var go=s(3962),fo={};fo.styleTagTransform=ri(),fo.setAttributes=ti(),fo.insert=Zs().bind(null,"head"),fo.domAPI=Ys(),fo.insertStyleElement=si(),Ks()(go.A,fo),go.A&&go.A.locals&&go.A.locals;var bo=function(t,e,s){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var i;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:i,async:s})}else s&&t.stack.push({async:!0});return e},wo=function(t){return function(e){function s(s){e.error=e.hasError?new t(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}return function t(){for(;e.stack.length;){var i=e.stack.pop();try{var r=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(r).then(t,(function(e){return s(e),t()}))}catch(t){s(t)}}if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,s){var i=new Error(s);return i.name="SuppressedError",i.error=t,i.suppressed=e,i});class yo extends i.Component{constructor(t){super(t),this.refreshDb(),this.state={}}render(){const t=this.renderView(),e=this.renderSidebarContent();return this.props.callbacks.renderViewWithSidebar(t,e)}renderView(){let t;return t=null==this.state.splitsInfos?i.createElement("div",{className:"loading"},i.createElement("div",{className:"fa fa-spinner fa-spin"}),i.createElement("div",{className:"loading-text"},"Loading...")):i.createElement("div",{className:"splits-selection-container"},i.createElement("div",{className:"main-actions"},i.createElement("button",{onClick:()=>this.addNewSplits()},i.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})," Add"),i.createElement("button",{onClick:()=>this.importSplits()},i.createElement("i",{className:"fa fa-download","aria-hidden":"true"})," Import"),this.props.generalSettings.splitsIoIntegration&&i.createElement("button",{onClick:()=>this.importSplitsFromSplitsIO()},i.createElement("i",{className:"fa fa-download","aria-hidden":"true"})," From Splits.io")),this.state.splitsInfos?.length>0&&i.createElement("div",{className:"splits-table"},i.createElement("div",{className:"splits-rows"},this.state.splitsInfos.map((([t,e])=>this.renderSavedSplitsRow(t,e)))))),i.createElement(Fr,{importSplits:this.importSplitsFromFile.bind(this)},i.createElement("div",{className:"splits-selection"},t))}async refreshDb(){const t=await async function(){const t=(await po()).transaction("splitsInfo","readonly"),e=[];let s=await t.store.openCursor();for(;s;)e.push([+s.key,s.value]),s=await s.continue();return e}();this.setState({splitsInfos:t})}renderSavedSplitsRow(t,e){const s=t===this.props.openedSplitsKey,r=`splits-${t}-context-menu`;let o=null;return i.createElement("div",{className:s?"splits-row selected":"splits-row",key:t},this.splitsTitle(e),i.createElement("div",{className:"splits-row-buttons"},s?null:i.createElement(i.Fragment,null,i.createElement("button",{"aria-label":"Open Splits",onClick:()=>this.openSplits(t)},i.createElement("i",{className:"fa fa-folder-open","aria-hidden":"true"})),i.createElement("button",{"aria-label":"Edit Splits",onClick:()=>this.editSplits(t)},i.createElement("i",{className:"fa fa-edit","aria-hidden":"true"})),i.createElement("button",{"aria-label":"Export Splits",onClick:t=>(t=>{o&&o.handleContextClick(t)})(t)},i.createElement(Ws.Rc,{id:r,ref:t=>o=t},i.createElement("i",{className:"fa fa-upload","aria-hidden":"true"}))),i.createElement(Ws.tz,{id:r},i.createElement(Ws.Dr,{className:"tooltip",onClick:s=>this.exportSplits(t,e)},"Export to File",i.createElement("span",{className:"tooltip-text"},"Export the splits to a file on your computer.")),this.props.generalSettings.splitsIoIntegration&&i.createElement(Ws.Dr,{className:"tooltip",onClick:e=>this.uploadSplitsToSplitsIO(t)},"Upload to Splits.io",i.createElement("span",{className:"tooltip-text"},"Upload the splits to splits.io.")))),i.createElement("button",{"aria-label":"Copy Splits",onClick:()=>this.copySplits(t)},i.createElement("i",{className:"fa fa-clone","aria-hidden":"true"})),i.createElement("button",{"aria-label":"Remove Splits",onClick:()=>this.deleteSplits(t)},i.createElement("i",{className:"fa fa-trash","aria-hidden":"true"}))))}splitsTitle(t){return i.createElement("div",{className:"splits-title-text"},i.createElement("div",{className:"splits-text splits-game"},t.game||"Untitled"),i.createElement("div",{className:"splits-text splits-category"},t.category||"—"))}renderSidebarContent(){return i.createElement("div",{className:"sidebar-buttons"},i.createElement("h1",null,"Splits"),i.createElement("hr",null),i.createElement("button",{onClick:t=>{if(this.props.eventSink.currentPhase()!==b.NotRunning)return void Rs.toast.error("You can't edit your run while the timer is running.");const e=this.props.eventSink.getRun().clone();this.props.callbacks.openRunEditor({run:e})}},i.createElement("i",{className:"fa fa-edit","aria-hidden":"true"})," Edit"),i.createElement("button",{onClick:t=>this.saveSplits()},i.createElement("i",{className:"fa fa-save","aria-hidden":"true"})," Save",this.props.splitsModified&&i.createElement("i",{className:"fa fa-circle modified-icon","aria-hidden":"true"})),i.createElement("button",{onClick:t=>this.exportTimerSplits()},i.createElement("i",{className:"fa fa-upload","aria-hidden":"true"})," Export"),this.props.generalSettings.splitsIoIntegration&&i.createElement("button",{onClick:t=>this.uploadTimerToSplitsIO()},i.createElement("i",{className:"fa fa-upload","aria-hidden":"true"})," Upload to Splits.io"),i.createElement("hr",null),i.createElement("button",{onClick:t=>this.props.callbacks.openTimerView()},i.createElement("i",{className:"fa fa-caret-left","aria-hidden":"true"})," Back"))}async getRunFromKey(t){const e={stack:[],error:void 0,hasError:!1};try{const s=await uo(t);if(void 0===s)throw Error("The splits key is invalid.");const i=bo(e,Kt.parseArray(new Uint8Array(s),""),!1);if(i.parsedSuccessfully())return i.unwrap();throw Error("Couldn't parse the splits.")}catch(t){e.error=t,e.hasError=!0}finally{wo(e)}}async openSplits(t){const e={stack:[],error:void 0,hasError:!1};try{if(this.props.eventSink.hasBeenModified()&&!confirm("Your current splits are modified and have unsaved changes. Do you want to continue and discard those changes?"))return;const s=bo(e,await this.getRunFromKey(t),!1);Is(this.props.eventSink.setRun(s),(()=>Rs.toast.error("The loaded splits are invalid."))),this.props.callbacks.setSplitsKey(t)}catch(t){e.error=t,e.hasError=!0}finally{wo(e)}}async exportSplits(t,e){try{const s=await uo(t);if(void 0===s)throw Error("The splits key is invalid.");As(`${e.game} - ${e.category}.lss`,s)}catch(t){Rs.toast.error("Failed to export the splits.")}}exportTimerSplits(){this.props.eventSink.markAsUnmodified();const t=this.props.eventSink.extendedFileName(!0),e=this.props.eventSink.saveAsLssBytes();try{As(t+".lss",e)}catch(t){Rs.toast.error("Failed to export the splits.")}}async editSplits(t){const e=await this.getRunFromKey(t);this.props.callbacks.openRunEditor({splitsKey:t,run:e})}async copySplits(t){await async function(t){const e=(await po()).transaction(["splitsData","splitsInfo"],"readwrite"),s=e.objectStore("splitsData");s.put(await s.get(t));const i=e.objectStore("splitsInfo");i.put(await i.get(t)),await e.done}(t),await this.refreshDb()}async deleteSplits(t){confirm("Are you sure you want to delete the splits? This operation can not be undone.")&&(await async function(t){const e=(await po()).transaction(["splitsData","splitsInfo"],"readwrite");e.objectStore("splitsData").delete(t),e.objectStore("splitsInfo").delete(t),await e.done}(t),t===this.props.openedSplitsKey&&(this.props.callbacks.setSplitsKey(void 0),mo(void 0)),await this.refreshDb())}async importSplits(){const t=await Ts();try{await this.importSplitsFromArrayBuffer(t)}catch(t){Rs.toast.error(t.message)}}async importSplitsFromFile(t){const e=await ks(t);this.importSplitsFromArrayBuffer(e)}async importSplitsFromArrayBuffer(t){const[e]=t,s=Kt.parseArray(new Uint8Array(e),"");try{if(!s.parsedSuccessfully())throw Error("Couldn't parse the splits.");await this.storeRun(s.unwrap())}finally{s[Symbol.dispose]()}}async saveSplits(){await this.props.callbacks.saveSplits(),this.refreshDb()}async uploadSplitsToSplitsIO(t){try{const e=await uo(t);if(void 0===e)throw Error("The splits key is invalid.");const s=await Fs(new Blob([e]));return window.open(s)}catch(t){return Rs.toast.error("Failed to upload the splits."),null}}async uploadTimerToSplitsIO(){const t=this.props.eventSink.saveAsLssBytes();try{const e=await Fs(new Blob([t]));return window.open(e)}catch(t){return Rs.toast.error("Failed to upload the splits."),null}}async importSplitsFromSplitsIO(){let t=prompt("Specify the Splits.io URL or ID:");if(t){0===t.indexOf("https://splits.io/")&&(t=t.substring(18));try{const e=await Hs(t);await this.storeRun(e)}catch(t){Rs.toast.error("Failed to download the splits.")}}}async addNewSplits(){const t=Kt.new();t.pushSegment(pe.new("Time")),await this.storeRun(t)}async storeRun(t){try{if(0===t.len())return void Rs.toast.error("Can't import empty splits.");await co(t,void 0),await this.refreshDb()}finally{t[Symbol.dispose]()}}}class vo extends i.Component{render(){const t=i.createElement(Kr,{layout:this.props.layout,layoutState:this.props.layoutState,layoutUrlCache:this.props.layoutUrlCache,layoutWidth:this.props.layoutWidth,layoutHeight:this.props.layoutHeight,generalSettings:this.props.generalSettings,isDesktop:this.props.isDesktop,renderWithSidebar:!1,sidebarOpen:this.props.sidebarOpen,eventSink:this.props.eventSink,renderer:this.props.renderer,serverConnection:this.props.serverConnection,callbacks:this.props.callbacks,currentComparison:this.props.currentComparison,currentTimingMethod:this.props.currentTimingMethod,currentPhase:this.props.currentPhase,currentSplitIndex:this.props.currentSplitIndex,allComparisons:this.props.allComparisons,splitsModified:this.props.splitsModified,layoutModified:this.props.layoutModified}),e=this.renderSidebarContent();return this.props.callbacks.renderViewWithSidebar(t,e)}renderSidebarContent(){return i.createElement("div",{className:"sidebar-buttons"},i.createElement("h1",null,"Layout"),i.createElement("hr",null),i.createElement("button",{onClick:t=>this.props.callbacks.openLayoutEditor()},i.createElement("i",{className:"fa fa-edit","aria-hidden":"true"})," Edit"),i.createElement("button",{onClick:t=>this.props.callbacks.saveLayout()},i.createElement("i",{className:"fa fa-save","aria-hidden":"true"})," Save",this.props.layoutModified&&i.createElement("i",{className:"fa fa-circle modified-icon","aria-hidden":"true"})),i.createElement("button",{onClick:t=>this.props.callbacks.importLayout()},i.createElement("i",{className:"fa fa-download","aria-hidden":"true"})," Import"),i.createElement("button",{onClick:t=>this.props.callbacks.exportLayout()},i.createElement("i",{className:"fa fa-upload","aria-hidden":"true"})," Export"),i.createElement("button",{onClick:t=>this.props.callbacks.loadDefaultLayout()},i.createElement("i",{className:"fa fa-sync","aria-hidden":"true"})," Default"),i.createElement("hr",null),i.createElement("button",{onClick:t=>this.props.callbacks.openTimerView()},i.createElement("i",{className:"fa fa-caret-left","aria-hidden":"true"})," Back"))}}class So{urls=new Map;imageCache=ht.new();cache(t){const e=this.urls.get(t);if(void 0!==e)return e;const s=this.imageCache.lookupData(t);if(void 0===s)return;const i=URL.createObjectURL(new Blob([s]));return this.urls.set(t,i),i}collect(){if(0!==this.imageCache.collect())for(const[t,e]of this.urls)0===this.imageCache.lookupDataPtr(t)&&(this.urls.delete(t),URL.revokeObjectURL(e))}}var xo=function(t,e,s){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var i;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:i,async:s})}else s&&t.stack.push({async:!0});return e},_o=function(t){return function(e){function s(s){e.error=e.hasError?new t(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}return function t(){for(;e.stack.length;){var i=e.stack.pop();try{var r=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(r).then(t,(function(e){return s(e),t()}))}catch(t){s(t)}}if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,s){var i=new Error(s);return i.name="SuppressedError",i.error=t,i.suppressed=e,i});class Eo{timer;currentComparisonChanged;currentTimingMethodChanged;currentPhaseChanged;currentSplitChanged;comparisonListChanged;splitsModifiedChanged;onReset;eventSink;constructor(t,e,s,i,r,o,a,l){this.timer=t,this.currentComparisonChanged=e,this.currentTimingMethodChanged=s,this.currentPhaseChanged=i,this.currentSplitChanged=r,this.comparisonListChanged=o,this.splitsModifiedChanged=a,this.onReset=l,this.eventSink=new K(new n.qc(this).intoGeneric())}[Symbol.dispose](){this.eventSink[Symbol.dispose](),this.timer[Symbol.dispose]()}getEventSink(){return this.eventSink}start(){this.timer.start(),this.currentPhaseChanged(),this.currentSplitChanged(),this.splitsModifiedChanged()}split(){this.timer.split(),this.currentPhaseChanged(),this.currentSplitChanged()}splitOrStart(){this.timer.splitOrStart(),this.currentPhaseChanged(),this.currentSplitChanged(),this.splitsModifiedChanged()}reset(){let t=!0;this.timer.currentAttemptHasNewBestTimes()&&(t=confirm("You have beaten some of your best times. Do you want to update them?")),this.timer.reset(t),this.currentPhaseChanged(),this.currentSplitChanged(),this.onReset()}undoSplit(){this.timer.undoSplit(),this.currentPhaseChanged(),this.currentSplitChanged()}skipSplit(){this.timer.skipSplit(),this.currentSplitChanged()}togglePauseOrStart(){this.timer.togglePauseOrStart(),this.currentPhaseChanged(),this.currentSplitChanged(),this.splitsModifiedChanged()}pause(){this.timer.pause(),this.currentPhaseChanged()}resume(){this.timer.resume(),this.currentPhaseChanged()}undoAllPauses(){this.timer.undoAllPauses(),this.currentPhaseChanged()}switchToPreviousComparison(){this.timer.switchToPreviousComparison(),this.currentComparisonChanged()}switchToNextComparison(){this.timer.switchToNextComparison(),this.currentComparisonChanged()}setCurrentComparison(t){this.timer.setCurrentComparison(t),this.currentComparisonChanged()}toggleTimingMethod(){this.timer.toggleTimingMethod(),this.currentTimingMethodChanged()}setGameTime(t){const e=new Qe(t);this.timer.setGameTime(e)}setGameTimeInner(t){this.timer.setGameTime(t)}setGameTimeString(t){const e={stack:[],error:void 0,hasError:!1};try{const s=xo(e,Xe.parse(t),!1);null!==s&&this.setGameTimeInner(s)}catch(t){e.error=t,e.hasError=!0}finally{_o(e)}}setLoadingTimesString(t){const e={stack:[],error:void 0,hasError:!1};try{const s=xo(e,Xe.parse(t),!1);null!==s&&this.setLoadingTimesInner(s)}catch(t){e.error=t,e.hasError=!0}finally{_o(e)}}pauseGameTime(){this.timer.pauseGameTime()}resumeGameTime(){this.timer.resumeGameTime()}setCustomVariable(t,e){this.timer.setCustomVariable(t,e)}initializeGameTime(){this.timer.initializeGameTime()}setLoadingTimesInner(t){this.timer.setLoadingTimes(t)}setRun(t){const e=this.timer.setRun(t);return this.currentComparisonChanged(),this.currentPhaseChanged(),this.currentSplitChanged(),this.comparisonListChanged(),this.splitsModifiedChanged(),e}hasBeenModified(){return this.timer.getRun().hasBeenModified()}markAsUnmodified(){this.timer.markAsUnmodified(),this.splitsModifiedChanged()}getRun(){return this.timer.getRun()}extendedFileName(t){return this.timer.getRun().extendedFileName(t)}saveAsLssBytes(){return this.timer.saveAsLssBytes()}updateLayoutState(t,e,s){t.updateState(e,s,this.timer)}updateLayoutEditorLayoutState(t,e,s){t.updateLayoutState(e,s,this.timer)}currentSplitIndex(){return this.timer.currentSplitIndex()}segmentsCount(){return this.timer.getRun().segmentsLen()}currentPhase(){return this.timer.currentPhase()}currentComparison(){return this.timer.currentComparison()}getAllComparisons(){const t=this.timer.getRun(),e=t.comparisonsLen(),s=[];for(let i=0;i<e;i++)s.push(t.comparison(i));return s}currentTimingMethod(){return this.timer.currentTimingMethod()}setCurrentTimingMethod(t){this.timer.setCurrentTimingMethod(t),this.currentTimingMethodChanged()}}s(3780);var Co=s(1165),ko={};ko.styleTagTransform=ri(),ko.setAttributes=ti(),ko.insert=Zs().bind(null,"head"),ko.domAPI=Ys(),ko.insertStyleElement=si(),Ks()(Co.A,ko),Co.A&&Co.A.locals&&Co.A.locals;var To=function(t,e,s){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var i;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:i,async:s})}else s&&t.stack.push({async:!0});return e},No=function(t){return function(e){function s(s){e.error=e.hasError?new t(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}return function t(){for(;e.stack.length;){var i=e.stack.pop();try{var r=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(r).then(t,(function(e){return s(e),t()}))}catch(t){s(t)}}if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,s){var i=new Error(s);return i.name="SuppressedError",i.error=t,i.suppressed=e,i});const Ao=parseFloat(Qr.buttonHeight),Ro=parseFloat(Qr.largeMargin),Lo=parseFloat(Qr.manualGameTimeHeight);var Do;!function(t){t[t.Timer=0]="Timer",t[t.Splits=1]="Splits",t[t.RunEditor=2]="RunEditor",t[t.Layout=3]="Layout",t[t.LayoutEditor=4]="LayoutEditor",t[t.SettingsEditor=5]="SettingsEditor",t[t.About=6]="About"}(Do||(Do={}));let Oo=null;class Po extends i.Component{static async loadStoredData(){const t=await async function(){const t=await po();return await t.get("settings","splitsKey")}(),e=void 0!==t?await uo(t):void 0,s=await async function(){const t=await po();return await t.get("settings","layout")}(),i=await async function(){const t=await po();return await t.get("settings","comparison")}(),r=await async function(){const t=await po();return await t.get("settings","timingMethod")??f.RealTime}(),o=await async function(){const t=await po();return await t.get("settings","hotkeys")}(),[n,a]=await async function(){const t=await po();return[await t.get("settings","layoutWidth")??300,await t.get("settings","layoutHeight")??500]}(),l=await async function(){const t=await po(),e=await t.get("settings","generalSettings")??{};return{frameRate:e.frameRate??Ai,showControlButtons:e.showControlButtons??!0,showManualGameTime:e.showManualGameTime??!1,saveOnReset:e.saveOnReset??!1,speedrunComIntegration:e.speedrunComIntegration??!0,splitsIoIntegration:e.splitsIoIntegration??!0,serverUrl:e.serverUrl}}();return{splits:e,splitsKey:t,layout:s,comparison:i,timingMethod:r,hotkeys:o,layoutWidth:n,layoutHeight:a,generalSettings:l}}isDesktopQuery=window.matchMedia("(min-width: 600px)");scrollEvent;rightClickEvent;resizeEvent;constructor(t){super(t);const e=this.getDefaultRun(),s=Ls(ss.new(e),"The Default Run should be a valid Run"),i=new Eo(s,(()=>this.currentComparisonChanged()),(()=>this.currentTimingMethodChanged()),(()=>this.currentPhaseChanged()),(()=>this.currentSplitChanged()),(()=>this.comparisonsListChanged()),(()=>this.splitsModifiedChanged()),(()=>this.onReset())),r=t.hotkeys;try{if(void 0!==r){const t=nt.parseJson(r);null!==t&&(Oo=pt.withConfig(i.getEventSink(),t))}}catch(t){}if(null==Oo&&(Oo=Ls(pt.new(i.getEventSink()),"Couldn't initialize the hotkeys")),0===window.location.hash.indexOf("#/splits-io/")){const t=Kt.new();t.setGameName("Loading..."),t.setCategoryName("Loading..."),t.pushSegment(pe.new("Time")),Ps(i.setRun(t),"The Default Loading Run should be a valid Run"),this.loadFromSplitsIO(window.location.hash.substring(12))}else if(void 0!==t.splits){const e={stack:[],error:void 0,hasError:!1};try{const s=To(e,Kt.parseArray(t.splits,""),!1);if(s.parsedSuccessfully()){const t={stack:[],error:void 0,hasError:!1};try{const e=To(t,s.unwrap(),!1);i.setRun(e)?.[Symbol.dispose]()}catch(e){t.error=e,t.hasError=!0}finally{No(t)}}}catch(t){e.error=t,e.hasError=!0}finally{No(e)}}void 0!==t.comparison&&s.setCurrentComparison(t.comparison),s.setCurrentTimingMethod(t.timingMethod);let o=null;try{const e=t.layout;void 0!==e&&(o=wt.parseJson(e))}catch(t){}null===o&&(o=wt.defaultLayout());const a=this.isDesktopQuery.matches,l=!!window.obsstudio,p=new n.YM;p.element().setAttribute("style","width: inherit; height: inherit;"),this.state={isDesktop:a&&!l,isBrowserSource:l,layout:o,layoutState:Tt.new(),layoutUrlCache:new So,runEditorUrlCache:new So,layoutEditorUrlCache:new So,layoutWidth:t.layoutWidth,layoutHeight:t.layoutHeight,menu:{kind:Do.Timer},sidebarOpen:!1,sidebarTransitionsEnabled:!1,storedLayoutWidth:t.layoutWidth,storedLayoutHeight:t.layoutHeight,eventSink:i,hotkeySystem:Oo,openedSplitsKey:t.splitsKey,renderer:p,generalSettings:t.generalSettings,serverConnection:null,currentComparison:i.currentComparison(),currentTimingMethod:i.currentTimingMethod(),currentPhase:i.currentPhase(),currentSplitIndex:i.currentSplitIndex(),allComparisons:i.getAllComparisons(),splitsModified:i.hasBeenModified(),layoutModified:!1},this.mediaQueryChanged=this.mediaQueryChanged.bind(this)}notifyAboutUpdate(){const{serviceWorker:t}=navigator;t&&t.controller&&Rs.toast.warn("A new version of LiveSplit One is available! Click here to reload.",{closeOnClick:!0,onClick:()=>window.location.reload()})}componentDidMount(){this.scrollEvent={handleEvent:t=>this.onScroll(t)},window.addEventListener("wheel",this.scrollEvent),this.rightClickEvent={handleEvent:t=>this.onRightClick(t)},window.addEventListener("contextmenu",this.rightClickEvent,!1),this.resizeEvent={handleEvent:()=>this.handleAutomaticResize()},window.addEventListener("resize",this.resizeEvent,!1),window.onbeforeunload=()=>this.state.splitsModified||this.state.layoutModified?"There are unsaved changes. Do you really want to close LiveSplit One?":void 0,this.isDesktopQuery.addEventListener("change",this.mediaQueryChanged),this.state.isBrowserSource&&(document.body.className="browser-source"),this.handleAutomaticResize();const{serviceWorker:t}=navigator;t&&t.controller&&t.addEventListener("controllerchange",this.notifyAboutUpdate)}componentDidUpdate(){this.handleAutomaticResize()}componentWillUnmount(){window.removeEventListener("wheel",Ls(this.scrollEvent,"A Scroll Event should exist")),window.removeEventListener("contextmenu",Ls(this.rightClickEvent,"A Right Click Event should exist")),window.removeEventListener("resize",Ls(this.resizeEvent,"A Resize Event should exist")),this.state.eventSink[Symbol.dispose](),this.state.layout[Symbol.dispose](),this.state.layoutState[Symbol.dispose](),this.state.hotkeySystem?.[Symbol.dispose](),this.isDesktopQuery.removeEventListener("change",this.mediaQueryChanged);const{serviceWorker:t}=navigator;t&&t.removeEventListener("controllerchange",this.notifyAboutUpdate)}render(){if(this.state.menu.kind===Do.RunEditor)return i.createElement(Pr,{editor:this.state.menu.editor,callbacks:this,runEditorUrlCache:this.state.runEditorUrlCache,allComparisons:this.state.allComparisons,generalSettings:this.state.generalSettings});if(this.state.menu.kind===Do.LayoutEditor)return i.createElement(Ui,{editor:this.state.menu.editor,layoutState:this.state.layoutState,layoutEditorUrlCache:this.state.layoutEditorUrlCache,layoutUrlCache:this.state.layoutUrlCache,layoutWidth:this.state.layoutWidth,layoutHeight:this.state.layoutHeight,generalSettings:this.state.generalSettings,allComparisons:this.state.allComparisons,isDesktop:this.state.isDesktop,eventSink:this.state.eventSink,renderer:this.state.renderer,callbacks:this});if(this.state.menu.kind===Do.SettingsEditor)return i.createElement(Gr,{generalSettings:this.state.generalSettings,hotkeyConfig:this.state.menu.config,urlCache:this.state.layoutUrlCache,callbacks:this,eventSink:this.state.eventSink,serverConnection:this.state.serverConnection,allComparisons:this.state.allComparisons});if(this.state.menu.kind===Do.About)return i.createElement(so,{callbacks:this});if(this.state.menu.kind===Do.Splits)return i.createElement(yo,{generalSettings:this.state.generalSettings,eventSink:this.state.eventSink,openedSplitsKey:this.state.openedSplitsKey,callbacks:this,splitsModified:this.state.splitsModified});if(this.state.menu.kind===Do.Timer)return i.createElement(Kr,{layout:this.state.layout,layoutState:this.state.layoutState,layoutUrlCache:this.state.layoutUrlCache,layoutWidth:this.state.layoutWidth,layoutHeight:this.state.layoutHeight,generalSettings:this.state.generalSettings,isDesktop:this.state.isDesktop,renderWithSidebar:!0,sidebarOpen:this.state.sidebarOpen,eventSink:this.state.eventSink,renderer:this.state.renderer,serverConnection:this.state.serverConnection,callbacks:this,currentComparison:this.state.currentComparison,currentTimingMethod:this.state.currentTimingMethod,currentPhase:this.state.currentPhase,currentSplitIndex:this.state.currentSplitIndex,allComparisons:this.state.allComparisons,splitsModified:this.state.splitsModified,layoutModified:this.state.layoutModified});if(this.state.menu.kind===Do.Layout)return i.createElement(vo,{layout:this.state.layout,layoutState:this.state.layoutState,layoutUrlCache:this.state.layoutUrlCache,layoutWidth:this.state.layoutWidth,layoutHeight:this.state.layoutHeight,generalSettings:this.state.generalSettings,isDesktop:this.state.isDesktop,renderWithSidebar:!0,sidebarOpen:this.state.sidebarOpen,eventSink:this.state.eventSink,renderer:this.state.renderer,serverConnection:this.state.serverConnection,callbacks:this,currentComparison:this.state.currentComparison,currentTimingMethod:this.state.currentTimingMethod,currentPhase:this.state.currentPhase,currentSplitIndex:this.state.currentSplitIndex,allComparisons:this.state.allComparisons,splitsModified:this.state.splitsModified,layoutModified:this.state.layoutModified});throw Error(`Invalid menu: ${this.state.menu}`)}renderViewWithSidebar(t,e){return i.createElement("div",{className:this.state.isDesktop?"":"is-mobile"},i.createElement(r.A,{sidebar:e,docked:this.state.isDesktop,open:this.state.sidebarOpen,transitions:this.state.sidebarTransitionsEnabled,onSetOpen:t=>this.onSetSidebarOpen(t),sidebarClassName:"sidebar",contentClassName:"livesplit-container",overlayClassName:"sidebar-overlay"},!this.state.isDesktop&&!this.state.sidebarOpen&&i.createElement("button",{"aria-label":"Open Sidebar",className:"sidebar-button fa fa-bars",onClick:()=>this.onSetSidebarOpen(!0)}),i.createElement("div",{className:"view-container"},t)))}openTimerView(){this.setState({menu:{kind:Do.Timer},sidebarOpen:!1}),this.state.hotkeySystem.activate()}openSplitsView(){this.setState({menu:{kind:Do.Splits},sidebarOpen:!1}),this.state.hotkeySystem.deactivate()}openLayoutView(){this.setState({menu:{kind:Do.Layout}})}openAboutView(){this.setState({menu:{kind:Do.About},sidebarOpen:!1}),this.state.hotkeySystem.deactivate()}async importSplitsFromFile(t){const e=await ks(t);this.importSplitsFromArrayBuffer(e)}async saveLayout(){try{const t=this.state.layout.settingsAsJson();await async function(t,e,s){const i=await po();await i.put("settings",t,"layout"),await i.put("settings",e,"layoutWidth"),await i.put("settings",s,"layoutHeight")}(t,this.state.storedLayoutWidth,this.state.storedLayoutHeight),this.setState({layoutModified:!1},(()=>this.updateBadge()))}catch(t){Rs.toast.error("Failed to save the layout.")}}async importLayout(){const[t]=await async function(){return Ns(await Cs())}();try{this.importLayoutFromString(t)}catch(t){Rs.toast.error(t.message)}}async importLayoutFromFile(t){const[e]=await Ns(t);this.importLayoutFromString(e)}exportLayout(){const t=this.state.layout.settingsAsJson();As("layout.ls1l",JSON.stringify(t,null,4))}loadDefaultLayout(){const t=wt.defaultLayout();this.setLayout(t)}openRunEditor({splitsKey:t,run:e}){const s=Ls(Qt.new(e),"The Run Editor should always be able to be opened.");this.setState({menu:{kind:Do.RunEditor,editor:s,splitsKey:t},sidebarOpen:!1})}closeRunEditor(t){this.state.menu.kind!==Do.RunEditor&&Ds("No Run Editor to close");const{editor:e,splitsKey:s}=this.state.menu,i=e.close();t?null==s?Ps(this.state.eventSink.setRun(i),"The Run Editor should always return a valid Run."):async function(t,e){try{await co(t,e)}finally{t[Symbol.dispose]()}}(i,s):i[Symbol.dispose](),this.openSplitsView()}setSplitsKey(t){this.setState({openedSplitsKey:t}),void 0!==t&&mo(t)}openLayoutEditor(){this.state.hotkeySystem.deactivate();const t=this.state.layout.clone(),e=Ls(St.new(t),"The Layout Editor should always be able to be opened.");this.setState({menu:{kind:Do.LayoutEditor,editor:e},sidebarOpen:!1})}closeLayoutEditor(t){this.state.menu.kind!==Do.LayoutEditor&&Ds("No Layout Editor to close.");const e=this.state.menu.editor.close();t?this.setLayout(e):e[Symbol.dispose](),this.openTimerView()}openSettingsEditor(){this.state.hotkeySystem.deactivate(),this.setState({menu:{kind:Do.SettingsEditor,config:this.state.hotkeySystem.config()},sidebarOpen:!1})}async closeSettingsEditor(t,e){const s=this.state.menu;if(s.kind!==Do.SettingsEditor&&Ds("No Settings Editor to close."),t){try{const t=s.config.asJson();await async function(t){const e=await po();await e.put("settings",t,"hotkeys")}(t)}catch{Rs.toast.error("Failed to save the hotkey settings.")}try{await async function(t){const e=await po();await e.put("settings",t,"generalSettings")}(e)}catch{Rs.toast.error("Failed to save the general settings.")}this.state.hotkeySystem.setConfig(s.config),this.setState({generalSettings:e})}else s.config[Symbol.dispose]();this.openTimerView()}onResize(t,e){this.setState({layoutWidth:t,layoutHeight:e,storedLayoutWidth:t,storedLayoutHeight:e,layoutModified:!0},(()=>this.updateBadge()))}getDefaultRun(){const t=Kt.new();return t.pushSegment(pe.new("Time")),t}handleAutomaticResize(){if(!this.state.isDesktop){if("Vertical"!==this.state.layoutState.asJson().direction)return;const t=window.innerWidth;t!==this.state.layoutWidth&&this.setState({layoutWidth:t});const e=this.state.generalSettings.showControlButtons,s=this.state.generalSettings.showManualGameTime;let i=window.innerHeight-Ro;e&&s?i-=2*Ao+Lo+3*Ro:e?i-=2*Ao+2*Ro:s&&(i-=Lo+Ro),i!==this.state.layoutHeight&&this.setState({layoutHeight:i})}}mediaQueryChanged(){const t=this.isDesktopQuery.matches&&!this.state.isBrowserSource;this.setState({isDesktop:t,layoutWidth:t?this.state.storedLayoutWidth:this.state.layoutWidth,layoutHeight:t?this.state.storedLayoutHeight:this.state.layoutHeight,sidebarTransitionsEnabled:!1})}importLayoutFromString(t){let e=null;try{e=wt.parseJson(JSON.parse(t))}catch(t){}if(null===e&&(e=wt.parseOriginalLivesplitString(t)),null===e)throw Error("The layout could not be loaded. This may not be a valid LiveSplit or LiveSplit One Layout.");this.setLayout(e)}setLayout(t){this.state.layout[Symbol.dispose](),this.setState({layout:t,layoutModified:!0},(()=>this.updateBadge()))}setRun(t,e){Is(this.state.eventSink.setRun(t),e),this.setSplitsKey(void 0)}importSplitsFromArrayBuffer(t){const e={stack:[],error:void 0,hasError:!1};try{const[s]=t,i=To(e,Kt.parseArray(new Uint8Array(s),""),!1);if(!i.parsedSuccessfully())throw Error("Couldn't parse the splits.");{const t=i.unwrap();this.setRun(t,(()=>{throw Error("Empty Splits are not supported.")}))}}catch(t){e.error=t,e.hasError=!0}finally{No(e)}}async loadFromSplitsIO(t){try{const e=await Hs(t);this.setRun(e,(()=>Rs.toast.error("The downloaded splits are not valid.")))}catch(t){Rs.toast.error("Failed to download the splits.")}}onScroll(t){const e=Math.sign(-t.deltaY);1===e?this.state.layout.scrollUp():-1===e&&this.state.layout.scrollDown()}onSetSidebarOpen(t){this.state.isDesktop||this.setState({sidebarOpen:t,sidebarTransitionsEnabled:!0})}onRightClick(t){this.onSetSidebarOpen(!0),t.preventDefault()}async saveSplits(){try{const t=await ho((t=>{t(this.state.eventSink.getRun(),this.state.eventSink.saveAsLssBytes()),this.state.eventSink.markAsUnmodified()}),this.state.openedSplitsKey);this.state.openedSplitsKey!==t&&this.setSplitsKey(t)}catch(t){Rs.toast.error("Failed to save the splits.")}}onServerConnectionOpened(t){this.setState({serverConnection:t})}onServerConnectionClosed(){this.setState({serverConnection:null})}currentComparisonChanged(){if(null!=this.state){const t=this.state.eventSink.currentComparison();(async()=>{try{await async function(t){const e=await po();await e.put("settings",t,"comparison")}(t)}catch{}})(),this.setState({currentComparison:t})}}currentTimingMethodChanged(){if(null!=this.state){const t=this.state.eventSink.currentTimingMethod();(async()=>{try{await async function(t){const e=await po();await e.put("settings",t,"timingMethod")}(t)}catch{}})(),this.setState({currentTimingMethod:t})}}currentPhaseChanged(){null!=this.state&&this.setState({currentPhase:this.state.eventSink.currentPhase()})}currentSplitChanged(){null!=this.state&&this.setState({currentSplitIndex:this.state.eventSink.currentSplitIndex()})}comparisonsListChanged(){null!=this.state&&this.setState({allComparisons:this.state.eventSink.getAllComparisons()})}onReset(){this.state.generalSettings.saveOnReset&&this.saveSplits()}splitsModifiedChanged(){if(null!=this.state){const t=this.state.eventSink.hasBeenModified();this.setState({splitsModified:t},(()=>this.updateBadge()))}}updateBadge(){if(this.state.splitsModified||this.state.layoutModified){try{navigator?.setAppBadge()}catch{}document.title="LiveSplit One ●"}else{try{navigator?.clearAppBadge()}catch{}document.title="LiveSplit One"}}}},4862:(t,e,s)=>{let i;function r(t){i=t}s.d(e,{$z:()=>ve,At:()=>ut,B6:()=>it,BO:()=>de,BU:()=>ee,BZ:()=>I,D4:()=>tt,DI:()=>ae,DW:()=>xe,Dq:()=>et,Dr:()=>Ot,Fm:()=>jt,Fq:()=>be,GI:()=>Pt,GK:()=>V,Hb:()=>ce,Hh:()=>Q,Hn:()=>nt,Ho:()=>zt,IH:()=>gt,JB:()=>le,KT:()=>Ee,KY:()=>P,Kc:()=>xt,LC:()=>G,LY:()=>ue,Lo:()=>Nt,MG:()=>ge,N0:()=>Se,O$:()=>Zt,OE:()=>Z,Ov:()=>Ht,PR:()=>j,Pe:()=>It,Pf:()=>Ct,Py:()=>Wt,QR:()=>$,Qn:()=>fe,Qo:()=>Lt,R2:()=>mt,RX:()=>kt,Rg:()=>_e,Ro:()=>wt,SC:()=>at,T:()=>Ut,TL:()=>ft,Uh:()=>re,Up:()=>qt,Vl:()=>ne,WN:()=>rt,XB:()=>W,XV:()=>Kt,XZ:()=>Mt,Xh:()=>he,YM:()=>L,Z3:()=>ct,_E:()=>te,_h:()=>Ft,_m:()=>M,aN:()=>X,bk:()=>Qt,bs:()=>Gt,cM:()=>Jt,cX:()=>vt,cq:()=>J,cr:()=>me,eE:()=>K,eU:()=>z,f0:()=>pt,fN:()=>Tt,fi:()=>ye,g_:()=>Xt,h1:()=>At,hY:()=>Y,iE:()=>bt,iV:()=>Dt,jq:()=>$t,kh:()=>St,lI:()=>r,lT:()=>ot,n1:()=>Bt,ol:()=>dt,pl:()=>Vt,pr:()=>st,qN:()=>F,qc:()=>A,qv:()=>O,rO:()=>se,sW:()=>q,tt:()=>ht,uH:()=>D,uJ:()=>pe,uP:()=>Yt,vA:()=>_t,vU:()=>Et,w:()=>we,wC:()=>B,wI:()=>oe,xZ:()=>H,yF:()=>lt,yI:()=>yt,yc:()=>U,z3:()=>ie,zt:()=>Rt});const o=new Array(128).fill(void 0);function n(t){return o[t]}o.push(void 0,null,!0,!1);let a=o.length;function l(t){const e=n(t);return function(t){t<132||(o[t]=a,a=t)}(t),e}function p(t){a===o.length&&o.push(o.length+1);const e=a;return a=o[e],o[e]=t,e}let d=new("undefined"==typeof TextDecoder?(0,module.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});d.decode();let c=null;function h(){return null!==c&&0!==c.byteLength||(c=new Uint8Array(i.memory.buffer)),c}function u(t,e){return t>>>=0,d.decode(h().subarray(t,t+e))}let m=0,g=new("undefined"==typeof TextEncoder?(0,module.require)("util").TextEncoder:TextEncoder)("utf-8");const f="function"==typeof g.encodeInto?function(t,e){return g.encodeInto(t,e)}:function(t,e){const s=g.encode(t);return e.set(s),{read:t.length,written:s.length}};function b(t,e,s){if(void 0===s){const s=g.encode(t),i=e(s.length,1)>>>0;return h().subarray(i,i+s.length).set(s),m=s.length,i}let i=t.length,r=e(i,1)>>>0;const o=h();let n=0;for(;n<i;n++){const e=t.charCodeAt(n);if(e>127)break;o[r+n]=e}if(n!==i){0!==n&&(t=t.slice(n)),r=s(r,i,i=n+3*t.length,1)>>>0;const e=h().subarray(r+n,r+i);n+=f(t,e).written,r=s(r,i,n,1)>>>0}return m=n,r}function w(t){return null==t}let y=null;function v(){return null!==y&&0!==y.byteLength||(y=new Int32Array(i.memory.buffer)),y}let S=null;const x="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>{i.__wbindgen_export_2.get(t.dtor)(t.a,t.b)}));function _(t,e,s,r){const o={a:t,b:e,cnt:1,dtor:s},n=(...t)=>{o.cnt++;const e=o.a;o.a=0;try{return r(e,o.b,...t)}finally{0==--o.cnt?(i.__wbindgen_export_2.get(o.dtor)(e,o.b),x.unregister(o)):o.a=e}};return n.original=o,x.register(n,o,o),n}function E(t,e,s){i.__wbindgen_export_3(t,e,p(s))}function C(t,e){i.__wbindgen_export_4(t,e)}let k=null;function T(t,e){try{return t.apply(this,e)}catch(t){i.__wbindgen_export_6(p(t))}}const N="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_webeventsink_free(t>>>0)));class A{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,N.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_webeventsink_free(t)}constructor(t){const e=i.webeventsink_new(p(t));return this.__wbg_ptr=e>>>0,this}intoGeneric(){const t=this.__destroy_into_raw();return i.webeventsink_intoGeneric(t)>>>0}}const R="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_webrenderer_free(t>>>0)));class L{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,R.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_webrenderer_free(t)}constructor(){const t=i.webrenderer_new();return this.__wbg_ptr=t>>>0,this}element(){return l(i.webrenderer_element(this.__wbg_ptr))}render(t,e){try{const a=i.__wbindgen_add_to_stack_pointer(-16);i.webrenderer_render(a,this.__wbg_ptr,t,e);var s=v()[a/4+0],r=v()[a/4+1];let l;return 0!==s&&(l=(o=s,n=r,o>>>=0,(null!==k&&0!==k.byteLength||(k=new Float32Array(i.memory.buffer)),k).subarray(o/4,o/4+n)).slice(),i.__wbindgen_export_5(s,4*r,4)),l}finally{i.__wbindgen_add_to_stack_pointer(16)}var o,n}}function D(t){l(t)}function O(t,e,s,i,r,o,n){return p(new Date(t>>>0,e,s,i,r,o,n))}function P(t){return n(t).getTimezoneOffset()}function I(t){return p(n(t))}function V(t){let e;try{e=n(t)instanceof Window}catch(t){e=!1}return e}function B(){return T((function(t,e,s,i){n(t).removeEventListener(u(e,s),n(i))}),arguments)}function z(t,e){n(t).clearInterval(e)}function G(t){const e=l(t).original;return 1==e.cnt--&&(e.a=0,!0)}function U(t,e){return p(u(t,e))}function M(){return T((function(t,e,s){return p(n(t).call(n(e),n(s)))}),arguments)}function F(t,e){const s=n(e),r="string"==typeof s?s:void 0;var o=w(r)?0:b(r,i.__wbindgen_export_0,i.__wbindgen_export_1),a=m;v()[t/4+1]=a,v()[t/4+0]=o}function H(t){return n(t).now()}function W(){return T((function(t,e){return p(Reflect.get(n(t),n(e)))}),arguments)}function j(t){return"function"==typeof n(t)}function J(){return T((function(t,e){return p(n(t).call(n(e)))}),arguments)}function $(t){return p(t)}function K(){return T((function(t,e,s,i){return p(n(t).call(n(e),n(s),n(i)))}),arguments)}function q(t,e){const s=n(e),r="number"==typeof s?s:void 0;(null!==S&&0!==S.byteLength||(S=new Float64Array(i.memory.buffer)),S)[t/8+1]=w(r)?0:r,v()[t/4+0]=!w(r)}function Y(t){const e=n(t).document;return w(e)?0:p(e)}function Q(){return T((function(t,e,s){return p(n(t).createElement(u(e,s)))}),arguments)}function Z(){return T((function(t,e,s,i,r){n(t).setAttribute(u(e,s),u(i,r))}),arguments)}function X(){return T((function(t,e,s){n(t).append(n(e),n(s))}),arguments)}function tt(){return T((function(t,e,s){const i=n(t).getContext(u(e,s));return w(i)?0:p(i)}),arguments)}function et(){return T((function(t){return p(String.fromCodePoint(t>>>0))}),arguments)}function st(){return T((function(){return p(new Path2D)}),arguments)}function it(t,e,s){n(t).moveTo(e,s)}function rt(t,e,s){n(t).lineTo(e,s)}function ot(t){n(t).closePath()}function nt(t){return n(t).devicePixelRatio}function at(t){return p(n(t).getBoundingClientRect())}function lt(t){return n(t).width}function pt(t){return n(t).height}function dt(t){return n(t).width}function ct(t){return n(t).height}function ht(t,e){n(t).width=e>>>0}function ut(t,e){n(t).height=e>>>0}function mt(){return T((function(t){n(t).resetTransform()}),arguments)}function gt(t,e,s,i,r){n(t).clearRect(e,s,i,r)}function ft(){return T((function(t,e,s,i,r,o,a){n(t).setTransform(e,s,i,r,o,a)}),arguments)}function bt(t,e,s,i,r){n(t).fillRect(e,s,i,r)}function wt(t,e){n(t).filter=n(e)}function yt(){return T((function(t,e,s,i,r,o){n(t).drawImage(n(e),s,i,r,o)}),arguments)}function vt(){return T((function(){return p(self.self)}),arguments)}function St(){return T((function(){return p(window.window)}),arguments)}function xt(){return T((function(){return p(globalThis.globalThis)}),arguments)}function _t(){return T((function(){return p(global.global)}),arguments)}function Et(t){return void 0===n(t)}function Ct(t,e){return p(new Function(u(t,e)))}function kt(){return Date.now()}function Tt(t){return n(t).width}function Nt(t){return n(t).height}function At(t,e){n(t).font=n(e)}function Rt(t,e){n(t).fontKerning=n(e)}function Lt(){return T((function(t,e){return p(n(t).measureText(n(e)))}),arguments)}function Dt(t){return n(t).fontBoundingBoxAscent}function Ot(t){return n(t).fontBoundingBoxDescent}function Pt(t){return n(t).width}function It(){return T((function(t,e,s,i,r,o){n(t).arc(e,s,i,r,o)}),arguments)}function Vt(t,e){n(t).fill(n(e))}function Bt(t,e){n(t).lineWidth=e}function zt(t,e){n(t).strokeStyle=n(e)}function Gt(t,e){n(t).stroke(n(e))}function Ut(t,e,s,i,r){return p(n(t).createLinearGradient(e,s,i,r))}function Mt(){return T((function(t,e,s,i){n(t).addColorStop(e,u(s,i))}),arguments)}function Ft(t,e){n(t).fillStyle=n(e)}function Ht(){return T((function(t,e,s,i){n(t).fillText(n(e),s,i)}),arguments)}function Wt(){return p(i.memory)}function jt(t){return p(n(t).buffer)}function Jt(t,e,s){return p(new Uint8Array(n(t),e>>>0,s>>>0))}function $t(t){return p(Array.of(n(t)))}function Kt(){return T((function(t){return p(new Blob(n(t)))}),arguments)}function qt(){return T((function(t,e){return p(n(t).createImageBitmap(n(e)))}),arguments)}function Yt(t,e,s){return p(n(t).then(n(e),n(s)))}function Qt(){return T((function(t){return p(n(t).getGamepads())}),arguments)}function Zt(t){return n(t).length}function Xt(t,e){return p(n(t)[e>>>0])}function te(t){let e;try{e=n(t)instanceof Gamepad}catch(t){e=!1}return e}function ee(t){return p(n(t).buttons)}function se(t){let e;try{e=n(t)instanceof GamepadButton}catch(t){e=!1}return e}function ie(t){return n(t).pressed}function re(t){let e;try{e=n(t)instanceof KeyboardEvent}catch(t){e=!1}return e}function oe(t){return n(t).repeat}function ne(t,e){const s=b(n(e).code,i.__wbindgen_export_0,i.__wbindgen_export_1),r=m;v()[t/4+1]=r,v()[t/4+0]=s}function ae(t){return n(t).shiftKey}function le(t){return n(t).ctrlKey}function pe(t){return n(t).altKey}function de(t){return n(t).metaKey}function ce(t){n(t).preventDefault()}function he(){return T((function(t,e,s,i){n(t).addEventListener(u(e,s),n(i))}),arguments)}function ue(t){return p(n(t).navigator)}function me(t){let e;try{e=n(t)instanceof Promise}catch(t){e=!1}return e}function ge(t,e){return p(n(t).then(n(e)))}function fe(t,e){throw new Error(u(t,e))}function be(t){return p(n(t).queueMicrotask)}function we(t){return p(Promise.resolve(n(t)))}function ye(t){queueMicrotask(n(t))}function ve(){return T((function(t,e,s){return n(t).setInterval(n(e),s)}),arguments)}function Se(t,e,s){return p(_(t,e,175,E))}function xe(t,e,s){return p(_(t,e,175,E))}function _e(t,e,s){return p(_(t,e,175,E))}function Ee(t,e,s){return p(_(t,e,175,C))}},8046:(t,e,s)=>{var i=s.w[t.id];for(var r in s.r(e),i)r&&(e[r]=i[r]);s(4862),i[""]()}}]);